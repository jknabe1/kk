var k5=Object.create;var Xd=Object.defineProperty;var N5=Object.getOwnPropertyDescriptor;var D5=Object.getOwnPropertyNames;var O5=Object.getPrototypeOf,L5=Object.prototype.hasOwnProperty;var B=(i,e)=>()=>(i&&(e=i(i=0)),e);var ce=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),ii=(i,e)=>{for(var t in e)Xd(i,t,{get:e[t],enumerable:!0})},Gw=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of D5(e))!L5.call(i,n)&&n!==t&&Xd(i,n,{get:()=>e[n],enumerable:!(r=N5(e,n))||r.enumerable});return i};var fe=(i,e,t)=>(t=i!=null?k5(O5(i)):{},Gw(e||!i||!i.__esModule?Xd(t,"default",{value:i,enumerable:!0}):t,i)),ku=i=>Gw(Xd({},"__esModule",{value:!0}),i);function Do(i,e){for(var t in e)i[t]=e[t];return i}function ix(i){var e=i.parentNode;e&&e.removeChild(i)}function Vt(i,e,t){var r,n,s,l={};for(s in e)s=="key"?r=e[s]:s=="ref"?n=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?Ou.call(arguments,2):t),typeof i=="function"&&i.defaultProps!=null)for(s in i.defaultProps)l[s]===void 0&&(l[s]=i.defaultProps[s]);return Nu(i,l,r,n,null)}function Nu(i,e,t,r,n){var s={type:i,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:n??++Jw};return n==null&&Te.vnode!=null&&Te.vnode(s),s}function ve(){return{current:null}}function Q(i){return i.children}function oe(i,e){this.props=i,this.context=e}function Du(i,e){if(e==null)return i.__?Du(i.__,i.__.__k.indexOf(i)+1):null;for(var t;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null)return t.__e;return typeof i.type=="function"?Du(i):null}function rx(i){var e,t;if((i=i.__)!=null&&i.__c!=null){for(i.__e=i.__c.base=null,e=0;e<i.__k.length;e++)if((t=i.__k[e])!=null&&t.__e!=null){i.__e=i.__c.base=t.__e;break}return rx(i)}}function Lm(i){(!i.__d&&(i.__d=!0)&&Zs.push(i)&&!Jd.__r++||Yw!==Te.debounceRendering)&&((Yw=Te.debounceRendering)||Qw)(Jd)}function Jd(){var i,e,t,r,n,s,l,u;for(Zs.sort(Om);i=Zs.shift();)i.__d&&(e=Zs.length,r=void 0,n=void 0,l=(s=(t=i).__v).__e,(u=t.__P)&&(r=[],(n=Do({},s)).__v=s.__v+1,Fm(u,s,n,t.__n,u.ownerSVGElement!==void 0,s.__h!=null?[l]:null,r,l??Du(s),s.__h),lx(r,s),s.__e!=l&&rx(s)),Zs.length>e&&Zs.sort(Om));Jd.__r=0}function nx(i,e,t,r,n,s,l,u,c,d){var f,g,v,S,C,_,M,T=r&&r.__k||tx,F=T.length;for(t.__k=[],f=0;f<e.length;f++)if((S=t.__k[f]=(S=e[f])==null||typeof S=="boolean"||typeof S=="function"?null:typeof S=="string"||typeof S=="number"||typeof S=="bigint"?Nu(null,S,null,null,S):Array.isArray(S)?Nu(Q,{children:S},null,null,null):S.__b>0?Nu(S.type,S.props,S.key,S.ref?S.ref:null,S.__v):S)!=null){if(S.__=t,S.__b=t.__b+1,(v=T[f])===null||v&&S.key==v.key&&S.type===v.type)T[f]=void 0;else for(g=0;g<F;g++){if((v=T[g])&&S.key==v.key&&S.type===v.type){T[g]=void 0;break}v=null}Fm(i,S,v=v||Zd,n,s,l,u,c,d),C=S.__e,(g=S.ref)&&v.ref!=g&&(M||(M=[]),v.ref&&M.push(v.ref,null,S),M.push(g,S.__c||C,S)),C!=null?(_==null&&(_=C),typeof S.type=="function"&&S.__k===v.__k?S.__d=c=ox(S,c,i):c=sx(i,S,v,T,C,c),typeof t.type=="function"&&(t.__d=c)):c&&v.__e==c&&c.parentNode!=i&&(c=Du(v))}for(t.__e=_,f=F;f--;)T[f]!=null&&(typeof t.type=="function"&&T[f].__e!=null&&T[f].__e==t.__d&&(t.__d=ax(r).nextSibling),cx(T[f],T[f]));if(M)for(f=0;f<M.length;f++)ux(M[f],M[++f],M[++f])}function ox(i,e,t){for(var r,n=i.__k,s=0;n&&s<n.length;s++)(r=n[s])&&(r.__=i,e=typeof r.type=="function"?ox(r,e,t):sx(t,r,r,n,r.__e,e));return e}function jn(i,e){return e=e||[],i==null||typeof i=="boolean"||(Array.isArray(i)?i.some(function(t){jn(t,e)}):e.push(i)),e}function sx(i,e,t,r,n,s){var l,u,c;if(e.__d!==void 0)l=e.__d,e.__d=void 0;else if(t==null||n!=s||n.parentNode==null)e:if(s==null||s.parentNode!==i)i.appendChild(n),l=null;else{for(u=s,c=0;(u=u.nextSibling)&&c<r.length;c+=1)if(u==n)break e;i.insertBefore(n,s),l=s}return l!==void 0?l:n.nextSibling}function ax(i){var e,t,r;if(i.type==null||typeof i.type=="string")return i.__e;if(i.__k){for(e=i.__k.length-1;e>=0;e--)if((t=i.__k[e])&&(r=ax(t)))return r}return null}function z5(i,e,t,r,n){var s;for(s in t)s==="children"||s==="key"||s in e||Qd(i,s,null,t[s],r);for(s in e)n&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||t[s]===e[s]||Qd(i,s,e[s],t[s],r)}function Kw(i,e,t){e[0]==="-"?i.setProperty(e,t??""):i[e]=t==null?"":typeof t!="number"||F5.test(e)?t:t+"px"}function Qd(i,e,t,r,n){var s;e:if(e==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(e in r)t&&e in t||Kw(i.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Kw(i.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in i?e.toLowerCase().slice(2):e.slice(2),i.l||(i.l={}),i.l[e+s]=t,t?r||i.addEventListener(e,s?Zw:Xw,s):i.removeEventListener(e,s?Zw:Xw,s);else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in i)try{i[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?i.removeAttribute(e):i.setAttribute(e,t))}}function Xw(i){return this.l[i.type+!1](Te.event?Te.event(i):i)}function Zw(i){return this.l[i.type+!0](Te.event?Te.event(i):i)}function Fm(i,e,t,r,n,s,l,u,c){var d,f,g,v,S,C,_,M,T,F,H,L,z,ie,X,N=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(c=t.__h,u=e.__e=t.__e,e.__h=null,s=[u]),(d=Te.__b)&&d(e);try{e:if(typeof N=="function"){if(M=e.props,T=(d=N.contextType)&&r[d.__c],F=d?T?T.props.value:d.__:r,t.__c?_=(f=e.__c=t.__c).__=f.__E:("prototype"in N&&N.prototype.render?e.__c=f=new N(M,F):(e.__c=f=new oe(M,F),f.constructor=N,f.render=U5),T&&T.sub(f),f.props=M,f.state||(f.state={}),f.context=F,f.__n=r,g=f.__d=!0,f.__h=[],f._sb=[]),f.__s==null&&(f.__s=f.state),N.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=Do({},f.__s)),Do(f.__s,N.getDerivedStateFromProps(M,f.__s))),v=f.props,S=f.state,f.__v=e,g)N.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(N.getDerivedStateFromProps==null&&M!==v&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(M,F),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(M,f.__s,F)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(f.props=M,f.state=f.__s,f.__d=!1),f.__e=!1,e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(ee){ee&&(ee.__=e)}),H=0;H<f._sb.length;H++)f.__h.push(f._sb[H]);f._sb=[],f.__h.length&&l.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(M,f.__s,F),f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(v,S,C)})}if(f.context=F,f.props=M,f.__P=i,L=Te.__r,z=0,"prototype"in N&&N.prototype.render){for(f.state=f.__s,f.__d=!1,L&&L(e),d=f.render(f.props,f.state,f.context),ie=0;ie<f._sb.length;ie++)f.__h.push(f._sb[ie]);f._sb=[]}else do f.__d=!1,L&&L(e),d=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++z<25);f.state=f.__s,f.getChildContext!=null&&(r=Do(Do({},r),f.getChildContext())),g||f.getSnapshotBeforeUpdate==null||(C=f.getSnapshotBeforeUpdate(v,S)),X=d!=null&&d.type===Q&&d.key==null?d.props.children:d,nx(i,Array.isArray(X)?X:[X],e,t,r,n,s,l,u,c),f.base=e.__e,e.__h=null,f.__h.length&&l.push(f),_&&(f.__E=f.__=null),f.__e=!1}else s==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=H5(t.__e,e,t,r,n,s,l,c);(d=Te.diffed)&&d(e)}catch(ee){e.__v=null,(c||s!=null)&&(e.__e=u,e.__h=!!c,s[s.indexOf(u)]=null),Te.__e(ee,e,t)}}function lx(i,e){Te.__c&&Te.__c(e,i),i.some(function(t){try{i=t.__h,t.__h=[],i.some(function(r){r.call(t)})}catch(r){Te.__e(r,t.__v)}})}function H5(i,e,t,r,n,s,l,u){var c,d,f,g=t.props,v=e.props,S=e.type,C=0;if(S==="svg"&&(n=!0),s!=null){for(;C<s.length;C++)if((c=s[C])&&"setAttribute"in c==!!S&&(S?c.localName===S:c.nodeType===3)){i=c,s[C]=null;break}}if(i==null){if(S===null)return document.createTextNode(v);i=n?document.createElementNS("http://www.w3.org/2000/svg",S):document.createElement(S,v.is&&v),s=null,u=!1}if(S===null)g===v||u&&i.data===v||(i.data=v);else{if(s=s&&Ou.call(i.childNodes),d=(g=t.props||Zd).dangerouslySetInnerHTML,f=v.dangerouslySetInnerHTML,!u){if(s!=null)for(g={},C=0;C<i.attributes.length;C++)g[i.attributes[C].name]=i.attributes[C].value;(f||d)&&(f&&(d&&f.__html==d.__html||f.__html===i.innerHTML)||(i.innerHTML=f&&f.__html||""))}if(z5(i,v,g,n,u),f)e.__k=[];else if(C=e.props.children,nx(i,Array.isArray(C)?C:[C],e,t,r,n&&S!=="foreignObject",s,l,s?s[0]:t.__k&&Du(t,0),u),s!=null)for(C=s.length;C--;)s[C]!=null&&ix(s[C]);u||("value"in v&&(C=v.value)!==void 0&&(C!==i.value||S==="progress"&&!C||S==="option"&&C!==g.value)&&Qd(i,"value",C,g.value,!1),"checked"in v&&(C=v.checked)!==void 0&&C!==i.checked&&Qd(i,"checked",C,g.checked,!1))}return i}function ux(i,e,t){try{typeof i=="function"?i(e):i.current=e}catch(r){Te.__e(r,t)}}function cx(i,e,t){var r,n;if(Te.unmount&&Te.unmount(i),(r=i.ref)&&(r.current&&r.current!==i.__e||ux(r,null,e)),(r=i.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Te.__e(s,e)}r.base=r.__P=null,i.__c=void 0}if(r=i.__k)for(n=0;n<r.length;n++)r[n]&&cx(r[n],e,t||typeof i.type!="function");t||i.__e==null||ix(i.__e),i.__=i.__e=i.__d=void 0}function U5(i,e,t){return this.constructor(i,t)}function os(i,e,t){var r,n,s;Te.__&&Te.__(i,e),n=(r=typeof t=="function")?null:t&&t.__k||e.__k,s=[],Fm(e,i=(!r&&t||e).__k=Vt(Q,null,[i]),n||Zd,Zd,e.ownerSVGElement!==void 0,!r&&t?[t]:n?null:e.firstChild?Ou.call(e.childNodes):null,s,!r&&t?t:n?n.__e:e.firstChild,r),lx(s,i)}function Fu(i,e){os(i,e,Fu)}function dx(i,e,t){var r,n,s,l=Do({},i.props);for(s in e)s=="key"?r=e[s]:s=="ref"?n=e[s]:l[s]=e[s];return arguments.length>2&&(l.children=arguments.length>3?Ou.call(arguments,2):t),Nu(i.type,l,r||i.key,n||i.ref,null)}function Gn(i,e){var t={__c:e="__cC"+ex++,__:i,Consumer:function(r,n){return r.children(n)},Provider:function(r){var n,s;return this.getChildContext||(n=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&n.some(function(u){u.__e=!0,Lm(u)})},this.sub=function(l){n.push(l);var u=l.componentWillUnmount;l.componentWillUnmount=function(){n.splice(n.indexOf(l),1),u&&u.call(l)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}var Ou,Te,Jw,Lu,Zs,Yw,Qw,Om,ex,Zd,tx,F5,Ce=B(()=>{Zd={},tx=[],F5=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;Ou=tx.slice,Te={__e:function(i,e,t,r){for(var n,s,l;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(i)),l=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(i,r||{}),l=n.__d),l)return n.__E=n}catch(u){i=u}throw i}},Jw=0,Lu=function(i){return i!=null&&i.constructor===void 0},oe.prototype.setState=function(i,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Do({},this.state),typeof i=="function"&&(i=i(Do({},t),this.props)),i&&Do(t,i),i!=null&&this.__v&&(e&&this._sb.push(e),Lm(this))},oe.prototype.forceUpdate=function(i){this.__v&&(this.__e=!0,i&&this.__h.push(i),Lm(this))},oe.prototype.render=Q,Zs=[],Qw=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Om=function(i,e){return i.__v.__b-e.__v.__b},Jd.__r=0,ex=0});function Js(i,e){Te.__h&&Te.__h(Bt,i,tl||e),tl=0;var t=Bt.__H||(Bt.__H={__:[],__h:[]});return i>=t.__.length&&t.__.push({__V:ep}),t.__[i]}function il(i){return tl=1,Qs(wx,i)}function Qs(i,e,t){var r=Js(ss++,2);if(r.t=i,!r.__c&&(r.__=[t?t(e):wx(void 0,e),function(u){var c=r.__N?r.__N[0]:r.__[0],d=r.t(c,u);c!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Bt,!Bt.u)){var n=function(u,c,d){if(!r.__c.__H)return!0;var f=r.__c.__H.__.filter(function(v){return v.__c});if(f.every(function(v){return!v.__N}))return!s||s.call(this,u,c,d);var g=!1;return f.forEach(function(v){if(v.__N){var S=v.__[0];v.__=v.__N,v.__N=void 0,S!==v.__[0]&&(g=!0)}}),!(!g&&r.__c.props===u)&&(!s||s.call(this,u,c,d))};Bt.u=!0;var s=Bt.shouldComponentUpdate,l=Bt.componentWillUpdate;Bt.componentWillUpdate=function(u,c,d){if(this.__e){var f=s;s=void 0,n(u,c,d),s=f}l&&l.call(this,u,c,d)},Bt.shouldComponentUpdate=n}return r.__N||r.__}function ea(i,e){var t=Js(ss++,3);!Te.__s&&Wm(t.__H,e)&&(t.__=i,t.i=e,Bt.__H.__h.push(t))}function as(i,e){var t=Js(ss++,4);!Te.__s&&Wm(t.__H,e)&&(t.__=i,t.i=e,Bt.__h.push(t))}function Oo(i){return tl=5,Ai(function(){return{current:i}},[])}function Um(i,e,t){tl=6,as(function(){return typeof i=="function"?(i(e()),function(){return i(null)}):i?(i.current=e(),function(){return i.current=null}):void 0},t==null?t:t.concat(i))}function Ai(i,e){var t=Js(ss++,7);return Wm(t.__H,e)?(t.__V=i(),t.i=e,t.__h=i,t.__V):t.__}function qm(i,e){return tl=8,Ai(function(){return i},e)}function Yn(i){var e=Bt.context[i.__c],t=Js(ss++,9);return t.c=i,e?(t.__==null&&(t.__=!0,e.sub(Bt)),e.props.value):i.__}function ip(i,e){Te.useDebugValue&&Te.useDebugValue(e?e(i):i)}function q5(i){var e=Js(ss++,10),t=il();return e.__=i,Bt.componentDidCatch||(Bt.componentDidCatch=function(r,n){e.__&&e.__(r,n),t[1](r)}),[t[0],function(){t[1](void 0)}]}function Bm(){var i=Js(ss++,11);if(!i.__){for(var e=Bt.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);i.__="P"+t[0]+"-"+t[1]++}return i.__}function B5(){for(var i;i=yx.shift();)if(i.__P&&i.__H)try{i.__H.__h.forEach(tp),i.__H.__h.forEach(Hm),i.__H.__h=[]}catch(e){i.__H.__h=[],Te.__e(e,i.__v)}}function W5(i){var e,t=function(){clearTimeout(r),bx&&cancelAnimationFrame(e),setTimeout(i)},r=setTimeout(t,100);bx&&(e=requestAnimationFrame(t))}function tp(i){var e=Bt,t=i.__c;typeof t=="function"&&(i.__c=void 0,t()),Bt=e}function Hm(i){var e=Bt;i.__c=i.__(),Bt=e}function Wm(i,e){return!i||i.length!==e.length||e.some(function(t,r){return t!==i[r]})}function wx(i,e){return typeof e=="function"?e(i):e}var ss,Bt,zm,px,tl,yx,ep,hx,fx,mx,gx,vx,bx,ta=B(()=>{Ce();tl=0,yx=[],ep=[],hx=Te.__b,fx=Te.__r,mx=Te.diffed,gx=Te.__c,vx=Te.unmount;Te.__b=function(i){Bt=null,hx&&hx(i)},Te.__r=function(i){fx&&fx(i),ss=0;var e=(Bt=i.__c).__H;e&&(zm===Bt?(e.__h=[],Bt.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=ep,t.__N=t.i=void 0})):(e.__h.forEach(tp),e.__h.forEach(Hm),e.__h=[])),zm=Bt},Te.diffed=function(i){mx&&mx(i);var e=i.__c;e&&e.__H&&(e.__H.__h.length&&(yx.push(e)!==1&&px===Te.requestAnimationFrame||((px=Te.requestAnimationFrame)||W5)(B5)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==ep&&(t.__=t.__V),t.i=void 0,t.__V=ep})),zm=Bt=null},Te.__c=function(i,e){e.some(function(t){try{t.__h.forEach(tp),t.__h=t.__h.filter(function(r){return!r.__||Hm(r)})}catch(r){e.some(function(n){n.__h&&(n.__h=[])}),e=[],Te.__e(r,t.__v)}}),gx&&gx(i,e)},Te.unmount=function(i){vx&&vx(i);var e,t=i.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{tp(r)}catch(n){e=n}}),t.__H=void 0,e&&Te.__e(e,t.__v))};bx=typeof requestAnimationFrame=="function"});var Zx={};ii(Zx,{Children:()=>kx,Component:()=>oe,Fragment:()=>Q,PureComponent:()=>xi,StrictMode:()=>jx,Suspense:()=>zu,SuspenseList:()=>rl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:()=>Ux,cloneElement:()=>Bx,createContext:()=>Gn,createElement:()=>Vt,createFactory:()=>qx,createPortal:()=>Ge,createRef:()=>ve,default:()=>Be,findDOMNode:()=>$x,flushSync:()=>Vx,forwardRef:()=>Kn,hydrate:()=>Hx,isValidElement:()=>Gm,lazy:()=>Lx,memo:()=>Tx,render:()=>zx,startTransition:()=>Ym,unmountComponentAtNode:()=>Wx,unstable_batchedUpdates:()=>Hu,useCallback:()=>qm,useContext:()=>Yn,useDebugValue:()=>ip,useDeferredValue:()=>Gx,useEffect:()=>ea,useErrorBoundary:()=>q5,useId:()=>Bm,useImperativeHandle:()=>Um,useInsertionEffect:()=>Kx,useLayoutEffect:()=>as,useMemo:()=>Ai,useReducer:()=>Qs,useRef:()=>Oo,useState:()=>il,useSyncExternalStore:()=>Xx,useTransition:()=>Yx,version:()=>i3});function Mx(i,e){for(var t in e)i[t]=e[t];return i}function Vm(i,e){for(var t in i)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&i[r]!==e[r])return!0;return!1}function $m(i,e){return i===e&&(i!==0||1/i==1/e)||i!=i&&e!=e}function xi(i){this.props=i}function Tx(i,e){function t(n){var s=this.props.ref,l=s==n.ref;return!l&&s&&(s.call?s(null):s.current=null),e?!e(this.props,n)||!l:Vm(this.props,n)}function r(n){return this.shouldComponentUpdate=t,Vt(i,n)}return r.displayName="Memo("+(i.displayName||i.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}function Kn(i){function e(t){var r=Mx({},t);return delete r.ref,i(r,t.ref||null)}return e.$$typeof=$5,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(i.displayName||i.name)+")",e}function Nx(i,e,t){return i&&(i.__c&&i.__c.__H&&(i.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),i.__c.__H=null),(i=Mx({},i)).__c!=null&&(i.__c.__P===t&&(i.__c.__P=e),i.__c=null),i.__k=i.__k&&i.__k.map(function(r){return Nx(r,e,t)})),i}function Dx(i,e,t){return i&&(i.__v=null,i.__k=i.__k&&i.__k.map(function(r){return Dx(r,e,t)}),i.__c&&i.__c.__P===e&&(i.__e&&t.insertBefore(i.__e,i.__d),i.__c.__e=!0,i.__c.__P=t)),i}function zu(){this.__u=0,this.t=null,this.__b=null}function Ox(i){var e=i.__.__c;return e&&e.__a&&e.__a(i)}function Lx(i){var e,t,r;function n(s){if(e||(e=i()).then(function(l){t=l.default||l},function(l){r=l}),r)throw r;if(!t)throw e;return Vt(t,s)}return n.displayName="Lazy",n.__f=!0,n}function rl(){this.u=null,this.o=null}function j5(i){return this.getChildContext=function(){return i.context},i.children}function G5(i){var e=this,t=i.i;e.componentWillUnmount=function(){os(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),i.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,n){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),os(Vt(j5,{context:e.context},i.__v),e.l)):e.l&&e.componentWillUnmount()}function Ge(i,e){var t=Vt(G5,{__v:i,i:e});return t.containerInfo=e,t}function zx(i,e,t){return e.__k==null&&(e.textContent=""),os(i,e),typeof t=="function"&&t(),i?i.__c:null}function Hx(i,e,t){return Fu(i,e),typeof t=="function"&&t(),i?i.__c:null}function Q5(){}function e3(){return this.cancelBubble}function t3(){return this.defaultPrevented}function qx(i){return Vt.bind(null,i)}function Gm(i){return!!i&&i.$$typeof===Fx}function Bx(i){return Gm(i)?dx.apply(null,arguments):i}function Wx(i){return!!i.__k&&(os(null,i),!0)}function $x(i){return i&&(i.base||i.nodeType===1&&i)||null}function Ym(i){i()}function Gx(i){return i}function Yx(){return[!1,Ym]}function Xx(i,e){var t=e(),r=il({h:{__:t,v:e}}),n=r[0].h,s=r[1];return as(function(){n.__=t,n.v=e,$m(n.__,e())||s({h:n})},[i,t,e]),ea(function(){return $m(n.__,n.v())||s({h:n}),i(function(){$m(n.__,n.v())||s({h:n})})},[i]),t}var xx,$5,Sx,kx,V5,_x,Cx,Fx,Y5,K5,X5,Z5,J5,Ex,jm,Px,Ix,Ax,Rx,Ux,i3,Hu,Vx,jx,Kx,Be,We=B(()=>{Ce();Ce();ta();ta();(xi.prototype=new oe).isPureReactComponent=!0,xi.prototype.shouldComponentUpdate=function(i,e){return Vm(this.props,i)||Vm(this.state,e)};xx=Te.__b;Te.__b=function(i){i.type&&i.type.__f&&i.ref&&(i.props.ref=i.ref,i.ref=null),xx&&xx(i)};$5=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;Sx=function(i,e){return i==null?null:jn(jn(i).map(e))},kx={map:Sx,forEach:Sx,count:function(i){return i?jn(i).length:0},only:function(i){var e=jn(i);if(e.length!==1)throw"Children.only";return e[0]},toArray:jn},V5=Te.__e;Te.__e=function(i,e,t,r){if(i.then){for(var n,s=e;s=s.__;)if((n=s.__c)&&n.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),n.__c(i,e)}V5(i,e,t,r)};_x=Te.unmount;Te.unmount=function(i){var e=i.__c;e&&e.__R&&e.__R(),e&&i.__h===!0&&(i.type=null),_x&&_x(i)},(zu.prototype=new oe).__c=function(i,e){var t=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(t);var n=Ox(r.__v),s=!1,l=function(){s||(s=!0,t.__R=null,n?n(u):u())};t.__R=l;var u=function(){if(!--r.__u){if(r.state.__a){var d=r.state.__a;r.__v.__k[0]=Dx(d,d.__c.__P,d.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.t.pop();)f.forceUpdate()}},c=e.__h===!0;r.__u++||c||r.setState({__a:r.__b=r.__v.__k[0]}),i.then(l,l)},zu.prototype.componentWillUnmount=function(){this.t=[]},zu.prototype.render=function(i,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=Nx(this.__b,t,r.__O=r.__P)}this.__b=null}var n=e.__a&&Vt(Q,null,i.fallback);return n&&(n.__h=null),[Vt(Q,null,e.__a?null:i.children),n]};Cx=function(i,e,t){if(++t[1]===t[0]&&i.o.delete(e),i.props.revealOrder&&(i.props.revealOrder[0]!=="t"||!i.o.size))for(t=i.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;i.u=t=t[2]}};(rl.prototype=new oe).__a=function(i){var e=this,t=Ox(e.__v),r=e.o.get(i);return r[0]++,function(n){var s=function(){e.props.revealOrder?(r.push(n),Cx(e,i,r)):n()};t?t(s):s()}},rl.prototype.render=function(i){this.u=null,this.o=new Map;var e=jn(i.children);i.revealOrder&&i.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return i.children},rl.prototype.componentDidUpdate=rl.prototype.componentDidMount=function(){var i=this;this.o.forEach(function(e,t){Cx(i,t,e)})};Fx=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Y5=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,K5=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,X5=/[A-Z0-9]/g,Z5=typeof document<"u",J5=function(i){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(i)};oe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(i){Object.defineProperty(oe.prototype,i,{configurable:!0,get:function(){return this["UNSAFE_"+i]},set:function(e){Object.defineProperty(this,i,{configurable:!0,writable:!0,value:e})}})});Ex=Te.event;Te.event=function(i){return Ex&&(i=Ex(i)),i.persist=Q5,i.isPropagationStopped=e3,i.isDefaultPrevented=t3,i.nativeEvent=i};Px={configurable:!0,get:function(){return this.class}},Ix=Te.vnode;Te.vnode=function(i){var e=i.type,t=i.props,r=t;if(typeof e=="string"){for(var n in r={},t){var s=t[n];if(!(n==="value"&&"defaultValue"in t&&s==null||Z5&&n==="children"&&e==="noscript")){var l=n.toLowerCase();n==="defaultValue"&&"value"in t&&t.value==null?n="value":n==="download"&&s===!0?s="":l==="ondoubleclick"?n="ondblclick":l!=="onchange"||e!=="input"&&e!=="textarea"||J5(t.type)?l==="onfocus"?n="onfocusin":l==="onblur"?n="onfocusout":K5.test(n)?n=l:e.indexOf("-")===-1&&Y5.test(n)?n=n.replace(X5,"-$&").toLowerCase():s===null&&(s=void 0):l=n="oninput",l==="oninput"&&r[n=l]&&(n="oninputCapture"),r[n]=s}}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=jn(t.children).forEach(function(u){u.props.selected=r.value.indexOf(u.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=jn(t.children).forEach(function(u){u.props.selected=r.multiple?r.defaultValue.indexOf(u.props.value)!=-1:r.defaultValue==u.props.value})),i.props=r,t.class!=t.className&&(Px.enumerable="className"in t,t.className!=null&&(r.class=t.className),Object.defineProperty(r,"className",Px))}i.$$typeof=Fx,Ix&&Ix(i)};Ax=Te.__r;Te.__r=function(i){Ax&&Ax(i),jm=i.__c};Rx=Te.diffed;Te.diffed=function(i){Rx&&Rx(i);var e=i.props,t=i.__e;t!=null&&i.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),jm=null};Ux={ReactCurrentDispatcher:{current:{readContext:function(i){return jm.__n[i.__c].props.value}}}},i3="17.0.2";Hu=function(i,e){return i(e)},Vx=function(i,e){return i(e)},jx=Q;Kx=as;Be={useState:il,useId:Bm,useReducer:Qs,useEffect:ea,useLayoutEffect:as,useInsertionEffect:Kx,useTransition:Yx,useDeferredValue:Gx,useSyncExternalStore:Xx,startTransition:Ym,useRef:Oo,useImperativeHandle:Um,useMemo:Ai,useCallback:qm,useContext:Yn,useDebugValue:ip,version:"17.0.2",Children:kx,render:zx,hydrate:Hx,unmountComponentAtNode:Wx,createPortal:Ge,createElement:Vt,createContext:Gn,createFactory:qx,cloneElement:Bx,createRef:ve,Fragment:Q,isValidElement:Gm,findDOMNode:$x,Component:oe,PureComponent:xi,memo:Tx,forwardRef:Kn,flushSync:Vx,unstable_batchedUpdates:Hu,StrictMode:jx,Suspense:zu,SuspenseList:rl,lazy:Lx,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ux}});var Qx=ce((Y8,Jx)=>{"use strict";var r3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";Jx.exports=r3});var r1=ce((K8,i1)=>{"use strict";var n3=Qx();function e1(){}function t1(){}t1.resetWarningCache=e1;i1.exports=function(){function i(r,n,s,l,u,c){if(c!==n3){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}i.isRequired=i;function e(){return i}var t={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:e,element:i,elementType:i,instanceOf:e,node:i,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:t1,resetWarningCache:e1};return t.PropTypes=t,t}});var Km=ce((J8,n1)=>{n1.exports=r1()();var X8,Z8});var an,ls=B(()=>{We();an=Be.createContext(null)});function o3(i){i()}var o1,s1,a1,Xm=B(()=>{o1=o3,s1=function(e){return o1=e},a1=function(){return o1}});function s3(){var i=a1(),e=null,t=null;return{clear:function(){e=null,t=null},notify:function(){i(function(){for(var n=e;n;)n.callback(),n=n.next})},get:function(){for(var n=[],s=e;s;)n.push(s),s=s.next;return n},subscribe:function(n){var s=!0,l=t={callback:n,next:null,prev:t};return l.prev?l.prev.next=l:e=l,function(){!s||e===null||(s=!1,l.next?l.next.prev=l.prev:t=l.prev,l.prev?l.prev.next=l.next:e=l.next)}}}}function Uu(i,e){var t,r=l1;function n(g){return c(),r.subscribe(g)}function s(){r.notify()}function l(){f.onStateChange&&f.onStateChange()}function u(){return!!t}function c(){t||(t=e?e.addNestedSub(l):i.subscribe(l),r=s3())}function d(){t&&(t(),t=void 0,r.clear(),r=l1)}var f={addNestedSub:n,notifyNestedSubs:s,handleChangeWrapper:l,isSubscribed:u,trySubscribe:c,tryUnsubscribe:d,getListeners:function(){return r}};return f}var l1,rp=B(()=>{Xm();l1={notify:function(){},get:function(){return[]}}});var qu,np=B(()=>{We();qu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?as:ea});function a3(i){var e=i.store,t=i.context,r=i.children,n=Ai(function(){var u=Uu(e);return{store:e,subscription:u}},[e]),s=Ai(function(){return e.getState()},[e]);qu(function(){var u=n.subscription;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==e.getState()&&u.notifyNestedSubs(),function(){u.tryUnsubscribe(),u.onStateChange=null}},[n,s]);var l=t||an;return Be.createElement(l.Provider,{value:n},r)}var Zm,u1=B(()=>{We();ls();rp();np();Zm=a3});function Nt(){return Nt=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Nt.apply(this,arguments)}var ia=B(()=>{});function vr(i,e){if(i==null)return{};var t={},r=Object.keys(i),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(t[n]=i[n]);return t}var nl=B(()=>{});var d1=ce(Dt=>{"use strict";var Ri=typeof Symbol=="function"&&Symbol.for,Jm=Ri?Symbol.for("react.element"):60103,Qm=Ri?Symbol.for("react.portal"):60106,op=Ri?Symbol.for("react.fragment"):60107,sp=Ri?Symbol.for("react.strict_mode"):60108,ap=Ri?Symbol.for("react.profiler"):60114,lp=Ri?Symbol.for("react.provider"):60109,up=Ri?Symbol.for("react.context"):60110,eg=Ri?Symbol.for("react.async_mode"):60111,cp=Ri?Symbol.for("react.concurrent_mode"):60111,dp=Ri?Symbol.for("react.forward_ref"):60112,pp=Ri?Symbol.for("react.suspense"):60113,l3=Ri?Symbol.for("react.suspense_list"):60120,hp=Ri?Symbol.for("react.memo"):60115,fp=Ri?Symbol.for("react.lazy"):60116,u3=Ri?Symbol.for("react.block"):60121,c3=Ri?Symbol.for("react.fundamental"):60117,d3=Ri?Symbol.for("react.responder"):60118,p3=Ri?Symbol.for("react.scope"):60119;function $r(i){if(typeof i=="object"&&i!==null){var e=i.$$typeof;switch(e){case Jm:switch(i=i.type,i){case eg:case cp:case op:case ap:case sp:case pp:return i;default:switch(i=i&&i.$$typeof,i){case up:case dp:case fp:case hp:case lp:return i;default:return e}}case Qm:return e}}}function c1(i){return $r(i)===cp}Dt.AsyncMode=eg;Dt.ConcurrentMode=cp;Dt.ContextConsumer=up;Dt.ContextProvider=lp;Dt.Element=Jm;Dt.ForwardRef=dp;Dt.Fragment=op;Dt.Lazy=fp;Dt.Memo=hp;Dt.Portal=Qm;Dt.Profiler=ap;Dt.StrictMode=sp;Dt.Suspense=pp;Dt.isAsyncMode=function(i){return c1(i)||$r(i)===eg};Dt.isConcurrentMode=c1;Dt.isContextConsumer=function(i){return $r(i)===up};Dt.isContextProvider=function(i){return $r(i)===lp};Dt.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===Jm};Dt.isForwardRef=function(i){return $r(i)===dp};Dt.isFragment=function(i){return $r(i)===op};Dt.isLazy=function(i){return $r(i)===fp};Dt.isMemo=function(i){return $r(i)===hp};Dt.isPortal=function(i){return $r(i)===Qm};Dt.isProfiler=function(i){return $r(i)===ap};Dt.isStrictMode=function(i){return $r(i)===sp};Dt.isSuspense=function(i){return $r(i)===pp};Dt.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===op||i===cp||i===ap||i===sp||i===pp||i===l3||typeof i=="object"&&i!==null&&(i.$$typeof===fp||i.$$typeof===hp||i.$$typeof===lp||i.$$typeof===up||i.$$typeof===dp||i.$$typeof===c3||i.$$typeof===d3||i.$$typeof===p3||i.$$typeof===u3)};Dt.typeOf=$r});var tg=ce((f7,p1)=>{"use strict";p1.exports=d1()});var ng=ce((m7,b1)=>{"use strict";var ig=tg(),h3={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},f3={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},m3={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},g1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},rg={};rg[ig.ForwardRef]=m3;rg[ig.Memo]=g1;function h1(i){return ig.isMemo(i)?g1:rg[i.$$typeof]||h3}var g3=Object.defineProperty,v3=Object.getOwnPropertyNames,f1=Object.getOwnPropertySymbols,b3=Object.getOwnPropertyDescriptor,y3=Object.getPrototypeOf,m1=Object.prototype;function v1(i,e,t){if(typeof e!="string"){if(m1){var r=y3(e);r&&r!==m1&&v1(i,r,t)}var n=v3(e);f1&&(n=n.concat(f1(e)));for(var s=h1(i),l=h1(e),u=0;u<n.length;++u){var c=n[u];if(!f3[c]&&!(t&&t[c])&&!(l&&l[c])&&!(s&&s[c])){var d=b3(e,c);try{g3(i,c,d)}catch{}}}}return i}b1.exports=v1});var C1=ce(Wt=>{"use strict";var mp=60103,gp=60106,Bu=60107,Wu=60108,$u=60114,Vu=60109,ju=60110,Gu=60112,Yu=60113,og=60120,Ku=60115,Xu=60116,y1=60121,w1=60122,x1=60117,S1=60129,_1=60131;typeof Symbol=="function"&&Symbol.for&&(Mi=Symbol.for,mp=Mi("react.element"),gp=Mi("react.portal"),Bu=Mi("react.fragment"),Wu=Mi("react.strict_mode"),$u=Mi("react.profiler"),Vu=Mi("react.provider"),ju=Mi("react.context"),Gu=Mi("react.forward_ref"),Yu=Mi("react.suspense"),og=Mi("react.suspense_list"),Ku=Mi("react.memo"),Xu=Mi("react.lazy"),y1=Mi("react.block"),w1=Mi("react.server.block"),x1=Mi("react.fundamental"),S1=Mi("react.debug_trace_mode"),_1=Mi("react.legacy_hidden"));var Mi;function En(i){if(typeof i=="object"&&i!==null){var e=i.$$typeof;switch(e){case mp:switch(i=i.type,i){case Bu:case $u:case Wu:case Yu:case og:return i;default:switch(i=i&&i.$$typeof,i){case ju:case Gu:case Xu:case Ku:case Vu:return i;default:return e}}case gp:return e}}}var w3=Vu,x3=mp,S3=Gu,_3=Bu,C3=Xu,E3=Ku,P3=gp,I3=$u,A3=Wu,R3=Yu;Wt.ContextConsumer=ju;Wt.ContextProvider=w3;Wt.Element=x3;Wt.ForwardRef=S3;Wt.Fragment=_3;Wt.Lazy=C3;Wt.Memo=E3;Wt.Portal=P3;Wt.Profiler=I3;Wt.StrictMode=A3;Wt.Suspense=R3;Wt.isAsyncMode=function(){return!1};Wt.isConcurrentMode=function(){return!1};Wt.isContextConsumer=function(i){return En(i)===ju};Wt.isContextProvider=function(i){return En(i)===Vu};Wt.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===mp};Wt.isForwardRef=function(i){return En(i)===Gu};Wt.isFragment=function(i){return En(i)===Bu};Wt.isLazy=function(i){return En(i)===Xu};Wt.isMemo=function(i){return En(i)===Ku};Wt.isPortal=function(i){return En(i)===gp};Wt.isProfiler=function(i){return En(i)===$u};Wt.isStrictMode=function(i){return En(i)===Wu};Wt.isSuspense=function(i){return En(i)===Yu};Wt.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===Bu||i===$u||i===S1||i===Wu||i===Yu||i===og||i===_1||typeof i=="object"&&i!==null&&(i.$$typeof===Xu||i.$$typeof===Ku||i.$$typeof===Vu||i.$$typeof===ju||i.$$typeof===Gu||i.$$typeof===x1||i.$$typeof===y1||i[0]===w1)};Wt.typeOf=En});var P1=ce((v7,E1)=>{"use strict";E1.exports=C1()});function D3(i,e){var t=i[1];return[e.payload,t+1]}function I1(i,e,t){qu(function(){return i.apply(void 0,e)},t)}function O3(i,e,t,r,n,s,l){i.current=r,e.current=n,t.current=!1,s.current&&(s.current=null,l())}function L3(i,e,t,r,n,s,l,u,c,d){if(i){var f=!1,g=null,v=function(){if(!f){var _=e.getState(),M,T;try{M=r(_,n.current)}catch(F){T=F,g=F}T||(g=null),M===s.current?l.current||c():(s.current=M,u.current=M,l.current=!0,d({type:"STORE_UPDATED",payload:{error:T}}))}};t.onStateChange=v,t.trySubscribe(),v();var S=function(){if(f=!0,t.tryUnsubscribe(),t.onStateChange=null,g)throw g};return S}}function vp(i,e){e===void 0&&(e={});var t=e,r=t.getDisplayName,n=r===void 0?function(ie){return"ConnectAdvanced("+ie+")"}:r,s=t.methodName,l=s===void 0?"connectAdvanced":s,u=t.renderCountProp,c=u===void 0?void 0:u,d=t.shouldHandleStateChanges,f=d===void 0?!0:d,g=t.storeKey,v=g===void 0?"store":g,S=t.withRef,C=S===void 0?!1:S,_=t.forwardRef,M=_===void 0?!1:_,T=t.context,F=T===void 0?an:T,H=vr(t,M3);if(0)var L;var z=F;return function(X){var N=X.displayName||X.name||"Component",ee=n(N),de=Nt({},H,{getDisplayName:n,methodName:l,renderCountProp:c,shouldHandleStateChanges:f,storeKey:v,displayName:ee,wrappedComponentName:N,WrappedComponent:X}),Z=H.pure;function Y(ne){return i(ne.dispatch,de)}var D=Z?Ai:function(ne){return ne()};function V(ne){var W=Ai(function(){var Yt=ne.reactReduxForwardedRef,po=vr(ne,T3);return[ne.context,Yt,po]},[ne]),U=W[0],J=W[1],ae=W[2],ue=Ai(function(){return U&&U.Consumer&&(0,A1.isContextConsumer)(Be.createElement(U.Consumer,null))?U:z},[U,z]),he=Yn(ue),me=!!ne.store&&!!ne.store.getState&&!!ne.store.dispatch,Ae=!!he&&!!he.store,Ie=me?ne.store:he.store,De=Ai(function(){return Y(Ie)},[Ie]),He=Ai(function(){if(!f)return N3;var Yt=Uu(Ie,me?null:he.subscription),po=Yt.notifyNestedSubs.bind(Yt);return[Yt,po]},[Ie,me,he]),ut=He[0],Ve=He[1],ot=Ai(function(){return me?he:Nt({},he,{subscription:ut})},[me,he,ut]),_e=Qs(D3,k3,F3),ct=_e[0],st=ct[0],$e=_e[1];if(st&&st.error)throw st.error;var je=Oo(),$t=Oo(ae),Ut=Oo(),_t=Oo(!1),Lt=D(function(){return Ut.current&&ae===$t.current?Ut.current:De(Ie.getState(),ae)},[Ie,st,ae]);I1(O3,[$t,je,_t,ae,Lt,Ut,Ve]),I1(L3,[f,Ie,ut,De,$t,je,_t,Ut,Ve,$e],[Ie,ut,De]);var rt=Ai(function(){return Be.createElement(X,Nt({},Lt,{ref:J}))},[J,X,Lt]),Hi=Ai(function(){return f?Be.createElement(ue.Provider,{value:ot},rt):rt},[ue,rt,ot]);return Hi}var G=Z?Be.memo(V):V;if(G.WrappedComponent=X,G.displayName=V.displayName=ee,M){var K=Be.forwardRef(function(W,U){return Be.createElement(G,Nt({},W,{reactReduxForwardedRef:U}))});return K.displayName=ee,K.WrappedComponent=X,(0,sg.default)(K,X)}return(0,sg.default)(G,X)}}var sg,A1,M3,T3,k3,N3,F3,ag=B(()=>{ia();nl();sg=fe(ng());We();A1=fe(P1());rp();np();ls();M3=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],T3=["reactReduxForwardedRef"],k3=[],N3=[null,null];F3=function(){return[null,0]}});function R1(i,e){return i===e?i!==0||e!==0||1/i===1/e:i!==i&&e!==e}function ol(i,e){if(R1(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;var t=Object.keys(i),r=Object.keys(e);if(t.length!==r.length)return!1;for(var n=0;n<t.length;n++)if(!Object.prototype.hasOwnProperty.call(e,t[n])||!R1(i[t[n]],e[t[n]]))return!1;return!0}var lg=B(()=>{});function ug(i,e){var t={},r=function(l){var u=i[l];typeof u=="function"&&(t[l]=function(){return e(u.apply(void 0,arguments))})};for(var n in i)r(n);return t}var M1=B(()=>{});var T1=B(()=>{});var cg=B(()=>{});var dg=B(()=>{T1();cg()});function Zu(i){return function(t,r){var n=i(t,r);function s(){return n}return s.dependsOnOwnProps=!1,s}}function k1(i){return i.dependsOnOwnProps!==null&&i.dependsOnOwnProps!==void 0?!!i.dependsOnOwnProps:i.length!==1}function bp(i,e){return function(r,n){var s=n.displayName,l=function(c,d){return l.dependsOnOwnProps?l.mapToProps(c,d):l.mapToProps(c)};return l.dependsOnOwnProps=!0,l.mapToProps=function(c,d){l.mapToProps=i,l.dependsOnOwnProps=k1(i);var f=l(c,d);return typeof f=="function"&&(l.mapToProps=f,l.dependsOnOwnProps=k1(f),f=l(c,d)),f},l}}var pg=B(()=>{dg()});function H3(i){return typeof i=="function"?bp(i,"mapDispatchToProps"):void 0}function U3(i){return i?void 0:Zu(function(e){return{dispatch:e}})}function q3(i){return i&&typeof i=="object"?Zu(function(e){return ug(i,e)}):void 0}var N1,D1=B(()=>{M1();pg();N1=[H3,U3,q3]});function B3(i){return typeof i=="function"?bp(i,"mapStateToProps"):void 0}function W3(i){return i?void 0:Zu(function(){return{}})}var O1,L1=B(()=>{pg();O1=[B3,W3]});function $3(i,e,t){return Nt({},t,i,e)}function V3(i){return function(t,r){var n=r.displayName,s=r.pure,l=r.areMergedPropsEqual,u=!1,c;return function(f,g,v){var S=i(f,g,v);return u?(!s||!l(S,c))&&(c=S):(u=!0,c=S),c}}}function j3(i){return typeof i=="function"?V3(i):void 0}function G3(i){return i?void 0:function(){return $3}}var F1,z1=B(()=>{ia();dg();F1=[j3,G3]});var H1=B(()=>{cg()});function K3(i,e,t,r){return function(s,l){return t(i(s,l),e(r,l),l)}}function X3(i,e,t,r,n){var s=n.areStatesEqual,l=n.areOwnPropsEqual,u=n.areStatePropsEqual,c=!1,d,f,g,v,S;function C(H,L){return d=H,f=L,g=i(d,f),v=e(r,f),S=t(g,v,f),c=!0,S}function _(){return g=i(d,f),e.dependsOnOwnProps&&(v=e(r,f)),S=t(g,v,f),S}function M(){return i.dependsOnOwnProps&&(g=i(d,f)),e.dependsOnOwnProps&&(v=e(r,f)),S=t(g,v,f),S}function T(){var H=i(d,f),L=!u(H,g);return g=H,L&&(S=t(g,v,f)),S}function F(H,L){var z=!l(L,f),ie=!s(H,d,L,f);return d=H,f=L,z&&ie?_():z?M():ie?T():S}return function(L,z){return c?F(L,z):C(L,z)}}function hg(i,e){var t=e.initMapStateToProps,r=e.initMapDispatchToProps,n=e.initMergeProps,s=vr(e,Y3),l=t(i,s),u=r(i,s),c=n(i,s),d=s.pure?X3:K3;return d(l,u,c,i,s)}var Y3,U1=B(()=>{nl();H1();Y3=["initMapStateToProps","initMapDispatchToProps","initMergeProps"]});function fg(i,e,t){for(var r=e.length-1;r>=0;r--){var n=e[r](i);if(n)return n}return function(s,l){throw new Error("Invalid value of type "+typeof i+" for "+t+" argument when connecting component "+l.wrappedComponentName+".")}}function J3(i,e){return i===e}function Q3(i){var e=i===void 0?{}:i,t=e.connectHOC,r=t===void 0?vp:t,n=e.mapStateToPropsFactories,s=n===void 0?O1:n,l=e.mapDispatchToPropsFactories,u=l===void 0?N1:l,c=e.mergePropsFactories,d=c===void 0?F1:c,f=e.selectorFactory,g=f===void 0?hg:f;return function(S,C,_,M){M===void 0&&(M={});var T=M,F=T.pure,H=F===void 0?!0:F,L=T.areStatesEqual,z=L===void 0?J3:L,ie=T.areOwnPropsEqual,X=ie===void 0?ol:ie,N=T.areStatePropsEqual,ee=N===void 0?ol:N,de=T.areMergedPropsEqual,Z=de===void 0?ol:de,Y=vr(T,Z3),D=fg(S,s,"mapStateToProps"),V=fg(C,u,"mapDispatchToProps"),G=fg(_,d,"mergeProps");return r(g,Nt({methodName:"connect",getDisplayName:function(ne){return"Connect("+ne+")"},shouldHandleStateChanges:!!S,initMapStateToProps:D,initMapDispatchToProps:V,initMergeProps:G,pure:H,areStatesEqual:z,areOwnPropsEqual:X,areStatePropsEqual:ee,areMergedPropsEqual:Z},Y))}}var Z3,Oe,q1=B(()=>{ia();nl();ag();lg();D1();L1();z1();U1();Z3=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];Oe=Q3()});function mg(){var i=Yn(an);return i}var gg=B(()=>{We();ls()});function vg(i){i===void 0&&(i=an);var e=i===an?mg:function(){return Yn(i)};return function(){var r=e(),n=r.store;return n}}var yp,bg=B(()=>{We();ls();gg();yp=vg()});var B1=B(()=>{ls();bg()});var W1=B(()=>{We();gg();rp();np();ls()});var $1=B(()=>{u1();ag();ls();q1();B1();W1();bg();lg()});var V1=B(()=>{We()});var ht=B(()=>{$1();V1();Xm();s1(Hu)});var wp=ce(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.frontloadConnect=na.Frontload=void 0;var yg=function(){function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e}}();na.frontloadServerRender=cF;var eF=(We(),ku(Zx)),Ju=G1(eF),tF=Km(),j1=G1(tF);function G1(i){return i&&i.__esModule?i:{default:i}}function Y1(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function K1(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:i}function X1(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}var iF=function(){return typeof window>"u"||!window.document||!window.document.createElement},rF=iF(),sl=[],ra={MOUNT:0,UPDATE:1},nF=!1,Z1=function(e,t){for(var r=[],n=0;n<e.length;n++)r.push(t(e[n],n));return r};function oF(i,e){var t=e.withLogging,r=e.continueRenderingOnError,n=void 0;return Promise.all(Z1(i,function(s){return s.catch(function(l){return n||(n=l),t&&nF("frontloadServerRender info","ERROR:",l),l})})).then(function(){if(r!==!0&&n)throw n})}var sF=na.Frontload=function(i){X1(e,i),yg(e,[{key:"getChildContext",value:function(){var r=this;return{frontload:{isServer:this.isServer,firstClientRenderDone:this.isServer?!0:this.firstClientRenderDone,pushFrontload:function(s,l,u,c,d){var f=u===ra.MOUNT,g=u===ra.UPDATE,v=r.props.noServerRender||l.noServerRender;r.isServer&&v||f&&l.onMount===!1||g&&!l.onUpdate||(r.isServer?sl.unshift({fn:function(){return s(c,{isMount:f,isUpdate:g})},options:l,componentDisplayName:c.displayName}):(v||r.firstClientRenderDone)&&s(c,{isMount:f,isUpdate:g}))}}}}}]);function e(t,r){Y1(this,e);var n=K1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.isServer=t.isServer===void 0?rF:t.isServer,n.componentDidMount=function(){n.firstClientRenderDone=!0},n}return yg(e,[{key:"render",value:function(){return Ju.default.Children.only(this.props.children)}}]),e}(Ju.default.Component);sF.childContextTypes={frontload:j1.default.object};var J1=function(i){X1(e,i);function e(t,r){Y1(this,e);var n=K1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return n.pushFrontload=function(s){return function(l){if(s===ra.UPDATE){var u=n.props.options._experimental_updateFunc;if(u&&!u(l.componentProps,n.props.componentProps))return}var c="for component: ["+(n.props.component.displayName||"anonymous")+"] on ["+(s===ra.MOUNT?"mount":"update")+"]";n.context.frontload.pushFrontload(n.props.frontload,n.props.options,s,n.props.componentProps,c)}},r.frontload.isServer?n.componentWillMount=n.pushFrontload(ra.MOUNT):(n.componentDidMount=n.pushFrontload(ra.MOUNT),n.componentDidUpdate=n.pushFrontload(ra.UPDATE)),n}return yg(e,[{key:"render",value:function(){return Ju.default.createElement(this.props.component,this.props.componentProps)}}]),e}(Ju.default.Component);J1.contextTypes={frontload:j1.default.object};var B$=na.frontloadConnect=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return function(r){return function(n){return Ju.default.createElement(J1,{frontload:e,component:r,componentProps:n,options:t})}}};function aF(i){i(!0);var e=sl;return sl=[],e}function lF(i,e){return oF(Z1(i,function(t){return t.fn()}),e)}function uF(i){var e=i(!1);return sl=[],e}function Q1(i,e){var t=e.withLogging,r=e.maxNestedFrontloadComponents,n=e.continueRenderingOnError,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,u=aF(i),c=u.length+0,d=c-l;if(!d){var f=uF(i);return Promise.resolve(f)}var g=t&&Date.now();return lF(u,{withLogging:t,continueRenderingOnError:n}).then(function(){if(s===r){var v=i(!1),S=sl.length+0,C=S-c;return sl=[],v}return Q1(i,{withLogging:t,maxNestedFrontloadComponents:r,continueRenderingOnError:n},s+1,c)})}function cF(i){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return e.maxNestedFrontloadComponents||(e.maxNestedFrontloadComponents=1),Q1(i,e)}});function Qu(i,e){return Qu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Qu(i,e)}var eS=B(()=>{});function Ir(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Qu(i,e)}var xp=B(()=>{eS()});function Sp(i){return i.charAt(0)==="/"}function wg(i,e){for(var t=e,r=t+1,n=i.length;r<n;t+=1,r+=1)i[t]=i[r];i.pop()}function dF(i,e){e===void 0&&(e="");var t=i&&i.split("/")||[],r=e&&e.split("/")||[],n=i&&Sp(i),s=e&&Sp(e),l=n||s;if(i&&Sp(i)?r=t:t.length&&(r.pop(),r=r.concat(t)),!r.length)return"/";var u;if(r.length){var c=r[r.length-1];u=c==="."||c===".."||c===""}else u=!1;for(var d=0,f=r.length;f>=0;f--){var g=r[f];g==="."?wg(r,f):g===".."?(wg(r,f),d++):d&&(wg(r,f),d--)}if(!l)for(;d--;d)r.unshift("..");l&&r[0]!==""&&(!r[0]||!Sp(r[0]))&&r.unshift("");var v=r.join("/");return u&&v.substr(-1)!=="/"&&(v+="/"),v}var tS,iS=B(()=>{tS=dF});var rS=B(()=>{});function Pn(i,e){if(!i){if(pF)throw new Error(xg);var t=typeof e=="function"?e():e,r=t?"".concat(xg,": ").concat(t):xg;throw new Error(r)}}var pF,xg,_p=B(()=>{pF=!0,xg="Invariant failed"});function tc(i){return i.charAt(0)==="/"?i:"/"+i}function nS(i){return i.charAt(0)==="/"?i.substr(1):i}function hF(i,e){return i.toLowerCase().indexOf(e.toLowerCase())===0&&"/?#".indexOf(i.charAt(e.length))!==-1}function cS(i,e){return hF(i,e)?i.substr(e.length):i}function dS(i){return i.charAt(i.length-1)==="/"?i.slice(0,-1):i}function fF(i){var e=i||"/",t="",r="",n=e.indexOf("#");n!==-1&&(r=e.substr(n),e=e.substr(0,n));var s=e.indexOf("?");return s!==-1&&(t=e.substr(s),e=e.substr(0,s)),{pathname:e,search:t==="?"?"":t,hash:r==="#"?"":r}}function rr(i){var e=i.pathname,t=i.search,r=i.hash,n=e||"/";return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(n+=r.charAt(0)==="#"?r:"#"+r),n}function br(i,e,t,r){var n;typeof i=="string"?(n=fF(i),n.state=e):(n=Nt({},i),n.pathname===void 0&&(n.pathname=""),n.search?n.search.charAt(0)!=="?"&&(n.search="?"+n.search):n.search="",n.hash?n.hash.charAt(0)!=="#"&&(n.hash="#"+n.hash):n.hash="",e!==void 0&&n.state===void 0&&(n.state=e));try{n.pathname=decodeURI(n.pathname)}catch(s){throw s instanceof URIError?new URIError('Pathname "'+n.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):s}return t&&(n.key=t),r?n.pathname?n.pathname.charAt(0)!=="/"&&(n.pathname=tS(n.pathname,r.pathname)):n.pathname=r.pathname:n.pathname||(n.pathname="/"),n}function _g(){var i=null;function e(l){return i=l,function(){i===l&&(i=null)}}function t(l,u,c,d){if(i!=null){var f=typeof i=="function"?i(l,u):i;typeof f=="string"?typeof c=="function"?c(f,d):d(!0):d(f!==!1)}else d(!0)}var r=[];function n(l){var u=!0;function c(){u&&l.apply(void 0,arguments)}return r.push(c),function(){u=!1,r=r.filter(function(d){return d!==c})}}function s(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];r.forEach(function(d){return d.apply(void 0,u)})}return{setPrompt:e,confirmTransitionTo:t,appendListener:n,notifyListeners:s}}function hS(i,e){e(window.confirm(i))}function mF(){var i=window.navigator.userAgent;return(i.indexOf("Android 2.")!==-1||i.indexOf("Android 4.0")!==-1)&&i.indexOf("Mobile Safari")!==-1&&i.indexOf("Chrome")===-1&&i.indexOf("Windows Phone")===-1?!1:window.history&&"pushState"in window.history}function gF(){return window.navigator.userAgent.indexOf("Trident")===-1}function vF(){return window.navigator.userAgent.indexOf("Firefox")===-1}function bF(i){return i.state===void 0&&navigator.userAgent.indexOf("CriOS")===-1}function aS(){try{return window.history.state||{}}catch{return{}}}function Cp(i){i===void 0&&(i={}),pS||Pn(!1);var e=window.history,t=mF(),r=!gF(),n=i,s=n.forceRefresh,l=s===void 0?!1:s,u=n.getUserConfirmation,c=u===void 0?hS:u,d=n.keyLength,f=d===void 0?6:d,g=i.basename?dS(tc(i.basename)):"";function v(U){var J=U||{},ae=J.key,ue=J.state,he=window.location,me=he.pathname,Ae=he.search,Ie=he.hash,De=me+Ae+Ie;return g&&(De=cS(De,g)),br(De,ue,ae)}function S(){return Math.random().toString(36).substr(2,f)}var C=_g();function _(U){Nt(W,U),W.length=e.length,C.notifyListeners(W.location,W.action)}function M(U){bF(U)||H(v(U.state))}function T(){H(v(aS()))}var F=!1;function H(U){if(F)F=!1,_();else{var J="POP";C.confirmTransitionTo(U,J,c,function(ae){ae?_({action:J,location:U}):L(U)})}}function L(U){var J=W.location,ae=ie.indexOf(J.key);ae===-1&&(ae=0);var ue=ie.indexOf(U.key);ue===-1&&(ue=0);var he=ae-ue;he&&(F=!0,de(he))}var z=v(aS()),ie=[z.key];function X(U){return g+rr(U)}function N(U,J){var ae="PUSH",ue=br(U,J,S(),W.location);C.confirmTransitionTo(ue,ae,c,function(he){if(he){var me=X(ue),Ae=ue.key,Ie=ue.state;if(t)if(e.pushState({key:Ae,state:Ie},null,me),l)window.location.href=me;else{var De=ie.indexOf(W.location.key),He=ie.slice(0,De+1);He.push(ue.key),ie=He,_({action:ae,location:ue})}else window.location.href=me}})}function ee(U,J){var ae="REPLACE",ue=br(U,J,S(),W.location);C.confirmTransitionTo(ue,ae,c,function(he){if(he){var me=X(ue),Ae=ue.key,Ie=ue.state;if(t)if(e.replaceState({key:Ae,state:Ie},null,me),l)window.location.replace(me);else{var De=ie.indexOf(W.location.key);De!==-1&&(ie[De]=ue.key),_({action:ae,location:ue})}else window.location.replace(me)}})}function de(U){e.go(U)}function Z(){de(-1)}function Y(){de(1)}var D=0;function V(U){D+=U,D===1&&U===1?(window.addEventListener(oS,M),r&&window.addEventListener(sS,T)):D===0&&(window.removeEventListener(oS,M),r&&window.removeEventListener(sS,T))}var G=!1;function K(U){U===void 0&&(U=!1);var J=C.setPrompt(U);return G||(V(1),G=!0),function(){return G&&(G=!1,V(-1)),J()}}function ne(U){var J=C.appendListener(U);return V(1),function(){V(-1),J()}}var W={length:e.length,action:"POP",location:z,createHref:X,push:N,replace:ee,go:de,goBack:Z,goForward:Y,block:K,listen:ne};return W}function fS(i){var e=i.indexOf("#");return e===-1?i:i.slice(0,e)}function ec(){var i=window.location.href,e=i.indexOf("#");return e===-1?"":i.substring(e+1)}function wF(i){window.location.hash=i}function Sg(i){window.location.replace(fS(window.location.href)+"#"+i)}function mS(i){i===void 0&&(i={}),pS||Pn(!1);var e=window.history,t=vF(),r=i,n=r.getUserConfirmation,s=n===void 0?hS:n,l=r.hashType,u=l===void 0?"slash":l,c=i.basename?dS(tc(i.basename)):"",d=yF[u],f=d.encodePath,g=d.decodePath;function v(){var ae=g(ec());return c&&(ae=cS(ae,c)),br(ae)}var S=_g();function C(ae){Nt(J,ae),J.length=e.length,S.notifyListeners(J.location,J.action)}var _=!1,M=null;function T(ae,ue){return ae.pathname===ue.pathname&&ae.search===ue.search&&ae.hash===ue.hash}function F(){var ae=ec(),ue=f(ae);if(ae!==ue)Sg(ue);else{var he=v(),me=J.location;if(!_&&T(me,he)||M===rr(he))return;M=null,H(he)}}function H(ae){if(_)_=!1,C();else{var ue="POP";S.confirmTransitionTo(ae,ue,s,function(he){he?C({action:ue,location:ae}):L(ae)})}}function L(ae){var ue=J.location,he=N.lastIndexOf(rr(ue));he===-1&&(he=0);var me=N.lastIndexOf(rr(ae));me===-1&&(me=0);var Ae=he-me;Ae&&(_=!0,Y(Ae))}var z=ec(),ie=f(z);z!==ie&&Sg(ie);var X=v(),N=[rr(X)];function ee(ae){var ue=document.querySelector("base"),he="";return ue&&ue.getAttribute("href")&&(he=fS(window.location.href)),he+"#"+f(c+rr(ae))}function de(ae,ue){var he="PUSH",me=br(ae,void 0,void 0,J.location);S.confirmTransitionTo(me,he,s,function(Ae){if(Ae){var Ie=rr(me),De=f(c+Ie),He=ec()!==De;if(He){M=Ie,wF(De);var ut=N.lastIndexOf(rr(J.location)),Ve=N.slice(0,ut+1);Ve.push(Ie),N=Ve,C({action:he,location:me})}else C()}})}function Z(ae,ue){var he="REPLACE",me=br(ae,void 0,void 0,J.location);S.confirmTransitionTo(me,he,s,function(Ae){if(Ae){var Ie=rr(me),De=f(c+Ie),He=ec()!==De;He&&(M=Ie,Sg(De));var ut=N.indexOf(rr(J.location));ut!==-1&&(N[ut]=Ie),C({action:he,location:me})}})}function Y(ae){e.go(ae)}function D(){Y(-1)}function V(){Y(1)}var G=0;function K(ae){G+=ae,G===1&&ae===1?window.addEventListener(lS,F):G===0&&window.removeEventListener(lS,F)}var ne=!1;function W(ae){ae===void 0&&(ae=!1);var ue=S.setPrompt(ae);return ne||(K(1),ne=!0),function(){return ne&&(ne=!1,K(-1)),ue()}}function U(ae){var ue=S.appendListener(ae);return K(1),function(){K(-1),ue()}}var J={length:e.length,action:"POP",location:X,createHref:ee,push:de,replace:Z,go:Y,goBack:D,goForward:V,block:W,listen:U};return J}function uS(i,e,t){return Math.min(Math.max(i,e),t)}function gS(i){i===void 0&&(i={});var e=i,t=e.getUserConfirmation,r=e.initialEntries,n=r===void 0?["/"]:r,s=e.initialIndex,l=s===void 0?0:s,u=e.keyLength,c=u===void 0?6:u,d=_g();function f(N){Nt(X,N),X.length=X.entries.length,d.notifyListeners(X.location,X.action)}function g(){return Math.random().toString(36).substr(2,c)}var v=uS(l,0,n.length-1),S=n.map(function(N){return typeof N=="string"?br(N,void 0,g()):br(N,void 0,N.key||g())}),C=rr;function _(N,ee){var de="PUSH",Z=br(N,ee,g(),X.location);d.confirmTransitionTo(Z,de,t,function(Y){if(Y){var D=X.index,V=D+1,G=X.entries.slice(0);G.length>V?G.splice(V,G.length-V,Z):G.push(Z),f({action:de,location:Z,index:V,entries:G})}})}function M(N,ee){var de="REPLACE",Z=br(N,ee,g(),X.location);d.confirmTransitionTo(Z,de,t,function(Y){Y&&(X.entries[X.index]=Z,f({action:de,location:Z}))})}function T(N){var ee=uS(X.index+N,0,X.entries.length-1),de="POP",Z=X.entries[ee];d.confirmTransitionTo(Z,de,t,function(Y){Y?f({action:de,location:Z,index:ee}):f()})}function F(){T(-1)}function H(){T(1)}function L(N){var ee=X.index+N;return ee>=0&&ee<X.entries.length}function z(N){return N===void 0&&(N=!1),d.setPrompt(N)}function ie(N){return d.appendListener(N)}var X={length:S.length,action:"POP",location:S[v],index:v,entries:S,createHref:C,push:_,replace:M,go:T,goBack:F,goForward:H,canGo:L,block:z,listen:ie};return X}var pS,oS,sS,lS,yF,Ep=B(()=>{ia();iS();rS();_p();pS=!!(typeof window<"u"&&window.document&&window.document.createElement);oS="popstate",sS="hashchange";lS="hashchange",yF={hashbang:{encodePath:function(e){return e.charAt(0)==="!"?e:"!/"+nS(e)},decodePath:function(e){return e.charAt(0)==="!"?e.substr(1):e}},noslash:{encodePath:nS,decodePath:tc},slash:{encodePath:tc,decodePath:tc}}});function xF(){var i="__global_unique_id__";return vS[i]=(vS[i]||0)+1}function SF(i,e){return i===e?i!==0||1/i===1/e:i!==i&&e!==e}function _F(i){var e=[];return{on:function(r){e.push(r)},off:function(r){e=e.filter(function(n){return n!==r})},get:function(){return i},set:function(r,n){i=r,e.forEach(function(s){return s(i,n)})}}}function CF(i){return Array.isArray(i)?i[0]:i}function EF(i,e){var t,r,n="__create-react-context-"+xF()+"__",s=function(u){Ir(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.emitter=_F(f.props.value),f}var d=c.prototype;return d.getChildContext=function(){var g;return g={},g[n]=this.emitter,g},d.componentWillReceiveProps=function(g){if(this.props.value!==g.value){var v=this.props.value,S=g.value,C;SF(v,S)?C=0:(C=typeof e=="function"?e(v,S):Cg,C|=0,C!==0&&this.emitter.set(g.value,C))}},d.render=function(){return this.props.children},c}(oe);s.childContextTypes=(t={},t[n]=Eg.default.object.isRequired,t);var l=function(u){Ir(c,u);function c(){var f;return f=u.apply(this,arguments)||this,f.state={value:f.getValue()},f.onUpdate=function(g,v){var S=f.observedBits|0;S&v&&f.setState({value:f.getValue()})},f}var d=c.prototype;return d.componentWillReceiveProps=function(g){var v=g.observedBits;this.observedBits=v??Cg},d.componentDidMount=function(){this.context[n]&&this.context[n].on(this.onUpdate);var g=this.props.observedBits;this.observedBits=g??Cg},d.componentWillUnmount=function(){this.context[n]&&this.context[n].off(this.onUpdate)},d.getValue=function(){return this.context[n]?this.context[n].get():i},d.render=function(){return CF(this.props.children)(this.state.value)},c}(oe);return l.contextTypes=(r={},r[n]=Eg.default.object,r),{Provider:s,Consumer:l}}var Eg,Cg,vS,PF,bS,yS=B(()=>{We();xp();Eg=fe(Km()),Cg=1073741823,vS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:{};PF=Be.createContext||EF,bS=PF});var xS=ce((oV,wS)=>{wS.exports=Array.isArray||function(i){return Object.prototype.toString.call(i)=="[object Array]"}});var ES=ce((sV,al)=>{var Ip=xS();al.exports=CS;al.exports.parse=Pg;al.exports.compile=AF;al.exports.tokensToFunction=SS;al.exports.tokensToRegExp=_S;var IF=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function Pg(i,e){for(var t=[],r=0,n=0,s="",l=e&&e.delimiter||"/",u;(u=IF.exec(i))!=null;){var c=u[0],d=u[1],f=u.index;if(s+=i.slice(n,f),n=f+c.length,d){s+=d[1];continue}var g=i[n],v=u[2],S=u[3],C=u[4],_=u[5],M=u[6],T=u[7];s&&(t.push(s),s="");var F=v!=null&&g!=null&&g!==v,H=M==="+"||M==="*",L=M==="?"||M==="*",z=u[2]||l,ie=C||_;t.push({name:S||r++,prefix:v||"",delimiter:z,optional:L,repeat:H,partial:F,asterisk:!!T,pattern:ie?TF(ie):T?".*":"[^"+Pp(z)+"]+?"})}return n<i.length&&(s+=i.substr(n)),s&&t.push(s),t}function AF(i,e){return SS(Pg(i,e),e)}function RF(i){return encodeURI(i).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function MF(i){return encodeURI(i).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function SS(i,e){for(var t=new Array(i.length),r=0;r<i.length;r++)typeof i[r]=="object"&&(t[r]=new RegExp("^(?:"+i[r].pattern+")$",Ag(e)));return function(n,s){for(var l="",u=n||{},c=s||{},d=c.pretty?RF:encodeURIComponent,f=0;f<i.length;f++){var g=i[f];if(typeof g=="string"){l+=g;continue}var v=u[g.name],S;if(v==null)if(g.optional){g.partial&&(l+=g.prefix);continue}else throw new TypeError('Expected "'+g.name+'" to be defined');if(Ip(v)){if(!g.repeat)throw new TypeError('Expected "'+g.name+'" to not repeat, but received `'+JSON.stringify(v)+"`");if(v.length===0){if(g.optional)continue;throw new TypeError('Expected "'+g.name+'" to not be empty')}for(var C=0;C<v.length;C++){if(S=d(v[C]),!t[f].test(S))throw new TypeError('Expected all "'+g.name+'" to match "'+g.pattern+'", but received `'+JSON.stringify(S)+"`");l+=(C===0?g.prefix:g.delimiter)+S}continue}if(S=g.asterisk?MF(v):d(v),!t[f].test(S))throw new TypeError('Expected "'+g.name+'" to match "'+g.pattern+'", but received "'+S+'"');l+=g.prefix+S}return l}}function Pp(i){return i.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function TF(i){return i.replace(/([=!:$\/()])/g,"\\$1")}function Ig(i,e){return i.keys=e,i}function Ag(i){return i&&i.sensitive?"":"i"}function kF(i,e){var t=i.source.match(/\((?!\?)/g);if(t)for(var r=0;r<t.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return Ig(i,e)}function NF(i,e,t){for(var r=[],n=0;n<i.length;n++)r.push(CS(i[n],e,t).source);var s=new RegExp("(?:"+r.join("|")+")",Ag(t));return Ig(s,e)}function DF(i,e,t){return _S(Pg(i,t),e,t)}function _S(i,e,t){Ip(e)||(t=e||t,e=[]),t=t||{};for(var r=t.strict,n=t.end!==!1,s="",l=0;l<i.length;l++){var u=i[l];if(typeof u=="string")s+=Pp(u);else{var c=Pp(u.prefix),d="(?:"+u.pattern+")";e.push(u),u.repeat&&(d+="(?:"+c+d+")*"),u.optional?u.partial?d=c+"("+d+")?":d="(?:"+c+"("+d+"))?":d=c+"("+d+")",s+=d}}var f=Pp(t.delimiter||"/"),g=s.slice(-f.length)===f;return r||(s=(g?s.slice(0,-f.length):s)+"(?:"+f+"(?=$))?"),n?s+="$":s+=r&&g?"":"(?="+f+"|$)",Ig(new RegExp("^"+s,Ag(t)),e)}function CS(i,e,t){return Ip(e)||(t=e||t,e=[]),t=t||{},i instanceof RegExp?kF(i,e):Ip(i)?NF(i,e,t):DF(i,e,t)}});function zF(i,e){var t=""+e.end+e.strict+e.sensitive,r=PS[t]||(PS[t]={});if(r[i])return r[i];var n=[],s=(0,MS.default)(i,n,e),l={regexp:s,keys:n};return IS<FF&&(r[i]=l,IS++),l}function oa(i,e){e===void 0&&(e={}),(typeof e=="string"||Array.isArray(e))&&(e={path:e});var t=e,r=t.path,n=t.exact,s=n===void 0?!1:n,l=t.strict,u=l===void 0?!1:l,c=t.sensitive,d=c===void 0?!1:c,f=[].concat(r);return f.reduce(function(g,v){if(!v&&v!=="")return null;if(g)return g;var S=zF(v,{end:s,strict:u,sensitive:d}),C=S.regexp,_=S.keys,M=C.exec(i);if(!M)return null;var T=M[0],F=M.slice(1),H=i===T;return s&&!H?null:{path:v,url:v==="/"&&T===""?"/":T,isExact:H,params:_.reduce(function(L,z,ie){return L[z.name]=F[ie],L},{})}},null)}function HF(i){return Be.Children.count(i)===0}function Mg(i){return i.charAt(0)==="/"?i:"/"+i}function UF(i,e){return i?Nt({},e,{pathname:Mg(i)+e.pathname}):e}function qF(i,e){if(!i)return e;var t=Mg(i);return e.pathname.indexOf(t)!==0?e:Nt({},e,{pathname:e.pathname.substr(t.length)})}function AS(i){return typeof i=="string"?i:rr(i)}function Rg(i){return function(){Pn(!1)}}function RS(){}function In(i){var e="withRouter("+(i.displayName||i.name)+")",t=function(n){var s=n.wrappedComponentRef,l=vr(n,["wrappedComponentRef"]);return Be.createElement(us.Consumer,null,function(u){return u||Pn(!1),Be.createElement(i,Nt({},l,u,{ref:s}))})};return t.displayName=e,t.WrappedComponent=i,(0,TS.default)(t,i)}var MS,fV,TS,kS,OF,us,cs,LF,vV,PS,FF,IS,ln,BF,Ap,bV,Lo=B(()=>{xp();We();Ep();yS();_p();ia();MS=fe(ES()),fV=fe(tg());nl();TS=fe(ng()),kS=function(e){var t=bS();return t.displayName=e,t},OF=kS("Router-History"),us=kS("Router"),cs=function(i){Ir(e,i),e.computeRootMatch=function(n){return{path:"/",url:"/",params:{},isExact:n==="/"}};function e(r){var n;return n=i.call(this,r)||this,n.state={location:r.history.location},n._isMounted=!1,n._pendingLocation=null,r.staticContext||(n.unlisten=r.history.listen(function(s){n._pendingLocation=s})),n}var t=e.prototype;return t.componentDidMount=function(){var n=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen(function(s){n._isMounted&&n.setState({location:s})})),this._pendingLocation&&this.setState({location:this._pendingLocation})},t.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},t.render=function(){return Be.createElement(us.Provider,{value:{history:this.props.history,location:this.state.location,match:e.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},Be.createElement(OF.Provider,{children:this.props.children||null,value:this.props.history}))},e}(Be.Component),LF=function(i){Ir(e,i);function e(){for(var r,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return r=i.call.apply(i,[this].concat(s))||this,r.history=gS(r.props),r}var t=e.prototype;return t.render=function(){return Be.createElement(cs,{history:this.history,children:this.props.children})},e}(Be.Component),vV=function(i){Ir(e,i);function e(){return i.apply(this,arguments)||this}var t=e.prototype;return t.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},t.componentDidUpdate=function(n){this.props.onUpdate&&this.props.onUpdate.call(this,this,n)},t.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},t.render=function(){return null},e}(Be.Component),PS={},FF=1e4,IS=0;ln=function(i){Ir(e,i);function e(){return i.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var n=this;return Be.createElement(us.Consumer,null,function(s){s||Pn(!1);var l=n.props.location||s.location,u=n.props.computedMatch?n.props.computedMatch:n.props.path?oa(l.pathname,n.props):s.match,c=Nt({},s,{location:l,match:u}),d=n.props,f=d.children,g=d.component,v=d.render;return Array.isArray(f)&&HF(f)&&(f=null),Be.createElement(us.Provider,{value:c},c.match?f?typeof f=="function"?f(c):f:g?Be.createElement(g,c):v?v(c):null:typeof f=="function"?f(c):null)})},e}(Be.Component);BF=function(i){Ir(e,i);function e(){for(var r,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return r=i.call.apply(i,[this].concat(s))||this,r.handlePush=function(u){return r.navigateTo(u,"PUSH")},r.handleReplace=function(u){return r.navigateTo(u,"REPLACE")},r.handleListen=function(){return RS},r.handleBlock=function(){return RS},r}var t=e.prototype;return t.navigateTo=function(n,s){var l=this.props,u=l.basename,c=u===void 0?"":u,d=l.context,f=d===void 0?{}:d;f.action=s,f.location=UF(c,br(n)),f.url=AS(f.location)},t.render=function(){var n=this.props,s=n.basename,l=s===void 0?"":s,u=n.context,c=u===void 0?{}:u,d=n.location,f=d===void 0?"/":d,g=vr(n,["basename","context","location"]),v={createHref:function(C){return Mg(l+AS(C))},action:"POP",location:qF(l,br(f)),push:this.handlePush,replace:this.handleReplace,go:Rg("go"),goBack:Rg("goBack"),goForward:Rg("goForward"),listen:this.handleListen,block:this.handleBlock};return Be.createElement(cs,Nt({},g,{history:v,staticContext:c}))},e}(Be.Component),Ap=function(i){Ir(e,i);function e(){return i.apply(this,arguments)||this}var t=e.prototype;return t.render=function(){var n=this;return Be.createElement(us.Consumer,null,function(s){s||Pn(!1);var l=n.props.location||s.location,u,c;return Be.Children.forEach(n.props.children,function(d){if(c==null&&Be.isValidElement(d)){u=d;var f=d.props.path||d.props.from;c=f?oa(l.pathname,Nt({},d.props,{path:f})):s.match}}),c?Be.cloneElement(u,{location:l,computedMatch:c}):null})},e}(Be.Component);bV=Be.useContext});var Se=ce((ll,ic)=>{(function(){var i,e="4.17.21",t=200,r="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",n="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",d=1,f=2,g=4,v=1,S=2,C=1,_=2,M=4,T=8,F=16,H=32,L=64,z=128,ie=256,X=512,N=30,ee="...",de=800,Z=16,Y=1,D=2,V=3,G=1/0,K=9007199254740991,ne=17976931348623157e292,W=NaN,U=4294967295,J=U-1,ae=U>>>1,ue=[["ary",z],["bind",C],["bindKey",_],["curry",T],["curryRight",F],["flip",X],["partial",H],["partialRight",L],["rearg",ie]],he="[object Arguments]",me="[object Array]",Ae="[object AsyncFunction]",Ie="[object Boolean]",De="[object Date]",He="[object DOMException]",ut="[object Error]",Ve="[object Function]",ot="[object GeneratorFunction]",_e="[object Map]",ct="[object Number]",st="[object Null]",$e="[object Object]",je="[object Promise]",$t="[object Proxy]",Ut="[object RegExp]",_t="[object Set]",Lt="[object String]",rt="[object Symbol]",Hi="[object Undefined]",Yt="[object WeakMap]",po="[object WeakSet]",Dr="[object ArrayBuffer]",mn="[object DataView]",$o="[object Float32Array]",ho="[object Float64Array]",bi="[object Int8Array]",gt="[object Int16Array]",yr="[object Int32Array]",sr="[object Uint8Array]",Ma="[object Uint8ClampedArray]",oi="[object Uint16Array]",fo="[object Uint32Array]",Vo=/\b__p \+= '';/g,Ta=/\b(__p \+=) '' \+/g,Xl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ui=/&(?:amp|lt|gt|quot|#39);/g,Zl=/[&<>"']/g,Jl=RegExp(Ui.source),Ql=RegExp(Zl.source),Rf=/<%-([\s\S]+?)%>/g,Mf=/<%([\s\S]+?)%>/g,ka=/<%=([\s\S]+?)%>/g,ed=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,td=/^\w*$/,id=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eu=/[\\^$.*+?()[\]{}|]/g,Tf=RegExp(eu.source),tu=/^\s+/,rd=/\s/,ar=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,mo=/\{\n\/\* \[wrapped with (.+)\] \*/,Ps=/,? & /,iu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Is=/[()=,{}\[\]\/\s]/,jo=/\\(\\)?/g,kf=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ru=/\w*$/,nu=/^[-+]0x[0-9a-f]+$/i,nd=/^0b[01]+$/i,Na=/^\[object .+?Constructor\]$/,Zi=/^0o[0-7]+$/i,go=/^(?:0|[1-9]\d*)$/,Ji=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,pi=/($^)/,vo=/['\n\r\u2028\u2029\\]/g,Or="\\ud800-\\udfff",bo="\\u0300-\\u036f",As="\\ufe20-\\ufe2f",yo="\\u20d0-\\u20ff",wo=bo+As+yo,Da="\\u2700-\\u27bf",Go="a-z\\xdf-\\xf6\\xf8-\\xff",Rs="\\xac\\xb1\\xd7\\xf7",Oa="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",La="\\u2000-\\u206f",ou=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",lr="A-Z\\xc0-\\xd6\\xd8-\\xde",Fa="\\ufe0e\\ufe0f",zn=Rs+Oa+La+ou,gn="['\u2019]",za="["+Or+"]",vn="["+zn+"]",Ei="["+wo+"]",Xr="\\d+",od="["+Da+"]",su="["+Go+"]",dt="[^"+Or+zn+Xr+Da+Go+lr+"]",Lr="\\ud83c[\\udffb-\\udfff]",ur="(?:"+Ei+"|"+Lr+")",qi="[^"+Or+"]",xo="(?:\\ud83c[\\udde6-\\uddff]){2}",Hn="[\\ud800-\\udbff][\\udc00-\\udfff]",Bi="["+lr+"]",Ha="\\u200d",Ms="(?:"+su+"|"+dt+")",Ts="(?:"+Bi+"|"+dt+")",ks="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",sd="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",ad=ur+"?",au="["+Fa+"]?",lu="(?:"+Ha+"(?:"+[qi,xo,Hn].join("|")+")"+au+ad+")*",ld="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Nf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",uu=au+ad+lu,cu="(?:"+[od,xo,Hn].join("|")+")"+uu,ud="(?:"+[qi+Ei+"?",Ei,xo,Hn,za].join("|")+")",cd=RegExp(gn,"g"),dd=RegExp(Ei,"g"),du=RegExp(Lr+"(?="+Lr+")|"+ud+uu,"g"),pd=RegExp([Bi+"?"+su+"+"+ks+"(?="+[vn,Bi,"$"].join("|")+")",Ts+"+"+sd+"(?="+[vn,Bi+Ms,"$"].join("|")+")",Bi+"?"+Ms+"+"+ks,Bi+"+"+sd,Nf,ld,Xr,cu].join("|"),"g"),Yo=RegExp("["+Ha+Or+wo+Fa+"]"),Df=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Un=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ua=-1,Rt={};Rt[$o]=Rt[ho]=Rt[bi]=Rt[gt]=Rt[yr]=Rt[sr]=Rt[Ma]=Rt[oi]=Rt[fo]=!0,Rt[he]=Rt[me]=Rt[Dr]=Rt[Ie]=Rt[mn]=Rt[De]=Rt[ut]=Rt[Ve]=Rt[_e]=Rt[ct]=Rt[$e]=Rt[Ut]=Rt[_t]=Rt[Lt]=Rt[Yt]=!1;var Mt={};Mt[he]=Mt[me]=Mt[Dr]=Mt[mn]=Mt[Ie]=Mt[De]=Mt[$o]=Mt[ho]=Mt[bi]=Mt[gt]=Mt[yr]=Mt[_e]=Mt[ct]=Mt[$e]=Mt[Ut]=Mt[_t]=Mt[Lt]=Mt[rt]=Mt[sr]=Mt[Ma]=Mt[oi]=Mt[fo]=!0,Mt[ut]=Mt[Ve]=Mt[Yt]=!1;var hd={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Of={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ff={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},zf=parseFloat,Hf=parseInt,fd=typeof global=="object"&&global&&global.Object===Object&&global,Uf=typeof self=="object"&&self&&self.Object===Object&&self,yi=fd||Uf||Function("return this")(),pu=typeof ll=="object"&&ll&&!ll.nodeType&&ll,cr=pu&&typeof ic=="object"&&ic&&!ic.nodeType&&ic,hu=cr&&cr.exports===pu,qn=hu&&fd.process,Tt=function(){try{var $=cr&&cr.require&&cr.require("util").types;return $||qn&&qn.binding&&qn.binding("util")}catch{}}(),Bn=Tt&&Tt.isArrayBuffer,qa=Tt&&Tt.isDate,Ko=Tt&&Tt.isMap,md=Tt&&Tt.isRegExp,Zr=Tt&&Tt.isSet,Qi=Tt&&Tt.isTypedArray;function dr($,pe,le){switch(le.length){case 0:return $.call(pe);case 1:return $.call(pe,le[0]);case 2:return $.call(pe,le[0],le[1]);case 3:return $.call(pe,le[0],le[1],le[2])}return $.apply(pe,le)}function qf($,pe,le,Ee){for(var Qe=-1,yt=$==null?0:$.length;++Qe<yt;){var Xt=$[Qe];pe(Ee,Xt,le(Xt),$)}return Ee}function wr($,pe){for(var le=-1,Ee=$==null?0:$.length;++le<Ee&&pe($[le],le,$)!==!1;);return $}function Ns($,pe){for(var le=$==null?0:$.length;le--&&pe($[le],le,$)!==!1;);return $}function Ds($,pe){for(var le=-1,Ee=$==null?0:$.length;++le<Ee;)if(!pe($[le],le,$))return!1;return!0}function bn($,pe){for(var le=-1,Ee=$==null?0:$.length,Qe=0,yt=[];++le<Ee;){var Xt=$[le];pe(Xt,le,$)&&(yt[Qe++]=Xt)}return yt}function Os($,pe){var le=$==null?0:$.length;return!!le&&Fr($,pe,0)>-1}function Jr($,pe,le){for(var Ee=-1,Qe=$==null?0:$.length;++Ee<Qe;)if(le(pe,$[Ee]))return!0;return!1}function qt($,pe){for(var le=-1,Ee=$==null?0:$.length,Qe=Array(Ee);++le<Ee;)Qe[le]=pe($[le],le,$);return Qe}function yn($,pe){for(var le=-1,Ee=pe.length,Qe=$.length;++le<Ee;)$[Qe+le]=pe[le];return $}function Qr($,pe,le,Ee){var Qe=-1,yt=$==null?0:$.length;for(Ee&&yt&&(le=$[++Qe]);++Qe<yt;)le=pe(le,$[Qe],Qe,$);return le}function fu($,pe,le,Ee){var Qe=$==null?0:$.length;for(Ee&&Qe&&(le=$[--Qe]);Qe--;)le=pe(le,$[Qe],Qe,$);return le}function Ls($,pe){for(var le=-1,Ee=$==null?0:$.length;++le<Ee;)if(pe($[le],le,$))return!0;return!1}var Ba=zs("length");function Fs($){return $.split("")}function mu($){return $.match(iu)||[]}function Wi($,pe,le){var Ee;return le($,function(Qe,yt,Xt){if(pe(Qe,yt,Xt))return Ee=yt,!1}),Ee}function Xo($,pe,le,Ee){for(var Qe=$.length,yt=le+(Ee?1:-1);Ee?yt--:++yt<Qe;)if(pe($[yt],yt,$))return yt;return-1}function Fr($,pe,le){return pe===pe?ei($,pe,le):Xo($,So,le)}function zr($,pe,le,Ee){for(var Qe=le-1,yt=$.length;++Qe<yt;)if(Ee($[Qe],pe))return Qe;return-1}function So($){return $!==$}function en($,pe){var le=$==null?0:$.length;return le?wn($,pe)/le:W}function zs($){return function(pe){return pe==null?i:pe[$]}}function _o($){return function(pe){return $==null?i:$[pe]}}function Wa($,pe,le,Ee,Qe){return Qe($,function(yt,Xt,Ct){le=Ee?(Ee=!1,yt):pe(le,yt,Xt,Ct)}),le}function gu($,pe){var le=$.length;for($.sort(pe);le--;)$[le]=$[le].value;return $}function wn($,pe){for(var le,Ee=-1,Qe=$.length;++Ee<Qe;){var yt=pe($[Ee]);yt!==i&&(le=le===i?yt:le+yt)}return le}function Hs($,pe){for(var le=-1,Ee=Array($);++le<$;)Ee[le]=pe(le);return Ee}function gd($,pe){return qt(pe,function(le){return[le,$[le]]})}function Us($){return $&&$.slice(0,Zo($)+1).replace(tu,"")}function pr($){return function(pe){return $(pe)}}function xr($,pe){return qt(pe,function(le){return $[le]})}function hi($,pe){return $.has(pe)}function x($,pe){for(var le=-1,Ee=$.length;++le<Ee&&Fr(pe,$[le],0)>-1;);return le}function I($,pe){for(var le=$.length;le--&&Fr(pe,$[le],0)>-1;);return le}function k($,pe){for(var le=$.length,Ee=0;le--;)$[le]===pe&&++Ee;return Ee}var R=_o(hd),re=_o(Of);function xe($){return"\\"+Ff[$]}function ke($,pe){return $==null?i:$[pe]}function Ue($){return Yo.test($)}function Je($){return Df.test($)}function Le($){for(var pe,le=[];!(pe=$.next()).done;)le.push(pe.value);return le}function Ke($){var pe=-1,le=Array($.size);return $.forEach(function(Ee,Qe){le[++pe]=[Qe,Ee]}),le}function ft($,pe){return function(le){return $(pe(le))}}function Pt($,pe){for(var le=-1,Ee=$.length,Qe=0,yt=[];++le<Ee;){var Xt=$[le];(Xt===pe||Xt===c)&&($[le]=c,yt[Qe++]=le)}return yt}function wi($){var pe=-1,le=Array($.size);return $.forEach(function(Ee){le[++pe]=Ee}),le}function hr($){var pe=-1,le=Array($.size);return $.forEach(function(Ee){le[++pe]=[Ee,Ee]}),le}function ei($,pe,le){for(var Ee=le-1,Qe=$.length;++Ee<Qe;)if($[Ee]===pe)return Ee;return-1}function Kt($,pe,le){for(var Ee=le+1;Ee--;)if($[Ee]===pe)return Ee;return Ee}function si($){return Ue($)?Va($):Ba($)}function Pi($){return Ue($)?vu($):Fs($)}function Zo($){for(var pe=$.length;pe--&&rd.test($.charAt(pe)););return pe}var $a=_o(Lf);function Va($){for(var pe=du.lastIndex=0;du.test($);)++pe;return pe}function vu($){return $.match(du)||[]}function qs($){return $.match(pd)||[]}var Hr=function $(pe){pe=pe==null?yi:er.defaults(yi.Object(),pe,er.pick(yi,Un));var le=pe.Array,Ee=pe.Date,Qe=pe.Error,yt=pe.Function,Xt=pe.Math,Ct=pe.Object,Co=pe.RegExp,$i=pe.String,Vi=pe.TypeError,xn=le.prototype,Jo=yt.prototype,Sr=Ct.prototype,Bs=pe["__core-js_shared__"],ja=Jo.toString,kt=Sr.hasOwnProperty,Ik=0,n0=function(){var o=/[^.]+$/.exec(Bs&&Bs.keys&&Bs.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}(),vd=Sr.toString,Ak=ja.call(Ct),Rk=yi._,Mk=Co("^"+ja.call(kt).replace(eu,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),bd=hu?pe.Buffer:i,Qo=pe.Symbol,yd=pe.Uint8Array,o0=bd?bd.allocUnsafe:i,wd=ft(Ct.getPrototypeOf,Ct),s0=Ct.create,a0=Sr.propertyIsEnumerable,xd=xn.splice,l0=Qo?Qo.isConcatSpreadable:i,bu=Qo?Qo.iterator:i,Ws=Qo?Qo.toStringTag:i,Sd=function(){try{var o=Ys(Ct,"defineProperty");return o({},"",{}),o}catch{}}(),Tk=pe.clearTimeout!==yi.clearTimeout&&pe.clearTimeout,kk=Ee&&Ee.now!==yi.Date.now&&Ee.now,Nk=pe.setTimeout!==yi.setTimeout&&pe.setTimeout,_d=Xt.ceil,Cd=Xt.floor,Bf=Ct.getOwnPropertySymbols,Dk=bd?bd.isBuffer:i,u0=pe.isFinite,Ok=xn.join,Lk=ft(Ct.keys,Ct),_i=Xt.max,tr=Xt.min,Fk=Ee.now,zk=pe.parseInt,c0=Xt.random,Hk=xn.reverse,Wf=Ys(pe,"DataView"),yu=Ys(pe,"Map"),$f=Ys(pe,"Promise"),Ga=Ys(pe,"Set"),wu=Ys(pe,"WeakMap"),xu=Ys(Ct,"create"),Ed=wu&&new wu,Ya={},Uk=Ks(Wf),qk=Ks(yu),Bk=Ks($f),Wk=Ks(Ga),$k=Ks(wu),Pd=Qo?Qo.prototype:i,Su=Pd?Pd.valueOf:i,d0=Pd?Pd.toString:i;function P(o){if(ai(o)&&!pt(o)&&!(o instanceof xt)){if(o instanceof tn)return o;if(kt.call(o,"__wrapped__"))return pw(o)}return new tn(o)}var Ka=function(){function o(){}return function(a){if(!ti(a))return{};if(s0)return s0(a);o.prototype=a;var p=new o;return o.prototype=i,p}}();function Id(){}function tn(o,a){this.__wrapped__=o,this.__actions__=[],this.__chain__=!!a,this.__index__=0,this.__values__=i}P.templateSettings={escape:Rf,evaluate:Mf,interpolate:ka,variable:"",imports:{_:P}},P.prototype=Id.prototype,P.prototype.constructor=P,tn.prototype=Ka(Id.prototype),tn.prototype.constructor=tn;function xt(o){this.__wrapped__=o,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=U,this.__views__=[]}function Vk(){var o=new xt(this.__wrapped__);return o.__actions__=_r(this.__actions__),o.__dir__=this.__dir__,o.__filtered__=this.__filtered__,o.__iteratees__=_r(this.__iteratees__),o.__takeCount__=this.__takeCount__,o.__views__=_r(this.__views__),o}function jk(){if(this.__filtered__){var o=new xt(this);o.__dir__=-1,o.__filtered__=!0}else o=this.clone(),o.__dir__*=-1;return o}function Gk(){var o=this.__wrapped__.value(),a=this.__dir__,p=pt(o),b=a<0,E=p?o.length:0,A=oD(0,E,this.__views__),O=A.start,q=A.end,j=q-O,ge=b?q:O-1,be=this.__iteratees__,we=be.length,Re=0,qe=tr(j,this.__takeCount__);if(!p||!b&&E==j&&qe==j)return O0(o,this.__actions__);var et=[];e:for(;j--&&Re<qe;){ge+=a;for(var vt=-1,tt=o[ge];++vt<we;){var wt=be[vt],St=wt.iteratee,Br=wt.type,gr=St(tt);if(Br==D)tt=gr;else if(!gr){if(Br==Y)continue e;break e}}et[Re++]=tt}return et}xt.prototype=Ka(Id.prototype),xt.prototype.constructor=xt;function $s(o){var a=-1,p=o==null?0:o.length;for(this.clear();++a<p;){var b=o[a];this.set(b[0],b[1])}}function Yk(){this.__data__=xu?xu(null):{},this.size=0}function Kk(o){var a=this.has(o)&&delete this.__data__[o];return this.size-=a?1:0,a}function Xk(o){var a=this.__data__;if(xu){var p=a[o];return p===l?i:p}return kt.call(a,o)?a[o]:i}function Zk(o){var a=this.__data__;return xu?a[o]!==i:kt.call(a,o)}function Jk(o,a){var p=this.__data__;return this.size+=this.has(o)?0:1,p[o]=xu&&a===i?l:a,this}$s.prototype.clear=Yk,$s.prototype.delete=Kk,$s.prototype.get=Xk,$s.prototype.has=Zk,$s.prototype.set=Jk;function Eo(o){var a=-1,p=o==null?0:o.length;for(this.clear();++a<p;){var b=o[a];this.set(b[0],b[1])}}function Qk(){this.__data__=[],this.size=0}function eN(o){var a=this.__data__,p=Ad(a,o);if(p<0)return!1;var b=a.length-1;return p==b?a.pop():xd.call(a,p,1),--this.size,!0}function tN(o){var a=this.__data__,p=Ad(a,o);return p<0?i:a[p][1]}function iN(o){return Ad(this.__data__,o)>-1}function rN(o,a){var p=this.__data__,b=Ad(p,o);return b<0?(++this.size,p.push([o,a])):p[b][1]=a,this}Eo.prototype.clear=Qk,Eo.prototype.delete=eN,Eo.prototype.get=tN,Eo.prototype.has=iN,Eo.prototype.set=rN;function Po(o){var a=-1,p=o==null?0:o.length;for(this.clear();++a<p;){var b=o[a];this.set(b[0],b[1])}}function nN(){this.size=0,this.__data__={hash:new $s,map:new(yu||Eo),string:new $s}}function oN(o){var a=Ud(this,o).delete(o);return this.size-=a?1:0,a}function sN(o){return Ud(this,o).get(o)}function aN(o){return Ud(this,o).has(o)}function lN(o,a){var p=Ud(this,o),b=p.size;return p.set(o,a),this.size+=p.size==b?0:1,this}Po.prototype.clear=nN,Po.prototype.delete=oN,Po.prototype.get=sN,Po.prototype.has=aN,Po.prototype.set=lN;function Vs(o){var a=-1,p=o==null?0:o.length;for(this.__data__=new Po;++a<p;)this.add(o[a])}function uN(o){return this.__data__.set(o,l),this}function cN(o){return this.__data__.has(o)}Vs.prototype.add=Vs.prototype.push=uN,Vs.prototype.has=cN;function Sn(o){var a=this.__data__=new Eo(o);this.size=a.size}function dN(){this.__data__=new Eo,this.size=0}function pN(o){var a=this.__data__,p=a.delete(o);return this.size=a.size,p}function hN(o){return this.__data__.get(o)}function fN(o){return this.__data__.has(o)}function mN(o,a){var p=this.__data__;if(p instanceof Eo){var b=p.__data__;if(!yu||b.length<t-1)return b.push([o,a]),this.size=++p.size,this;p=this.__data__=new Po(b)}return p.set(o,a),this.size=p.size,this}Sn.prototype.clear=dN,Sn.prototype.delete=pN,Sn.prototype.get=hN,Sn.prototype.has=fN,Sn.prototype.set=mN;function p0(o,a){var p=pt(o),b=!p&&Xs(o),E=!p&&!b&&ns(o),A=!p&&!b&&!E&&Qa(o),O=p||b||E||A,q=O?Hs(o.length,$i):[],j=q.length;for(var ge in o)(a||kt.call(o,ge))&&!(O&&(ge=="length"||E&&(ge=="offset"||ge=="parent")||A&&(ge=="buffer"||ge=="byteLength"||ge=="byteOffset")||Mo(ge,j)))&&q.push(ge);return q}function h0(o){var a=o.length;return a?o[tm(0,a-1)]:i}function gN(o,a){return qd(_r(o),js(a,0,o.length))}function vN(o){return qd(_r(o))}function Vf(o,a,p){(p!==i&&!_n(o[a],p)||p===i&&!(a in o))&&Io(o,a,p)}function _u(o,a,p){var b=o[a];(!(kt.call(o,a)&&_n(b,p))||p===i&&!(a in o))&&Io(o,a,p)}function Ad(o,a){for(var p=o.length;p--;)if(_n(o[p][0],a))return p;return-1}function bN(o,a,p,b){return es(o,function(E,A,O){a(b,E,p(E),O)}),b}function f0(o,a){return o&&$n(a,Ii(a),o)}function yN(o,a){return o&&$n(a,Er(a),o)}function Io(o,a,p){a=="__proto__"&&Sd?Sd(o,a,{configurable:!0,enumerable:!0,value:p,writable:!0}):o[a]=p}function jf(o,a){for(var p=-1,b=a.length,E=le(b),A=o==null;++p<b;)E[p]=A?i:Pm(o,a[p]);return E}function js(o,a,p){return o===o&&(p!==i&&(o=o<=p?o:p),a!==i&&(o=o>=a?o:a)),o}function rn(o,a,p,b,E,A){var O,q=a&d,j=a&f,ge=a&g;if(p&&(O=E?p(o,b,E,A):p(o)),O!==i)return O;if(!ti(o))return o;var be=pt(o);if(be){if(O=aD(o),!q)return _r(o,O)}else{var we=ir(o),Re=we==Ve||we==ot;if(ns(o))return z0(o,q);if(we==$e||we==he||Re&&!E){if(O=j||Re?{}:rw(o),!q)return j?XN(o,yN(O,o)):KN(o,f0(O,o))}else{if(!Mt[we])return E?o:{};O=lD(o,we,q)}}A||(A=new Sn);var qe=A.get(o);if(qe)return qe;A.set(o,O),kw(o)?o.forEach(function(tt){O.add(rn(tt,a,p,tt,o,A))}):Mw(o)&&o.forEach(function(tt,wt){O.set(wt,rn(tt,a,p,wt,o,A))});var et=ge?j?pm:dm:j?Er:Ii,vt=be?i:et(o);return wr(vt||o,function(tt,wt){vt&&(wt=tt,tt=o[wt]),_u(O,wt,rn(tt,a,p,wt,o,A))}),O}function wN(o){var a=Ii(o);return function(p){return m0(p,o,a)}}function m0(o,a,p){var b=p.length;if(o==null)return!b;for(o=Ct(o);b--;){var E=p[b],A=a[E],O=o[E];if(O===i&&!(E in o)||!A(O))return!1}return!0}function g0(o,a,p){if(typeof o!="function")throw new Vi(n);return Mu(function(){o.apply(i,p)},a)}function Cu(o,a,p,b){var E=-1,A=Os,O=!0,q=o.length,j=[],ge=a.length;if(!q)return j;p&&(a=qt(a,pr(p))),b?(A=Jr,O=!1):a.length>=t&&(A=hi,O=!1,a=new Vs(a));e:for(;++E<q;){var be=o[E],we=p==null?be:p(be);if(be=b||be!==0?be:0,O&&we===we){for(var Re=ge;Re--;)if(a[Re]===we)continue e;j.push(be)}else A(a,we,b)||j.push(be)}return j}var es=W0(Wn),v0=W0(Yf,!0);function xN(o,a){var p=!0;return es(o,function(b,E,A){return p=!!a(b,E,A),p}),p}function Rd(o,a,p){for(var b=-1,E=o.length;++b<E;){var A=o[b],O=a(A);if(O!=null&&(q===i?O===O&&!qr(O):p(O,q)))var q=O,j=A}return j}function SN(o,a,p,b){var E=o.length;for(p=mt(p),p<0&&(p=-p>E?0:E+p),b=b===i||b>E?E:mt(b),b<0&&(b+=E),b=p>b?0:Dw(b);p<b;)o[p++]=a;return o}function b0(o,a){var p=[];return es(o,function(b,E,A){a(b,E,A)&&p.push(b)}),p}function ji(o,a,p,b,E){var A=-1,O=o.length;for(p||(p=cD),E||(E=[]);++A<O;){var q=o[A];a>0&&p(q)?a>1?ji(q,a-1,p,b,E):yn(E,q):b||(E[E.length]=q)}return E}var Gf=$0(),y0=$0(!0);function Wn(o,a){return o&&Gf(o,a,Ii)}function Yf(o,a){return o&&y0(o,a,Ii)}function Md(o,a){return bn(a,function(p){return To(o[p])})}function Gs(o,a){a=is(a,o);for(var p=0,b=a.length;o!=null&&p<b;)o=o[Vn(a[p++])];return p&&p==b?o:i}function w0(o,a,p){var b=a(o);return pt(o)?b:yn(b,p(o))}function fr(o){return o==null?o===i?Hi:st:Ws&&Ws in Ct(o)?nD(o):vD(o)}function Kf(o,a){return o>a}function _N(o,a){return o!=null&&kt.call(o,a)}function CN(o,a){return o!=null&&a in Ct(o)}function EN(o,a,p){return o>=tr(a,p)&&o<_i(a,p)}function Xf(o,a,p){for(var b=p?Jr:Os,E=o[0].length,A=o.length,O=A,q=le(A),j=1/0,ge=[];O--;){var be=o[O];O&&a&&(be=qt(be,pr(a))),j=tr(be.length,j),q[O]=!p&&(a||E>=120&&be.length>=120)?new Vs(O&&be):i}be=o[0];var we=-1,Re=q[0];e:for(;++we<E&&ge.length<j;){var qe=be[we],et=a?a(qe):qe;if(qe=p||qe!==0?qe:0,!(Re?hi(Re,et):b(ge,et,p))){for(O=A;--O;){var vt=q[O];if(!(vt?hi(vt,et):b(o[O],et,p)))continue e}Re&&Re.push(et),ge.push(qe)}}return ge}function PN(o,a,p,b){return Wn(o,function(E,A,O){a(b,p(E),A,O)}),b}function Eu(o,a,p){a=is(a,o),o=aw(o,a);var b=o==null?o:o[Vn(on(a))];return b==null?i:dr(b,o,p)}function x0(o){return ai(o)&&fr(o)==he}function IN(o){return ai(o)&&fr(o)==Dr}function AN(o){return ai(o)&&fr(o)==De}function Pu(o,a,p,b,E){return o===a?!0:o==null||a==null||!ai(o)&&!ai(a)?o!==o&&a!==a:RN(o,a,p,b,Pu,E)}function RN(o,a,p,b,E,A){var O=pt(o),q=pt(a),j=O?me:ir(o),ge=q?me:ir(a);j=j==he?$e:j,ge=ge==he?$e:ge;var be=j==$e,we=ge==$e,Re=j==ge;if(Re&&ns(o)){if(!ns(a))return!1;O=!0,be=!1}if(Re&&!be)return A||(A=new Sn),O||Qa(o)?ew(o,a,p,b,E,A):iD(o,a,j,p,b,E,A);if(!(p&v)){var qe=be&&kt.call(o,"__wrapped__"),et=we&&kt.call(a,"__wrapped__");if(qe||et){var vt=qe?o.value():o,tt=et?a.value():a;return A||(A=new Sn),E(vt,tt,p,b,A)}}return Re?(A||(A=new Sn),rD(o,a,p,b,E,A)):!1}function MN(o){return ai(o)&&ir(o)==_e}function Zf(o,a,p,b){var E=p.length,A=E,O=!b;if(o==null)return!A;for(o=Ct(o);E--;){var q=p[E];if(O&&q[2]?q[1]!==o[q[0]]:!(q[0]in o))return!1}for(;++E<A;){q=p[E];var j=q[0],ge=o[j],be=q[1];if(O&&q[2]){if(ge===i&&!(j in o))return!1}else{var we=new Sn;if(b)var Re=b(ge,be,j,o,a,we);if(!(Re===i?Pu(be,ge,v|S,b,we):Re))return!1}}return!0}function S0(o){if(!ti(o)||pD(o))return!1;var a=To(o)?Mk:Na;return a.test(Ks(o))}function TN(o){return ai(o)&&fr(o)==Ut}function kN(o){return ai(o)&&ir(o)==_t}function NN(o){return ai(o)&&Gd(o.length)&&!!Rt[fr(o)]}function _0(o){return typeof o=="function"?o:o==null?Pr:typeof o=="object"?pt(o)?P0(o[0],o[1]):E0(o):Vw(o)}function Jf(o){if(!Ru(o))return Lk(o);var a=[];for(var p in Ct(o))kt.call(o,p)&&p!="constructor"&&a.push(p);return a}function DN(o){if(!ti(o))return gD(o);var a=Ru(o),p=[];for(var b in o)b=="constructor"&&(a||!kt.call(o,b))||p.push(b);return p}function Qf(o,a){return o<a}function C0(o,a){var p=-1,b=Cr(o)?le(o.length):[];return es(o,function(E,A,O){b[++p]=a(E,A,O)}),b}function E0(o){var a=fm(o);return a.length==1&&a[0][2]?ow(a[0][0],a[0][1]):function(p){return p===o||Zf(p,o,a)}}function P0(o,a){return gm(o)&&nw(a)?ow(Vn(o),a):function(p){var b=Pm(p,o);return b===i&&b===a?Im(p,o):Pu(a,b,v|S)}}function Td(o,a,p,b,E){o!==a&&Gf(a,function(A,O){if(E||(E=new Sn),ti(A))ON(o,a,O,p,Td,b,E);else{var q=b?b(bm(o,O),A,O+"",o,a,E):i;q===i&&(q=A),Vf(o,O,q)}},Er)}function ON(o,a,p,b,E,A,O){var q=bm(o,p),j=bm(a,p),ge=O.get(j);if(ge){Vf(o,p,ge);return}var be=A?A(q,j,p+"",o,a,O):i,we=be===i;if(we){var Re=pt(j),qe=!Re&&ns(j),et=!Re&&!qe&&Qa(j);be=j,Re||qe||et?pt(q)?be=q:fi(q)?be=_r(q):qe?(we=!1,be=z0(j,!0)):et?(we=!1,be=H0(j,!0)):be=[]:Tu(j)||Xs(j)?(be=q,Xs(q)?be=Ow(q):(!ti(q)||To(q))&&(be=rw(j))):we=!1}we&&(O.set(j,be),E(be,j,b,A,O),O.delete(j)),Vf(o,p,be)}function I0(o,a){var p=o.length;if(p)return a+=a<0?p:0,Mo(a,p)?o[a]:i}function A0(o,a,p){a.length?a=qt(a,function(A){return pt(A)?function(O){return Gs(O,A.length===1?A[0]:A)}:A}):a=[Pr];var b=-1;a=qt(a,pr(Xe()));var E=C0(o,function(A,O,q){var j=qt(a,function(ge){return ge(A)});return{criteria:j,index:++b,value:A}});return gu(E,function(A,O){return YN(A,O,p)})}function LN(o,a){return R0(o,a,function(p,b){return Im(o,b)})}function R0(o,a,p){for(var b=-1,E=a.length,A={};++b<E;){var O=a[b],q=Gs(o,O);p(q,O)&&Iu(A,is(O,o),q)}return A}function FN(o){return function(a){return Gs(a,o)}}function em(o,a,p,b){var E=b?zr:Fr,A=-1,O=a.length,q=o;for(o===a&&(a=_r(a)),p&&(q=qt(o,pr(p)));++A<O;)for(var j=0,ge=a[A],be=p?p(ge):ge;(j=E(q,be,j,b))>-1;)q!==o&&xd.call(q,j,1),xd.call(o,j,1);return o}function M0(o,a){for(var p=o?a.length:0,b=p-1;p--;){var E=a[p];if(p==b||E!==A){var A=E;Mo(E)?xd.call(o,E,1):nm(o,E)}}return o}function tm(o,a){return o+Cd(c0()*(a-o+1))}function zN(o,a,p,b){for(var E=-1,A=_i(_d((a-o)/(p||1)),0),O=le(A);A--;)O[b?A:++E]=o,o+=p;return O}function im(o,a){var p="";if(!o||a<1||a>K)return p;do a%2&&(p+=o),a=Cd(a/2),a&&(o+=o);while(a);return p}function bt(o,a){return ym(sw(o,a,Pr),o+"")}function HN(o){return h0(el(o))}function UN(o,a){var p=el(o);return qd(p,js(a,0,p.length))}function Iu(o,a,p,b){if(!ti(o))return o;a=is(a,o);for(var E=-1,A=a.length,O=A-1,q=o;q!=null&&++E<A;){var j=Vn(a[E]),ge=p;if(j==="__proto__"||j==="constructor"||j==="prototype")return o;if(E!=O){var be=q[j];ge=b?b(be,j,q):i,ge===i&&(ge=ti(be)?be:Mo(a[E+1])?[]:{})}_u(q,j,ge),q=q[j]}return o}var T0=Ed?function(o,a){return Ed.set(o,a),o}:Pr,qN=Sd?function(o,a){return Sd(o,"toString",{configurable:!0,enumerable:!1,value:Rm(a),writable:!0})}:Pr;function BN(o){return qd(el(o))}function nn(o,a,p){var b=-1,E=o.length;a<0&&(a=-a>E?0:E+a),p=p>E?E:p,p<0&&(p+=E),E=a>p?0:p-a>>>0,a>>>=0;for(var A=le(E);++b<E;)A[b]=o[b+a];return A}function WN(o,a){var p;return es(o,function(b,E,A){return p=a(b,E,A),!p}),!!p}function kd(o,a,p){var b=0,E=o==null?b:o.length;if(typeof a=="number"&&a===a&&E<=ae){for(;b<E;){var A=b+E>>>1,O=o[A];O!==null&&!qr(O)&&(p?O<=a:O<a)?b=A+1:E=A}return E}return rm(o,a,Pr,p)}function rm(o,a,p,b){var E=0,A=o==null?0:o.length;if(A===0)return 0;a=p(a);for(var O=a!==a,q=a===null,j=qr(a),ge=a===i;E<A;){var be=Cd((E+A)/2),we=p(o[be]),Re=we!==i,qe=we===null,et=we===we,vt=qr(we);if(O)var tt=b||et;else ge?tt=et&&(b||Re):q?tt=et&&Re&&(b||!qe):j?tt=et&&Re&&!qe&&(b||!vt):qe||vt?tt=!1:tt=b?we<=a:we<a;tt?E=be+1:A=be}return tr(A,J)}function k0(o,a){for(var p=-1,b=o.length,E=0,A=[];++p<b;){var O=o[p],q=a?a(O):O;if(!p||!_n(q,j)){var j=q;A[E++]=O===0?0:O}}return A}function N0(o){return typeof o=="number"?o:qr(o)?W:+o}function Ur(o){if(typeof o=="string")return o;if(pt(o))return qt(o,Ur)+"";if(qr(o))return d0?d0.call(o):"";var a=o+"";return a=="0"&&1/o==-G?"-0":a}function ts(o,a,p){var b=-1,E=Os,A=o.length,O=!0,q=[],j=q;if(p)O=!1,E=Jr;else if(A>=t){var ge=a?null:eD(o);if(ge)return wi(ge);O=!1,E=hi,j=new Vs}else j=a?[]:q;e:for(;++b<A;){var be=o[b],we=a?a(be):be;if(be=p||be!==0?be:0,O&&we===we){for(var Re=j.length;Re--;)if(j[Re]===we)continue e;a&&j.push(we),q.push(be)}else E(j,we,p)||(j!==q&&j.push(we),q.push(be))}return q}function nm(o,a){return a=is(a,o),o=aw(o,a),o==null||delete o[Vn(on(a))]}function D0(o,a,p,b){return Iu(o,a,p(Gs(o,a)),b)}function Nd(o,a,p,b){for(var E=o.length,A=b?E:-1;(b?A--:++A<E)&&a(o[A],A,o););return p?nn(o,b?0:A,b?A+1:E):nn(o,b?A+1:0,b?E:A)}function O0(o,a){var p=o;return p instanceof xt&&(p=p.value()),Qr(a,function(b,E){return E.func.apply(E.thisArg,yn([b],E.args))},p)}function om(o,a,p){var b=o.length;if(b<2)return b?ts(o[0]):[];for(var E=-1,A=le(b);++E<b;)for(var O=o[E],q=-1;++q<b;)q!=E&&(A[E]=Cu(A[E]||O,o[q],a,p));return ts(ji(A,1),a,p)}function L0(o,a,p){for(var b=-1,E=o.length,A=a.length,O={};++b<E;){var q=b<A?a[b]:i;p(O,o[b],q)}return O}function sm(o){return fi(o)?o:[]}function am(o){return typeof o=="function"?o:Pr}function is(o,a){return pt(o)?o:gm(o,a)?[o]:dw(It(o))}var $N=bt;function rs(o,a,p){var b=o.length;return p=p===i?b:p,!a&&p>=b?o:nn(o,a,p)}var F0=Tk||function(o){return yi.clearTimeout(o)};function z0(o,a){if(a)return o.slice();var p=o.length,b=o0?o0(p):new o.constructor(p);return o.copy(b),b}function lm(o){var a=new o.constructor(o.byteLength);return new yd(a).set(new yd(o)),a}function VN(o,a){var p=a?lm(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.byteLength)}function jN(o){var a=new o.constructor(o.source,ru.exec(o));return a.lastIndex=o.lastIndex,a}function GN(o){return Su?Ct(Su.call(o)):{}}function H0(o,a){var p=a?lm(o.buffer):o.buffer;return new o.constructor(p,o.byteOffset,o.length)}function U0(o,a){if(o!==a){var p=o!==i,b=o===null,E=o===o,A=qr(o),O=a!==i,q=a===null,j=a===a,ge=qr(a);if(!q&&!ge&&!A&&o>a||A&&O&&j&&!q&&!ge||b&&O&&j||!p&&j||!E)return 1;if(!b&&!A&&!ge&&o<a||ge&&p&&E&&!b&&!A||q&&p&&E||!O&&E||!j)return-1}return 0}function YN(o,a,p){for(var b=-1,E=o.criteria,A=a.criteria,O=E.length,q=p.length;++b<O;){var j=U0(E[b],A[b]);if(j){if(b>=q)return j;var ge=p[b];return j*(ge=="desc"?-1:1)}}return o.index-a.index}function q0(o,a,p,b){for(var E=-1,A=o.length,O=p.length,q=-1,j=a.length,ge=_i(A-O,0),be=le(j+ge),we=!b;++q<j;)be[q]=a[q];for(;++E<O;)(we||E<A)&&(be[p[E]]=o[E]);for(;ge--;)be[q++]=o[E++];return be}function B0(o,a,p,b){for(var E=-1,A=o.length,O=-1,q=p.length,j=-1,ge=a.length,be=_i(A-q,0),we=le(be+ge),Re=!b;++E<be;)we[E]=o[E];for(var qe=E;++j<ge;)we[qe+j]=a[j];for(;++O<q;)(Re||E<A)&&(we[qe+p[O]]=o[E++]);return we}function _r(o,a){var p=-1,b=o.length;for(a||(a=le(b));++p<b;)a[p]=o[p];return a}function $n(o,a,p,b){var E=!p;p||(p={});for(var A=-1,O=a.length;++A<O;){var q=a[A],j=b?b(p[q],o[q],q,p,o):i;j===i&&(j=o[q]),E?Io(p,q,j):_u(p,q,j)}return p}function KN(o,a){return $n(o,mm(o),a)}function XN(o,a){return $n(o,tw(o),a)}function Dd(o,a){return function(p,b){var E=pt(p)?qf:bN,A=a?a():{};return E(p,o,Xe(b,2),A)}}function Xa(o){return bt(function(a,p){var b=-1,E=p.length,A=E>1?p[E-1]:i,O=E>2?p[2]:i;for(A=o.length>3&&typeof A=="function"?(E--,A):i,O&&mr(p[0],p[1],O)&&(A=E<3?i:A,E=1),a=Ct(a);++b<E;){var q=p[b];q&&o(a,q,b,A)}return a})}function W0(o,a){return function(p,b){if(p==null)return p;if(!Cr(p))return o(p,b);for(var E=p.length,A=a?E:-1,O=Ct(p);(a?A--:++A<E)&&b(O[A],A,O)!==!1;);return p}}function $0(o){return function(a,p,b){for(var E=-1,A=Ct(a),O=b(a),q=O.length;q--;){var j=O[o?q:++E];if(p(A[j],j,A)===!1)break}return a}}function ZN(o,a,p){var b=a&C,E=Au(o);function A(){var O=this&&this!==yi&&this instanceof A?E:o;return O.apply(b?p:this,arguments)}return A}function V0(o){return function(a){a=It(a);var p=Ue(a)?Pi(a):i,b=p?p[0]:a.charAt(0),E=p?rs(p,1).join(""):a.slice(1);return b[o]()+E}}function Za(o){return function(a){return Qr(Ww(Bw(a).replace(cd,"")),o,"")}}function Au(o){return function(){var a=arguments;switch(a.length){case 0:return new o;case 1:return new o(a[0]);case 2:return new o(a[0],a[1]);case 3:return new o(a[0],a[1],a[2]);case 4:return new o(a[0],a[1],a[2],a[3]);case 5:return new o(a[0],a[1],a[2],a[3],a[4]);case 6:return new o(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return new o(a[0],a[1],a[2],a[3],a[4],a[5],a[6])}var p=Ka(o.prototype),b=o.apply(p,a);return ti(b)?b:p}}function JN(o,a,p){var b=Au(o);function E(){for(var A=arguments.length,O=le(A),q=A,j=Ja(E);q--;)O[q]=arguments[q];var ge=A<3&&O[0]!==j&&O[A-1]!==j?[]:Pt(O,j);if(A-=ge.length,A<p)return X0(o,a,Od,E.placeholder,i,O,ge,i,i,p-A);var be=this&&this!==yi&&this instanceof E?b:o;return dr(be,this,O)}return E}function j0(o){return function(a,p,b){var E=Ct(a);if(!Cr(a)){var A=Xe(p,3);a=Ii(a),p=function(q){return A(E[q],q,E)}}var O=o(a,p,b);return O>-1?E[A?a[O]:O]:i}}function G0(o){return Ro(function(a){var p=a.length,b=p,E=tn.prototype.thru;for(o&&a.reverse();b--;){var A=a[b];if(typeof A!="function")throw new Vi(n);if(E&&!O&&Hd(A)=="wrapper")var O=new tn([],!0)}for(b=O?b:p;++b<p;){A=a[b];var q=Hd(A),j=q=="wrapper"?hm(A):i;j&&vm(j[0])&&j[1]==(z|T|H|ie)&&!j[4].length&&j[9]==1?O=O[Hd(j[0])].apply(O,j[3]):O=A.length==1&&vm(A)?O[q]():O.thru(A)}return function(){var ge=arguments,be=ge[0];if(O&&ge.length==1&&pt(be))return O.plant(be).value();for(var we=0,Re=p?a[we].apply(this,ge):be;++we<p;)Re=a[we].call(this,Re);return Re}})}function Od(o,a,p,b,E,A,O,q,j,ge){var be=a&z,we=a&C,Re=a&_,qe=a&(T|F),et=a&X,vt=Re?i:Au(o);function tt(){for(var wt=arguments.length,St=le(wt),Br=wt;Br--;)St[Br]=arguments[Br];if(qe)var gr=Ja(tt),Wr=k(St,gr);if(b&&(St=q0(St,b,E,qe)),A&&(St=B0(St,A,O,qe)),wt-=Wr,qe&&wt<ge){var mi=Pt(St,gr);return X0(o,a,Od,tt.placeholder,p,St,mi,q,j,ge-wt)}var Cn=we?p:this,No=Re?Cn[o]:o;return wt=St.length,q?St=bD(St,q):et&&wt>1&&St.reverse(),be&&j<wt&&(St.length=j),this&&this!==yi&&this instanceof tt&&(No=vt||Au(No)),No.apply(Cn,St)}return tt}function Y0(o,a){return function(p,b){return PN(p,o,a(b),{})}}function Ld(o,a){return function(p,b){var E;if(p===i&&b===i)return a;if(p!==i&&(E=p),b!==i){if(E===i)return b;typeof p=="string"||typeof b=="string"?(p=Ur(p),b=Ur(b)):(p=N0(p),b=N0(b)),E=o(p,b)}return E}}function um(o){return Ro(function(a){return a=qt(a,pr(Xe())),bt(function(p){var b=this;return o(a,function(E){return dr(E,b,p)})})})}function Fd(o,a){a=a===i?" ":Ur(a);var p=a.length;if(p<2)return p?im(a,o):a;var b=im(a,_d(o/si(a)));return Ue(a)?rs(Pi(b),0,o).join(""):b.slice(0,o)}function QN(o,a,p,b){var E=a&C,A=Au(o);function O(){for(var q=-1,j=arguments.length,ge=-1,be=b.length,we=le(be+j),Re=this&&this!==yi&&this instanceof O?A:o;++ge<be;)we[ge]=b[ge];for(;j--;)we[ge++]=arguments[++q];return dr(Re,E?p:this,we)}return O}function K0(o){return function(a,p,b){return b&&typeof b!="number"&&mr(a,p,b)&&(p=b=i),a=ko(a),p===i?(p=a,a=0):p=ko(p),b=b===i?a<p?1:-1:ko(b),zN(a,p,b,o)}}function zd(o){return function(a,p){return typeof a=="string"&&typeof p=="string"||(a=sn(a),p=sn(p)),o(a,p)}}function X0(o,a,p,b,E,A,O,q,j,ge){var be=a&T,we=be?O:i,Re=be?i:O,qe=be?A:i,et=be?i:A;a|=be?H:L,a&=~(be?L:H),a&M||(a&=~(C|_));var vt=[o,a,E,qe,we,et,Re,q,j,ge],tt=p.apply(i,vt);return vm(o)&&lw(tt,vt),tt.placeholder=b,uw(tt,o,a)}function cm(o){var a=Xt[o];return function(p,b){if(p=sn(p),b=b==null?0:tr(mt(b),292),b&&u0(p)){var E=(It(p)+"e").split("e"),A=a(E[0]+"e"+(+E[1]+b));return E=(It(A)+"e").split("e"),+(E[0]+"e"+(+E[1]-b))}return a(p)}}var eD=Ga&&1/wi(new Ga([,-0]))[1]==G?function(o){return new Ga(o)}:km;function Z0(o){return function(a){var p=ir(a);return p==_e?Ke(a):p==_t?hr(a):gd(a,o(a))}}function Ao(o,a,p,b,E,A,O,q){var j=a&_;if(!j&&typeof o!="function")throw new Vi(n);var ge=b?b.length:0;if(ge||(a&=~(H|L),b=E=i),O=O===i?O:_i(mt(O),0),q=q===i?q:mt(q),ge-=E?E.length:0,a&L){var be=b,we=E;b=E=i}var Re=j?i:hm(o),qe=[o,a,p,b,E,be,we,A,O,q];if(Re&&mD(qe,Re),o=qe[0],a=qe[1],p=qe[2],b=qe[3],E=qe[4],q=qe[9]=qe[9]===i?j?0:o.length:_i(qe[9]-ge,0),!q&&a&(T|F)&&(a&=~(T|F)),!a||a==C)var et=ZN(o,a,p);else a==T||a==F?et=JN(o,a,q):(a==H||a==(C|H))&&!E.length?et=QN(o,a,p,b):et=Od.apply(i,qe);var vt=Re?T0:lw;return uw(vt(et,qe),o,a)}function J0(o,a,p,b){return o===i||_n(o,Sr[p])&&!kt.call(b,p)?a:o}function Q0(o,a,p,b,E,A){return ti(o)&&ti(a)&&(A.set(a,o),Td(o,a,i,Q0,A),A.delete(a)),o}function tD(o){return Tu(o)?i:o}function ew(o,a,p,b,E,A){var O=p&v,q=o.length,j=a.length;if(q!=j&&!(O&&j>q))return!1;var ge=A.get(o),be=A.get(a);if(ge&&be)return ge==a&&be==o;var we=-1,Re=!0,qe=p&S?new Vs:i;for(A.set(o,a),A.set(a,o);++we<q;){var et=o[we],vt=a[we];if(b)var tt=O?b(vt,et,we,a,o,A):b(et,vt,we,o,a,A);if(tt!==i){if(tt)continue;Re=!1;break}if(qe){if(!Ls(a,function(wt,St){if(!hi(qe,St)&&(et===wt||E(et,wt,p,b,A)))return qe.push(St)})){Re=!1;break}}else if(!(et===vt||E(et,vt,p,b,A))){Re=!1;break}}return A.delete(o),A.delete(a),Re}function iD(o,a,p,b,E,A,O){switch(p){case mn:if(o.byteLength!=a.byteLength||o.byteOffset!=a.byteOffset)return!1;o=o.buffer,a=a.buffer;case Dr:return!(o.byteLength!=a.byteLength||!A(new yd(o),new yd(a)));case Ie:case De:case ct:return _n(+o,+a);case ut:return o.name==a.name&&o.message==a.message;case Ut:case Lt:return o==a+"";case _e:var q=Ke;case _t:var j=b&v;if(q||(q=wi),o.size!=a.size&&!j)return!1;var ge=O.get(o);if(ge)return ge==a;b|=S,O.set(o,a);var be=ew(q(o),q(a),b,E,A,O);return O.delete(o),be;case rt:if(Su)return Su.call(o)==Su.call(a)}return!1}function rD(o,a,p,b,E,A){var O=p&v,q=dm(o),j=q.length,ge=dm(a),be=ge.length;if(j!=be&&!O)return!1;for(var we=j;we--;){var Re=q[we];if(!(O?Re in a:kt.call(a,Re)))return!1}var qe=A.get(o),et=A.get(a);if(qe&&et)return qe==a&&et==o;var vt=!0;A.set(o,a),A.set(a,o);for(var tt=O;++we<j;){Re=q[we];var wt=o[Re],St=a[Re];if(b)var Br=O?b(St,wt,Re,a,o,A):b(wt,St,Re,o,a,A);if(!(Br===i?wt===St||E(wt,St,p,b,A):Br)){vt=!1;break}tt||(tt=Re=="constructor")}if(vt&&!tt){var gr=o.constructor,Wr=a.constructor;gr!=Wr&&"constructor"in o&&"constructor"in a&&!(typeof gr=="function"&&gr instanceof gr&&typeof Wr=="function"&&Wr instanceof Wr)&&(vt=!1)}return A.delete(o),A.delete(a),vt}function Ro(o){return ym(sw(o,i,mw),o+"")}function dm(o){return w0(o,Ii,mm)}function pm(o){return w0(o,Er,tw)}var hm=Ed?function(o){return Ed.get(o)}:km;function Hd(o){for(var a=o.name+"",p=Ya[a],b=kt.call(Ya,a)?p.length:0;b--;){var E=p[b],A=E.func;if(A==null||A==o)return E.name}return a}function Ja(o){var a=kt.call(P,"placeholder")?P:o;return a.placeholder}function Xe(){var o=P.iteratee||Mm;return o=o===Mm?_0:o,arguments.length?o(arguments[0],arguments[1]):o}function Ud(o,a){var p=o.__data__;return dD(a)?p[typeof a=="string"?"string":"hash"]:p.map}function fm(o){for(var a=Ii(o),p=a.length;p--;){var b=a[p],E=o[b];a[p]=[b,E,nw(E)]}return a}function Ys(o,a){var p=ke(o,a);return S0(p)?p:i}function nD(o){var a=kt.call(o,Ws),p=o[Ws];try{o[Ws]=i;var b=!0}catch{}var E=vd.call(o);return b&&(a?o[Ws]=p:delete o[Ws]),E}var mm=Bf?function(o){return o==null?[]:(o=Ct(o),bn(Bf(o),function(a){return a0.call(o,a)}))}:Nm,tw=Bf?function(o){for(var a=[];o;)yn(a,mm(o)),o=wd(o);return a}:Nm,ir=fr;(Wf&&ir(new Wf(new ArrayBuffer(1)))!=mn||yu&&ir(new yu)!=_e||$f&&ir($f.resolve())!=je||Ga&&ir(new Ga)!=_t||wu&&ir(new wu)!=Yt)&&(ir=function(o){var a=fr(o),p=a==$e?o.constructor:i,b=p?Ks(p):"";if(b)switch(b){case Uk:return mn;case qk:return _e;case Bk:return je;case Wk:return _t;case $k:return Yt}return a});function oD(o,a,p){for(var b=-1,E=p.length;++b<E;){var A=p[b],O=A.size;switch(A.type){case"drop":o+=O;break;case"dropRight":a-=O;break;case"take":a=tr(a,o+O);break;case"takeRight":o=_i(o,a-O);break}}return{start:o,end:a}}function sD(o){var a=o.match(mo);return a?a[1].split(Ps):[]}function iw(o,a,p){a=is(a,o);for(var b=-1,E=a.length,A=!1;++b<E;){var O=Vn(a[b]);if(!(A=o!=null&&p(o,O)))break;o=o[O]}return A||++b!=E?A:(E=o==null?0:o.length,!!E&&Gd(E)&&Mo(O,E)&&(pt(o)||Xs(o)))}function aD(o){var a=o.length,p=new o.constructor(a);return a&&typeof o[0]=="string"&&kt.call(o,"index")&&(p.index=o.index,p.input=o.input),p}function rw(o){return typeof o.constructor=="function"&&!Ru(o)?Ka(wd(o)):{}}function lD(o,a,p){var b=o.constructor;switch(a){case Dr:return lm(o);case Ie:case De:return new b(+o);case mn:return VN(o,p);case $o:case ho:case bi:case gt:case yr:case sr:case Ma:case oi:case fo:return H0(o,p);case _e:return new b;case ct:case Lt:return new b(o);case Ut:return jN(o);case _t:return new b;case rt:return GN(o)}}function uD(o,a){var p=a.length;if(!p)return o;var b=p-1;return a[b]=(p>1?"& ":"")+a[b],a=a.join(p>2?", ":" "),o.replace(ar,`{
/* [wrapped with `+a+`] */
`)}function cD(o){return pt(o)||Xs(o)||!!(l0&&o&&o[l0])}function Mo(o,a){var p=typeof o;return a=a??K,!!a&&(p=="number"||p!="symbol"&&go.test(o))&&o>-1&&o%1==0&&o<a}function mr(o,a,p){if(!ti(p))return!1;var b=typeof a;return(b=="number"?Cr(p)&&Mo(a,p.length):b=="string"&&a in p)?_n(p[a],o):!1}function gm(o,a){if(pt(o))return!1;var p=typeof o;return p=="number"||p=="symbol"||p=="boolean"||o==null||qr(o)?!0:td.test(o)||!ed.test(o)||a!=null&&o in Ct(a)}function dD(o){var a=typeof o;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?o!=="__proto__":o===null}function vm(o){var a=Hd(o),p=P[a];if(typeof p!="function"||!(a in xt.prototype))return!1;if(o===p)return!0;var b=hm(p);return!!b&&o===b[0]}function pD(o){return!!n0&&n0 in o}var hD=Bs?To:Dm;function Ru(o){var a=o&&o.constructor,p=typeof a=="function"&&a.prototype||Sr;return o===p}function nw(o){return o===o&&!ti(o)}function ow(o,a){return function(p){return p==null?!1:p[o]===a&&(a!==i||o in Ct(p))}}function fD(o){var a=Vd(o,function(b){return p.size===u&&p.clear(),b}),p=a.cache;return a}function mD(o,a){var p=o[1],b=a[1],E=p|b,A=E<(C|_|z),O=b==z&&p==T||b==z&&p==ie&&o[7].length<=a[8]||b==(z|ie)&&a[7].length<=a[8]&&p==T;if(!(A||O))return o;b&C&&(o[2]=a[2],E|=p&C?0:M);var q=a[3];if(q){var j=o[3];o[3]=j?q0(j,q,a[4]):q,o[4]=j?Pt(o[3],c):a[4]}return q=a[5],q&&(j=o[5],o[5]=j?B0(j,q,a[6]):q,o[6]=j?Pt(o[5],c):a[6]),q=a[7],q&&(o[7]=q),b&z&&(o[8]=o[8]==null?a[8]:tr(o[8],a[8])),o[9]==null&&(o[9]=a[9]),o[0]=a[0],o[1]=E,o}function gD(o){var a=[];if(o!=null)for(var p in Ct(o))a.push(p);return a}function vD(o){return vd.call(o)}function sw(o,a,p){return a=_i(a===i?o.length-1:a,0),function(){for(var b=arguments,E=-1,A=_i(b.length-a,0),O=le(A);++E<A;)O[E]=b[a+E];E=-1;for(var q=le(a+1);++E<a;)q[E]=b[E];return q[a]=p(O),dr(o,this,q)}}function aw(o,a){return a.length<2?o:Gs(o,nn(a,0,-1))}function bD(o,a){for(var p=o.length,b=tr(a.length,p),E=_r(o);b--;){var A=a[b];o[b]=Mo(A,p)?E[A]:i}return o}function bm(o,a){if(!(a==="constructor"&&typeof o[a]=="function")&&a!="__proto__")return o[a]}var lw=cw(T0),Mu=Nk||function(o,a){return yi.setTimeout(o,a)},ym=cw(qN);function uw(o,a,p){var b=a+"";return ym(o,uD(b,yD(sD(b),p)))}function cw(o){var a=0,p=0;return function(){var b=Fk(),E=Z-(b-p);if(p=b,E>0){if(++a>=de)return arguments[0]}else a=0;return o.apply(i,arguments)}}function qd(o,a){var p=-1,b=o.length,E=b-1;for(a=a===i?b:a;++p<a;){var A=tm(p,E),O=o[A];o[A]=o[p],o[p]=O}return o.length=a,o}var dw=fD(function(o){var a=[];return o.charCodeAt(0)===46&&a.push(""),o.replace(id,function(p,b,E,A){a.push(E?A.replace(jo,"$1"):b||p)}),a});function Vn(o){if(typeof o=="string"||qr(o))return o;var a=o+"";return a=="0"&&1/o==-G?"-0":a}function Ks(o){if(o!=null){try{return ja.call(o)}catch{}try{return o+""}catch{}}return""}function yD(o,a){return wr(ue,function(p){var b="_."+p[0];a&p[1]&&!Os(o,b)&&o.push(b)}),o.sort()}function pw(o){if(o instanceof xt)return o.clone();var a=new tn(o.__wrapped__,o.__chain__);return a.__actions__=_r(o.__actions__),a.__index__=o.__index__,a.__values__=o.__values__,a}function wD(o,a,p){(p?mr(o,a,p):a===i)?a=1:a=_i(mt(a),0);var b=o==null?0:o.length;if(!b||a<1)return[];for(var E=0,A=0,O=le(_d(b/a));E<b;)O[A++]=nn(o,E,E+=a);return O}function xD(o){for(var a=-1,p=o==null?0:o.length,b=0,E=[];++a<p;){var A=o[a];A&&(E[b++]=A)}return E}function SD(){var o=arguments.length;if(!o)return[];for(var a=le(o-1),p=arguments[0],b=o;b--;)a[b-1]=arguments[b];return yn(pt(p)?_r(p):[p],ji(a,1))}var _D=bt(function(o,a){return fi(o)?Cu(o,ji(a,1,fi,!0)):[]}),CD=bt(function(o,a){var p=on(a);return fi(p)&&(p=i),fi(o)?Cu(o,ji(a,1,fi,!0),Xe(p,2)):[]}),ED=bt(function(o,a){var p=on(a);return fi(p)&&(p=i),fi(o)?Cu(o,ji(a,1,fi,!0),i,p):[]});function PD(o,a,p){var b=o==null?0:o.length;return b?(a=p||a===i?1:mt(a),nn(o,a<0?0:a,b)):[]}function ID(o,a,p){var b=o==null?0:o.length;return b?(a=p||a===i?1:mt(a),a=b-a,nn(o,0,a<0?0:a)):[]}function AD(o,a){return o&&o.length?Nd(o,Xe(a,3),!0,!0):[]}function RD(o,a){return o&&o.length?Nd(o,Xe(a,3),!0):[]}function MD(o,a,p,b){var E=o==null?0:o.length;return E?(p&&typeof p!="number"&&mr(o,a,p)&&(p=0,b=E),SN(o,a,p,b)):[]}function hw(o,a,p){var b=o==null?0:o.length;if(!b)return-1;var E=p==null?0:mt(p);return E<0&&(E=_i(b+E,0)),Xo(o,Xe(a,3),E)}function fw(o,a,p){var b=o==null?0:o.length;if(!b)return-1;var E=b-1;return p!==i&&(E=mt(p),E=p<0?_i(b+E,0):tr(E,b-1)),Xo(o,Xe(a,3),E,!0)}function mw(o){var a=o==null?0:o.length;return a?ji(o,1):[]}function TD(o){var a=o==null?0:o.length;return a?ji(o,G):[]}function kD(o,a){var p=o==null?0:o.length;return p?(a=a===i?1:mt(a),ji(o,a)):[]}function ND(o){for(var a=-1,p=o==null?0:o.length,b={};++a<p;){var E=o[a];b[E[0]]=E[1]}return b}function gw(o){return o&&o.length?o[0]:i}function DD(o,a,p){var b=o==null?0:o.length;if(!b)return-1;var E=p==null?0:mt(p);return E<0&&(E=_i(b+E,0)),Fr(o,a,E)}function OD(o){var a=o==null?0:o.length;return a?nn(o,0,-1):[]}var LD=bt(function(o){var a=qt(o,sm);return a.length&&a[0]===o[0]?Xf(a):[]}),FD=bt(function(o){var a=on(o),p=qt(o,sm);return a===on(p)?a=i:p.pop(),p.length&&p[0]===o[0]?Xf(p,Xe(a,2)):[]}),zD=bt(function(o){var a=on(o),p=qt(o,sm);return a=typeof a=="function"?a:i,a&&p.pop(),p.length&&p[0]===o[0]?Xf(p,i,a):[]});function HD(o,a){return o==null?"":Ok.call(o,a)}function on(o){var a=o==null?0:o.length;return a?o[a-1]:i}function UD(o,a,p){var b=o==null?0:o.length;if(!b)return-1;var E=b;return p!==i&&(E=mt(p),E=E<0?_i(b+E,0):tr(E,b-1)),a===a?Kt(o,a,E):Xo(o,So,E,!0)}function qD(o,a){return o&&o.length?I0(o,mt(a)):i}var BD=bt(vw);function vw(o,a){return o&&o.length&&a&&a.length?em(o,a):o}function WD(o,a,p){return o&&o.length&&a&&a.length?em(o,a,Xe(p,2)):o}function $D(o,a,p){return o&&o.length&&a&&a.length?em(o,a,i,p):o}var VD=Ro(function(o,a){var p=o==null?0:o.length,b=jf(o,a);return M0(o,qt(a,function(E){return Mo(E,p)?+E:E}).sort(U0)),b});function jD(o,a){var p=[];if(!(o&&o.length))return p;var b=-1,E=[],A=o.length;for(a=Xe(a,3);++b<A;){var O=o[b];a(O,b,o)&&(p.push(O),E.push(b))}return M0(o,E),p}function wm(o){return o==null?o:Hk.call(o)}function GD(o,a,p){var b=o==null?0:o.length;return b?(p&&typeof p!="number"&&mr(o,a,p)?(a=0,p=b):(a=a==null?0:mt(a),p=p===i?b:mt(p)),nn(o,a,p)):[]}function YD(o,a){return kd(o,a)}function KD(o,a,p){return rm(o,a,Xe(p,2))}function XD(o,a){var p=o==null?0:o.length;if(p){var b=kd(o,a);if(b<p&&_n(o[b],a))return b}return-1}function ZD(o,a){return kd(o,a,!0)}function JD(o,a,p){return rm(o,a,Xe(p,2),!0)}function QD(o,a){var p=o==null?0:o.length;if(p){var b=kd(o,a,!0)-1;if(_n(o[b],a))return b}return-1}function eO(o){return o&&o.length?k0(o):[]}function tO(o,a){return o&&o.length?k0(o,Xe(a,2)):[]}function iO(o){var a=o==null?0:o.length;return a?nn(o,1,a):[]}function rO(o,a,p){return o&&o.length?(a=p||a===i?1:mt(a),nn(o,0,a<0?0:a)):[]}function nO(o,a,p){var b=o==null?0:o.length;return b?(a=p||a===i?1:mt(a),a=b-a,nn(o,a<0?0:a,b)):[]}function oO(o,a){return o&&o.length?Nd(o,Xe(a,3),!1,!0):[]}function sO(o,a){return o&&o.length?Nd(o,Xe(a,3)):[]}var aO=bt(function(o){return ts(ji(o,1,fi,!0))}),lO=bt(function(o){var a=on(o);return fi(a)&&(a=i),ts(ji(o,1,fi,!0),Xe(a,2))}),uO=bt(function(o){var a=on(o);return a=typeof a=="function"?a:i,ts(ji(o,1,fi,!0),i,a)});function cO(o){return o&&o.length?ts(o):[]}function dO(o,a){return o&&o.length?ts(o,Xe(a,2)):[]}function pO(o,a){return a=typeof a=="function"?a:i,o&&o.length?ts(o,i,a):[]}function xm(o){if(!(o&&o.length))return[];var a=0;return o=bn(o,function(p){if(fi(p))return a=_i(p.length,a),!0}),Hs(a,function(p){return qt(o,zs(p))})}function bw(o,a){if(!(o&&o.length))return[];var p=xm(o);return a==null?p:qt(p,function(b){return dr(a,i,b)})}var hO=bt(function(o,a){return fi(o)?Cu(o,a):[]}),fO=bt(function(o){return om(bn(o,fi))}),mO=bt(function(o){var a=on(o);return fi(a)&&(a=i),om(bn(o,fi),Xe(a,2))}),gO=bt(function(o){var a=on(o);return a=typeof a=="function"?a:i,om(bn(o,fi),i,a)}),vO=bt(xm);function bO(o,a){return L0(o||[],a||[],_u)}function yO(o,a){return L0(o||[],a||[],Iu)}var wO=bt(function(o){var a=o.length,p=a>1?o[a-1]:i;return p=typeof p=="function"?(o.pop(),p):i,bw(o,p)});function yw(o){var a=P(o);return a.__chain__=!0,a}function xO(o,a){return a(o),o}function Bd(o,a){return a(o)}var SO=Ro(function(o){var a=o.length,p=a?o[0]:0,b=this.__wrapped__,E=function(A){return jf(A,o)};return a>1||this.__actions__.length||!(b instanceof xt)||!Mo(p)?this.thru(E):(b=b.slice(p,+p+(a?1:0)),b.__actions__.push({func:Bd,args:[E],thisArg:i}),new tn(b,this.__chain__).thru(function(A){return a&&!A.length&&A.push(i),A}))});function _O(){return yw(this)}function CO(){return new tn(this.value(),this.__chain__)}function EO(){this.__values__===i&&(this.__values__=Nw(this.value()));var o=this.__index__>=this.__values__.length,a=o?i:this.__values__[this.__index__++];return{done:o,value:a}}function PO(){return this}function IO(o){for(var a,p=this;p instanceof Id;){var b=pw(p);b.__index__=0,b.__values__=i,a?E.__wrapped__=b:a=b;var E=b;p=p.__wrapped__}return E.__wrapped__=o,a}function AO(){var o=this.__wrapped__;if(o instanceof xt){var a=o;return this.__actions__.length&&(a=new xt(this)),a=a.reverse(),a.__actions__.push({func:Bd,args:[wm],thisArg:i}),new tn(a,this.__chain__)}return this.thru(wm)}function RO(){return O0(this.__wrapped__,this.__actions__)}var MO=Dd(function(o,a,p){kt.call(o,p)?++o[p]:Io(o,p,1)});function TO(o,a,p){var b=pt(o)?Ds:xN;return p&&mr(o,a,p)&&(a=i),b(o,Xe(a,3))}function kO(o,a){var p=pt(o)?bn:b0;return p(o,Xe(a,3))}var NO=j0(hw),DO=j0(fw);function OO(o,a){return ji(Wd(o,a),1)}function LO(o,a){return ji(Wd(o,a),G)}function FO(o,a,p){return p=p===i?1:mt(p),ji(Wd(o,a),p)}function ww(o,a){var p=pt(o)?wr:es;return p(o,Xe(a,3))}function xw(o,a){var p=pt(o)?Ns:v0;return p(o,Xe(a,3))}var zO=Dd(function(o,a,p){kt.call(o,p)?o[p].push(a):Io(o,p,[a])});function HO(o,a,p,b){o=Cr(o)?o:el(o),p=p&&!b?mt(p):0;var E=o.length;return p<0&&(p=_i(E+p,0)),Yd(o)?p<=E&&o.indexOf(a,p)>-1:!!E&&Fr(o,a,p)>-1}var UO=bt(function(o,a,p){var b=-1,E=typeof a=="function",A=Cr(o)?le(o.length):[];return es(o,function(O){A[++b]=E?dr(a,O,p):Eu(O,a,p)}),A}),qO=Dd(function(o,a,p){Io(o,p,a)});function Wd(o,a){var p=pt(o)?qt:C0;return p(o,Xe(a,3))}function BO(o,a,p,b){return o==null?[]:(pt(a)||(a=a==null?[]:[a]),p=b?i:p,pt(p)||(p=p==null?[]:[p]),A0(o,a,p))}var WO=Dd(function(o,a,p){o[p?0:1].push(a)},function(){return[[],[]]});function $O(o,a,p){var b=pt(o)?Qr:Wa,E=arguments.length<3;return b(o,Xe(a,4),p,E,es)}function VO(o,a,p){var b=pt(o)?fu:Wa,E=arguments.length<3;return b(o,Xe(a,4),p,E,v0)}function jO(o,a){var p=pt(o)?bn:b0;return p(o,jd(Xe(a,3)))}function GO(o){var a=pt(o)?h0:HN;return a(o)}function YO(o,a,p){(p?mr(o,a,p):a===i)?a=1:a=mt(a);var b=pt(o)?gN:UN;return b(o,a)}function KO(o){var a=pt(o)?vN:BN;return a(o)}function XO(o){if(o==null)return 0;if(Cr(o))return Yd(o)?si(o):o.length;var a=ir(o);return a==_e||a==_t?o.size:Jf(o).length}function ZO(o,a,p){var b=pt(o)?Ls:WN;return p&&mr(o,a,p)&&(a=i),b(o,Xe(a,3))}var JO=bt(function(o,a){if(o==null)return[];var p=a.length;return p>1&&mr(o,a[0],a[1])?a=[]:p>2&&mr(a[0],a[1],a[2])&&(a=[a[0]]),A0(o,ji(a,1),[])}),$d=kk||function(){return yi.Date.now()};function QO(o,a){if(typeof a!="function")throw new Vi(n);return o=mt(o),function(){if(--o<1)return a.apply(this,arguments)}}function Sw(o,a,p){return a=p?i:a,a=o&&a==null?o.length:a,Ao(o,z,i,i,i,i,a)}function _w(o,a){var p;if(typeof a!="function")throw new Vi(n);return o=mt(o),function(){return--o>0&&(p=a.apply(this,arguments)),o<=1&&(a=i),p}}var Sm=bt(function(o,a,p){var b=C;if(p.length){var E=Pt(p,Ja(Sm));b|=H}return Ao(o,b,a,p,E)}),Cw=bt(function(o,a,p){var b=C|_;if(p.length){var E=Pt(p,Ja(Cw));b|=H}return Ao(a,b,o,p,E)});function Ew(o,a,p){a=p?i:a;var b=Ao(o,T,i,i,i,i,i,a);return b.placeholder=Ew.placeholder,b}function Pw(o,a,p){a=p?i:a;var b=Ao(o,F,i,i,i,i,i,a);return b.placeholder=Pw.placeholder,b}function Iw(o,a,p){var b,E,A,O,q,j,ge=0,be=!1,we=!1,Re=!0;if(typeof o!="function")throw new Vi(n);a=sn(a)||0,ti(p)&&(be=!!p.leading,we="maxWait"in p,A=we?_i(sn(p.maxWait)||0,a):A,Re="trailing"in p?!!p.trailing:Re);function qe(mi){var Cn=b,No=E;return b=E=i,ge=mi,O=o.apply(No,Cn),O}function et(mi){return ge=mi,q=Mu(wt,a),be?qe(mi):O}function vt(mi){var Cn=mi-j,No=mi-ge,jw=a-Cn;return we?tr(jw,A-No):jw}function tt(mi){var Cn=mi-j,No=mi-ge;return j===i||Cn>=a||Cn<0||we&&No>=A}function wt(){var mi=$d();if(tt(mi))return St(mi);q=Mu(wt,vt(mi))}function St(mi){return q=i,Re&&b?qe(mi):(b=E=i,O)}function Br(){q!==i&&F0(q),ge=0,b=j=E=q=i}function gr(){return q===i?O:St($d())}function Wr(){var mi=$d(),Cn=tt(mi);if(b=arguments,E=this,j=mi,Cn){if(q===i)return et(j);if(we)return F0(q),q=Mu(wt,a),qe(j)}return q===i&&(q=Mu(wt,a)),O}return Wr.cancel=Br,Wr.flush=gr,Wr}var eL=bt(function(o,a){return g0(o,1,a)}),tL=bt(function(o,a,p){return g0(o,sn(a)||0,p)});function iL(o){return Ao(o,X)}function Vd(o,a){if(typeof o!="function"||a!=null&&typeof a!="function")throw new Vi(n);var p=function(){var b=arguments,E=a?a.apply(this,b):b[0],A=p.cache;if(A.has(E))return A.get(E);var O=o.apply(this,b);return p.cache=A.set(E,O)||A,O};return p.cache=new(Vd.Cache||Po),p}Vd.Cache=Po;function jd(o){if(typeof o!="function")throw new Vi(n);return function(){var a=arguments;switch(a.length){case 0:return!o.call(this);case 1:return!o.call(this,a[0]);case 2:return!o.call(this,a[0],a[1]);case 3:return!o.call(this,a[0],a[1],a[2])}return!o.apply(this,a)}}function rL(o){return _w(2,o)}var nL=$N(function(o,a){a=a.length==1&&pt(a[0])?qt(a[0],pr(Xe())):qt(ji(a,1),pr(Xe()));var p=a.length;return bt(function(b){for(var E=-1,A=tr(b.length,p);++E<A;)b[E]=a[E].call(this,b[E]);return dr(o,this,b)})}),_m=bt(function(o,a){var p=Pt(a,Ja(_m));return Ao(o,H,i,a,p)}),Aw=bt(function(o,a){var p=Pt(a,Ja(Aw));return Ao(o,L,i,a,p)}),oL=Ro(function(o,a){return Ao(o,ie,i,i,i,a)});function sL(o,a){if(typeof o!="function")throw new Vi(n);return a=a===i?a:mt(a),bt(o,a)}function aL(o,a){if(typeof o!="function")throw new Vi(n);return a=a==null?0:_i(mt(a),0),bt(function(p){var b=p[a],E=rs(p,0,a);return b&&yn(E,b),dr(o,this,E)})}function lL(o,a,p){var b=!0,E=!0;if(typeof o!="function")throw new Vi(n);return ti(p)&&(b="leading"in p?!!p.leading:b,E="trailing"in p?!!p.trailing:E),Iw(o,a,{leading:b,maxWait:a,trailing:E})}function uL(o){return Sw(o,1)}function cL(o,a){return _m(am(a),o)}function dL(){if(!arguments.length)return[];var o=arguments[0];return pt(o)?o:[o]}function pL(o){return rn(o,g)}function hL(o,a){return a=typeof a=="function"?a:i,rn(o,g,a)}function fL(o){return rn(o,d|g)}function mL(o,a){return a=typeof a=="function"?a:i,rn(o,d|g,a)}function gL(o,a){return a==null||m0(o,a,Ii(a))}function _n(o,a){return o===a||o!==o&&a!==a}var vL=zd(Kf),bL=zd(function(o,a){return o>=a}),Xs=x0(function(){return arguments}())?x0:function(o){return ai(o)&&kt.call(o,"callee")&&!a0.call(o,"callee")},pt=le.isArray,yL=Bn?pr(Bn):IN;function Cr(o){return o!=null&&Gd(o.length)&&!To(o)}function fi(o){return ai(o)&&Cr(o)}function wL(o){return o===!0||o===!1||ai(o)&&fr(o)==Ie}var ns=Dk||Dm,xL=qa?pr(qa):AN;function SL(o){return ai(o)&&o.nodeType===1&&!Tu(o)}function _L(o){if(o==null)return!0;if(Cr(o)&&(pt(o)||typeof o=="string"||typeof o.splice=="function"||ns(o)||Qa(o)||Xs(o)))return!o.length;var a=ir(o);if(a==_e||a==_t)return!o.size;if(Ru(o))return!Jf(o).length;for(var p in o)if(kt.call(o,p))return!1;return!0}function CL(o,a){return Pu(o,a)}function EL(o,a,p){p=typeof p=="function"?p:i;var b=p?p(o,a):i;return b===i?Pu(o,a,i,p):!!b}function Cm(o){if(!ai(o))return!1;var a=fr(o);return a==ut||a==He||typeof o.message=="string"&&typeof o.name=="string"&&!Tu(o)}function PL(o){return typeof o=="number"&&u0(o)}function To(o){if(!ti(o))return!1;var a=fr(o);return a==Ve||a==ot||a==Ae||a==$t}function Rw(o){return typeof o=="number"&&o==mt(o)}function Gd(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=K}function ti(o){var a=typeof o;return o!=null&&(a=="object"||a=="function")}function ai(o){return o!=null&&typeof o=="object"}var Mw=Ko?pr(Ko):MN;function IL(o,a){return o===a||Zf(o,a,fm(a))}function AL(o,a,p){return p=typeof p=="function"?p:i,Zf(o,a,fm(a),p)}function RL(o){return Tw(o)&&o!=+o}function ML(o){if(hD(o))throw new Qe(r);return S0(o)}function TL(o){return o===null}function kL(o){return o==null}function Tw(o){return typeof o=="number"||ai(o)&&fr(o)==ct}function Tu(o){if(!ai(o)||fr(o)!=$e)return!1;var a=wd(o);if(a===null)return!0;var p=kt.call(a,"constructor")&&a.constructor;return typeof p=="function"&&p instanceof p&&ja.call(p)==Ak}var Em=md?pr(md):TN;function NL(o){return Rw(o)&&o>=-K&&o<=K}var kw=Zr?pr(Zr):kN;function Yd(o){return typeof o=="string"||!pt(o)&&ai(o)&&fr(o)==Lt}function qr(o){return typeof o=="symbol"||ai(o)&&fr(o)==rt}var Qa=Qi?pr(Qi):NN;function DL(o){return o===i}function OL(o){return ai(o)&&ir(o)==Yt}function LL(o){return ai(o)&&fr(o)==po}var FL=zd(Qf),zL=zd(function(o,a){return o<=a});function Nw(o){if(!o)return[];if(Cr(o))return Yd(o)?Pi(o):_r(o);if(bu&&o[bu])return Le(o[bu]());var a=ir(o),p=a==_e?Ke:a==_t?wi:el;return p(o)}function ko(o){if(!o)return o===0?o:0;if(o=sn(o),o===G||o===-G){var a=o<0?-1:1;return a*ne}return o===o?o:0}function mt(o){var a=ko(o),p=a%1;return a===a?p?a-p:a:0}function Dw(o){return o?js(mt(o),0,U):0}function sn(o){if(typeof o=="number")return o;if(qr(o))return W;if(ti(o)){var a=typeof o.valueOf=="function"?o.valueOf():o;o=ti(a)?a+"":a}if(typeof o!="string")return o===0?o:+o;o=Us(o);var p=nd.test(o);return p||Zi.test(o)?Hf(o.slice(2),p?2:8):nu.test(o)?W:+o}function Ow(o){return $n(o,Er(o))}function HL(o){return o?js(mt(o),-K,K):o===0?o:0}function It(o){return o==null?"":Ur(o)}var UL=Xa(function(o,a){if(Ru(a)||Cr(a)){$n(a,Ii(a),o);return}for(var p in a)kt.call(a,p)&&_u(o,p,a[p])}),Lw=Xa(function(o,a){$n(a,Er(a),o)}),Kd=Xa(function(o,a,p,b){$n(a,Er(a),o,b)}),qL=Xa(function(o,a,p,b){$n(a,Ii(a),o,b)}),BL=Ro(jf);function WL(o,a){var p=Ka(o);return a==null?p:f0(p,a)}var $L=bt(function(o,a){o=Ct(o);var p=-1,b=a.length,E=b>2?a[2]:i;for(E&&mr(a[0],a[1],E)&&(b=1);++p<b;)for(var A=a[p],O=Er(A),q=-1,j=O.length;++q<j;){var ge=O[q],be=o[ge];(be===i||_n(be,Sr[ge])&&!kt.call(o,ge))&&(o[ge]=A[ge])}return o}),VL=bt(function(o){return o.push(i,Q0),dr(Fw,i,o)});function jL(o,a){return Wi(o,Xe(a,3),Wn)}function GL(o,a){return Wi(o,Xe(a,3),Yf)}function YL(o,a){return o==null?o:Gf(o,Xe(a,3),Er)}function KL(o,a){return o==null?o:y0(o,Xe(a,3),Er)}function XL(o,a){return o&&Wn(o,Xe(a,3))}function ZL(o,a){return o&&Yf(o,Xe(a,3))}function JL(o){return o==null?[]:Md(o,Ii(o))}function QL(o){return o==null?[]:Md(o,Er(o))}function Pm(o,a,p){var b=o==null?i:Gs(o,a);return b===i?p:b}function e2(o,a){return o!=null&&iw(o,a,_N)}function Im(o,a){return o!=null&&iw(o,a,CN)}var t2=Y0(function(o,a,p){a!=null&&typeof a.toString!="function"&&(a=vd.call(a)),o[a]=p},Rm(Pr)),i2=Y0(function(o,a,p){a!=null&&typeof a.toString!="function"&&(a=vd.call(a)),kt.call(o,a)?o[a].push(p):o[a]=[p]},Xe),r2=bt(Eu);function Ii(o){return Cr(o)?p0(o):Jf(o)}function Er(o){return Cr(o)?p0(o,!0):DN(o)}function n2(o,a){var p={};return a=Xe(a,3),Wn(o,function(b,E,A){Io(p,a(b,E,A),b)}),p}function o2(o,a){var p={};return a=Xe(a,3),Wn(o,function(b,E,A){Io(p,E,a(b,E,A))}),p}var s2=Xa(function(o,a,p){Td(o,a,p)}),Fw=Xa(function(o,a,p,b){Td(o,a,p,b)}),a2=Ro(function(o,a){var p={};if(o==null)return p;var b=!1;a=qt(a,function(A){return A=is(A,o),b||(b=A.length>1),A}),$n(o,pm(o),p),b&&(p=rn(p,d|f|g,tD));for(var E=a.length;E--;)nm(p,a[E]);return p});function l2(o,a){return zw(o,jd(Xe(a)))}var u2=Ro(function(o,a){return o==null?{}:LN(o,a)});function zw(o,a){if(o==null)return{};var p=qt(pm(o),function(b){return[b]});return a=Xe(a),R0(o,p,function(b,E){return a(b,E[0])})}function c2(o,a,p){a=is(a,o);var b=-1,E=a.length;for(E||(E=1,o=i);++b<E;){var A=o==null?i:o[Vn(a[b])];A===i&&(b=E,A=p),o=To(A)?A.call(o):A}return o}function d2(o,a,p){return o==null?o:Iu(o,a,p)}function p2(o,a,p,b){return b=typeof b=="function"?b:i,o==null?o:Iu(o,a,p,b)}var Hw=Z0(Ii),Uw=Z0(Er);function h2(o,a,p){var b=pt(o),E=b||ns(o)||Qa(o);if(a=Xe(a,4),p==null){var A=o&&o.constructor;E?p=b?new A:[]:ti(o)?p=To(A)?Ka(wd(o)):{}:p={}}return(E?wr:Wn)(o,function(O,q,j){return a(p,O,q,j)}),p}function f2(o,a){return o==null?!0:nm(o,a)}function m2(o,a,p){return o==null?o:D0(o,a,am(p))}function g2(o,a,p,b){return b=typeof b=="function"?b:i,o==null?o:D0(o,a,am(p),b)}function el(o){return o==null?[]:xr(o,Ii(o))}function v2(o){return o==null?[]:xr(o,Er(o))}function b2(o,a,p){return p===i&&(p=a,a=i),p!==i&&(p=sn(p),p=p===p?p:0),a!==i&&(a=sn(a),a=a===a?a:0),js(sn(o),a,p)}function y2(o,a,p){return a=ko(a),p===i?(p=a,a=0):p=ko(p),o=sn(o),EN(o,a,p)}function w2(o,a,p){if(p&&typeof p!="boolean"&&mr(o,a,p)&&(a=p=i),p===i&&(typeof a=="boolean"?(p=a,a=i):typeof o=="boolean"&&(p=o,o=i)),o===i&&a===i?(o=0,a=1):(o=ko(o),a===i?(a=o,o=0):a=ko(a)),o>a){var b=o;o=a,a=b}if(p||o%1||a%1){var E=c0();return tr(o+E*(a-o+zf("1e-"+((E+"").length-1))),a)}return tm(o,a)}var x2=Za(function(o,a,p){return a=a.toLowerCase(),o+(p?qw(a):a)});function qw(o){return Am(It(o).toLowerCase())}function Bw(o){return o=It(o),o&&o.replace(Ji,R).replace(dd,"")}function S2(o,a,p){o=It(o),a=Ur(a);var b=o.length;p=p===i?b:js(mt(p),0,b);var E=p;return p-=a.length,p>=0&&o.slice(p,E)==a}function _2(o){return o=It(o),o&&Ql.test(o)?o.replace(Zl,re):o}function C2(o){return o=It(o),o&&Tf.test(o)?o.replace(eu,"\\$&"):o}var E2=Za(function(o,a,p){return o+(p?"-":"")+a.toLowerCase()}),P2=Za(function(o,a,p){return o+(p?" ":"")+a.toLowerCase()}),I2=V0("toLowerCase");function A2(o,a,p){o=It(o),a=mt(a);var b=a?si(o):0;if(!a||b>=a)return o;var E=(a-b)/2;return Fd(Cd(E),p)+o+Fd(_d(E),p)}function R2(o,a,p){o=It(o),a=mt(a);var b=a?si(o):0;return a&&b<a?o+Fd(a-b,p):o}function M2(o,a,p){o=It(o),a=mt(a);var b=a?si(o):0;return a&&b<a?Fd(a-b,p)+o:o}function T2(o,a,p){return p||a==null?a=0:a&&(a=+a),zk(It(o).replace(tu,""),a||0)}function k2(o,a,p){return(p?mr(o,a,p):a===i)?a=1:a=mt(a),im(It(o),a)}function N2(){var o=arguments,a=It(o[0]);return o.length<3?a:a.replace(o[1],o[2])}var D2=Za(function(o,a,p){return o+(p?"_":"")+a.toLowerCase()});function O2(o,a,p){return p&&typeof p!="number"&&mr(o,a,p)&&(a=p=i),p=p===i?U:p>>>0,p?(o=It(o),o&&(typeof a=="string"||a!=null&&!Em(a))&&(a=Ur(a),!a&&Ue(o))?rs(Pi(o),0,p):o.split(a,p)):[]}var L2=Za(function(o,a,p){return o+(p?" ":"")+Am(a)});function F2(o,a,p){return o=It(o),p=p==null?0:js(mt(p),0,o.length),a=Ur(a),o.slice(p,p+a.length)==a}function z2(o,a,p){var b=P.templateSettings;p&&mr(o,a,p)&&(a=i),o=It(o),a=Kd({},a,b,J0);var E=Kd({},a.imports,b.imports,J0),A=Ii(E),O=xr(E,A),q,j,ge=0,be=a.interpolate||pi,we="__p += '",Re=Co((a.escape||pi).source+"|"+be.source+"|"+(be===ka?kf:pi).source+"|"+(a.evaluate||pi).source+"|$","g"),qe="//# sourceURL="+(kt.call(a,"sourceURL")?(a.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ua+"]")+`
`;o.replace(Re,function(tt,wt,St,Br,gr,Wr){return St||(St=Br),we+=o.slice(ge,Wr).replace(vo,xe),wt&&(q=!0,we+=`' +
__e(`+wt+`) +
'`),gr&&(j=!0,we+=`';
`+gr+`;
__p += '`),St&&(we+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),ge=Wr+tt.length,tt}),we+=`';
`;var et=kt.call(a,"variable")&&a.variable;if(!et)we=`with (obj) {
`+we+`
}
`;else if(Is.test(et))throw new Qe(s);we=(j?we.replace(Vo,""):we).replace(Ta,"$1").replace(Xl,"$1;"),we="function("+(et||"obj")+`) {
`+(et?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(q?", __e = _.escape":"")+(j?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+we+`return __p
}`;var vt=$w(function(){return yt(A,qe+"return "+we).apply(i,O)});if(vt.source=we,Cm(vt))throw vt;return vt}function H2(o){return It(o).toLowerCase()}function U2(o){return It(o).toUpperCase()}function q2(o,a,p){if(o=It(o),o&&(p||a===i))return Us(o);if(!o||!(a=Ur(a)))return o;var b=Pi(o),E=Pi(a),A=x(b,E),O=I(b,E)+1;return rs(b,A,O).join("")}function B2(o,a,p){if(o=It(o),o&&(p||a===i))return o.slice(0,Zo(o)+1);if(!o||!(a=Ur(a)))return o;var b=Pi(o),E=I(b,Pi(a))+1;return rs(b,0,E).join("")}function W2(o,a,p){if(o=It(o),o&&(p||a===i))return o.replace(tu,"");if(!o||!(a=Ur(a)))return o;var b=Pi(o),E=x(b,Pi(a));return rs(b,E).join("")}function $2(o,a){var p=N,b=ee;if(ti(a)){var E="separator"in a?a.separator:E;p="length"in a?mt(a.length):p,b="omission"in a?Ur(a.omission):b}o=It(o);var A=o.length;if(Ue(o)){var O=Pi(o);A=O.length}if(p>=A)return o;var q=p-si(b);if(q<1)return b;var j=O?rs(O,0,q).join(""):o.slice(0,q);if(E===i)return j+b;if(O&&(q+=j.length-q),Em(E)){if(o.slice(q).search(E)){var ge,be=j;for(E.global||(E=Co(E.source,It(ru.exec(E))+"g")),E.lastIndex=0;ge=E.exec(be);)var we=ge.index;j=j.slice(0,we===i?q:we)}}else if(o.indexOf(Ur(E),q)!=q){var Re=j.lastIndexOf(E);Re>-1&&(j=j.slice(0,Re))}return j+b}function V2(o){return o=It(o),o&&Jl.test(o)?o.replace(Ui,$a):o}var j2=Za(function(o,a,p){return o+(p?" ":"")+a.toUpperCase()}),Am=V0("toUpperCase");function Ww(o,a,p){return o=It(o),a=p?i:a,a===i?Je(o)?qs(o):mu(o):o.match(a)||[]}var $w=bt(function(o,a){try{return dr(o,i,a)}catch(p){return Cm(p)?p:new Qe(p)}}),G2=Ro(function(o,a){return wr(a,function(p){p=Vn(p),Io(o,p,Sm(o[p],o))}),o});function Y2(o){var a=o==null?0:o.length,p=Xe();return o=a?qt(o,function(b){if(typeof b[1]!="function")throw new Vi(n);return[p(b[0]),b[1]]}):[],bt(function(b){for(var E=-1;++E<a;){var A=o[E];if(dr(A[0],this,b))return dr(A[1],this,b)}})}function K2(o){return wN(rn(o,d))}function Rm(o){return function(){return o}}function X2(o,a){return o==null||o!==o?a:o}var Z2=G0(),J2=G0(!0);function Pr(o){return o}function Mm(o){return _0(typeof o=="function"?o:rn(o,d))}function Q2(o){return E0(rn(o,d))}function e5(o,a){return P0(o,rn(a,d))}var t5=bt(function(o,a){return function(p){return Eu(p,o,a)}}),i5=bt(function(o,a){return function(p){return Eu(o,p,a)}});function Tm(o,a,p){var b=Ii(a),E=Md(a,b);p==null&&!(ti(a)&&(E.length||!b.length))&&(p=a,a=o,o=this,E=Md(a,Ii(a)));var A=!(ti(p)&&"chain"in p)||!!p.chain,O=To(o);return wr(E,function(q){var j=a[q];o[q]=j,O&&(o.prototype[q]=function(){var ge=this.__chain__;if(A||ge){var be=o(this.__wrapped__),we=be.__actions__=_r(this.__actions__);return we.push({func:j,args:arguments,thisArg:o}),be.__chain__=ge,be}return j.apply(o,yn([this.value()],arguments))})}),o}function r5(){return yi._===this&&(yi._=Rk),this}function km(){}function n5(o){return o=mt(o),bt(function(a){return I0(a,o)})}var o5=um(qt),s5=um(Ds),a5=um(Ls);function Vw(o){return gm(o)?zs(Vn(o)):FN(o)}function l5(o){return function(a){return o==null?i:Gs(o,a)}}var u5=K0(),c5=K0(!0);function Nm(){return[]}function Dm(){return!1}function d5(){return{}}function p5(){return""}function h5(){return!0}function f5(o,a){if(o=mt(o),o<1||o>K)return[];var p=U,b=tr(o,U);a=Xe(a),o-=U;for(var E=Hs(b,a);++p<o;)a(p);return E}function m5(o){return pt(o)?qt(o,Vn):qr(o)?[o]:_r(dw(It(o)))}function g5(o){var a=++Ik;return It(o)+a}var v5=Ld(function(o,a){return o+a},0),b5=cm("ceil"),y5=Ld(function(o,a){return o/a},1),w5=cm("floor");function x5(o){return o&&o.length?Rd(o,Pr,Kf):i}function S5(o,a){return o&&o.length?Rd(o,Xe(a,2),Kf):i}function _5(o){return en(o,Pr)}function C5(o,a){return en(o,Xe(a,2))}function E5(o){return o&&o.length?Rd(o,Pr,Qf):i}function P5(o,a){return o&&o.length?Rd(o,Xe(a,2),Qf):i}var I5=Ld(function(o,a){return o*a},1),A5=cm("round"),R5=Ld(function(o,a){return o-a},0);function M5(o){return o&&o.length?wn(o,Pr):0}function T5(o,a){return o&&o.length?wn(o,Xe(a,2)):0}return P.after=QO,P.ary=Sw,P.assign=UL,P.assignIn=Lw,P.assignInWith=Kd,P.assignWith=qL,P.at=BL,P.before=_w,P.bind=Sm,P.bindAll=G2,P.bindKey=Cw,P.castArray=dL,P.chain=yw,P.chunk=wD,P.compact=xD,P.concat=SD,P.cond=Y2,P.conforms=K2,P.constant=Rm,P.countBy=MO,P.create=WL,P.curry=Ew,P.curryRight=Pw,P.debounce=Iw,P.defaults=$L,P.defaultsDeep=VL,P.defer=eL,P.delay=tL,P.difference=_D,P.differenceBy=CD,P.differenceWith=ED,P.drop=PD,P.dropRight=ID,P.dropRightWhile=AD,P.dropWhile=RD,P.fill=MD,P.filter=kO,P.flatMap=OO,P.flatMapDeep=LO,P.flatMapDepth=FO,P.flatten=mw,P.flattenDeep=TD,P.flattenDepth=kD,P.flip=iL,P.flow=Z2,P.flowRight=J2,P.fromPairs=ND,P.functions=JL,P.functionsIn=QL,P.groupBy=zO,P.initial=OD,P.intersection=LD,P.intersectionBy=FD,P.intersectionWith=zD,P.invert=t2,P.invertBy=i2,P.invokeMap=UO,P.iteratee=Mm,P.keyBy=qO,P.keys=Ii,P.keysIn=Er,P.map=Wd,P.mapKeys=n2,P.mapValues=o2,P.matches=Q2,P.matchesProperty=e5,P.memoize=Vd,P.merge=s2,P.mergeWith=Fw,P.method=t5,P.methodOf=i5,P.mixin=Tm,P.negate=jd,P.nthArg=n5,P.omit=a2,P.omitBy=l2,P.once=rL,P.orderBy=BO,P.over=o5,P.overArgs=nL,P.overEvery=s5,P.overSome=a5,P.partial=_m,P.partialRight=Aw,P.partition=WO,P.pick=u2,P.pickBy=zw,P.property=Vw,P.propertyOf=l5,P.pull=BD,P.pullAll=vw,P.pullAllBy=WD,P.pullAllWith=$D,P.pullAt=VD,P.range=u5,P.rangeRight=c5,P.rearg=oL,P.reject=jO,P.remove=jD,P.rest=sL,P.reverse=wm,P.sampleSize=YO,P.set=d2,P.setWith=p2,P.shuffle=KO,P.slice=GD,P.sortBy=JO,P.sortedUniq=eO,P.sortedUniqBy=tO,P.split=O2,P.spread=aL,P.tail=iO,P.take=rO,P.takeRight=nO,P.takeRightWhile=oO,P.takeWhile=sO,P.tap=xO,P.throttle=lL,P.thru=Bd,P.toArray=Nw,P.toPairs=Hw,P.toPairsIn=Uw,P.toPath=m5,P.toPlainObject=Ow,P.transform=h2,P.unary=uL,P.union=aO,P.unionBy=lO,P.unionWith=uO,P.uniq=cO,P.uniqBy=dO,P.uniqWith=pO,P.unset=f2,P.unzip=xm,P.unzipWith=bw,P.update=m2,P.updateWith=g2,P.values=el,P.valuesIn=v2,P.without=hO,P.words=Ww,P.wrap=cL,P.xor=fO,P.xorBy=mO,P.xorWith=gO,P.zip=vO,P.zipObject=bO,P.zipObjectDeep=yO,P.zipWith=wO,P.entries=Hw,P.entriesIn=Uw,P.extend=Lw,P.extendWith=Kd,Tm(P,P),P.add=v5,P.attempt=$w,P.camelCase=x2,P.capitalize=qw,P.ceil=b5,P.clamp=b2,P.clone=pL,P.cloneDeep=fL,P.cloneDeepWith=mL,P.cloneWith=hL,P.conformsTo=gL,P.deburr=Bw,P.defaultTo=X2,P.divide=y5,P.endsWith=S2,P.eq=_n,P.escape=_2,P.escapeRegExp=C2,P.every=TO,P.find=NO,P.findIndex=hw,P.findKey=jL,P.findLast=DO,P.findLastIndex=fw,P.findLastKey=GL,P.floor=w5,P.forEach=ww,P.forEachRight=xw,P.forIn=YL,P.forInRight=KL,P.forOwn=XL,P.forOwnRight=ZL,P.get=Pm,P.gt=vL,P.gte=bL,P.has=e2,P.hasIn=Im,P.head=gw,P.identity=Pr,P.includes=HO,P.indexOf=DD,P.inRange=y2,P.invoke=r2,P.isArguments=Xs,P.isArray=pt,P.isArrayBuffer=yL,P.isArrayLike=Cr,P.isArrayLikeObject=fi,P.isBoolean=wL,P.isBuffer=ns,P.isDate=xL,P.isElement=SL,P.isEmpty=_L,P.isEqual=CL,P.isEqualWith=EL,P.isError=Cm,P.isFinite=PL,P.isFunction=To,P.isInteger=Rw,P.isLength=Gd,P.isMap=Mw,P.isMatch=IL,P.isMatchWith=AL,P.isNaN=RL,P.isNative=ML,P.isNil=kL,P.isNull=TL,P.isNumber=Tw,P.isObject=ti,P.isObjectLike=ai,P.isPlainObject=Tu,P.isRegExp=Em,P.isSafeInteger=NL,P.isSet=kw,P.isString=Yd,P.isSymbol=qr,P.isTypedArray=Qa,P.isUndefined=DL,P.isWeakMap=OL,P.isWeakSet=LL,P.join=HD,P.kebabCase=E2,P.last=on,P.lastIndexOf=UD,P.lowerCase=P2,P.lowerFirst=I2,P.lt=FL,P.lte=zL,P.max=x5,P.maxBy=S5,P.mean=_5,P.meanBy=C5,P.min=E5,P.minBy=P5,P.stubArray=Nm,P.stubFalse=Dm,P.stubObject=d5,P.stubString=p5,P.stubTrue=h5,P.multiply=I5,P.nth=qD,P.noConflict=r5,P.noop=km,P.now=$d,P.pad=A2,P.padEnd=R2,P.padStart=M2,P.parseInt=T2,P.random=w2,P.reduce=$O,P.reduceRight=VO,P.repeat=k2,P.replace=N2,P.result=c2,P.round=A5,P.runInContext=$,P.sample=GO,P.size=XO,P.snakeCase=D2,P.some=ZO,P.sortedIndex=YD,P.sortedIndexBy=KD,P.sortedIndexOf=XD,P.sortedLastIndex=ZD,P.sortedLastIndexBy=JD,P.sortedLastIndexOf=QD,P.startCase=L2,P.startsWith=F2,P.subtract=R5,P.sum=M5,P.sumBy=T5,P.template=z2,P.times=f5,P.toFinite=ko,P.toInteger=mt,P.toLength=Dw,P.toLower=H2,P.toNumber=sn,P.toSafeInteger=HL,P.toString=It,P.toUpper=U2,P.trim=q2,P.trimEnd=B2,P.trimStart=W2,P.truncate=$2,P.unescape=V2,P.uniqueId=g5,P.upperCase=j2,P.upperFirst=Am,P.each=ww,P.eachRight=xw,P.first=gw,Tm(P,function(){var o={};return Wn(P,function(a,p){kt.call(P.prototype,p)||(o[p]=a)}),o}(),{chain:!1}),P.VERSION=e,wr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(o){P[o].placeholder=P}),wr(["drop","take"],function(o,a){xt.prototype[o]=function(p){p=p===i?1:_i(mt(p),0);var b=this.__filtered__&&!a?new xt(this):this.clone();return b.__filtered__?b.__takeCount__=tr(p,b.__takeCount__):b.__views__.push({size:tr(p,U),type:o+(b.__dir__<0?"Right":"")}),b},xt.prototype[o+"Right"]=function(p){return this.reverse()[o](p).reverse()}}),wr(["filter","map","takeWhile"],function(o,a){var p=a+1,b=p==Y||p==V;xt.prototype[o]=function(E){var A=this.clone();return A.__iteratees__.push({iteratee:Xe(E,3),type:p}),A.__filtered__=A.__filtered__||b,A}}),wr(["head","last"],function(o,a){var p="take"+(a?"Right":"");xt.prototype[o]=function(){return this[p](1).value()[0]}}),wr(["initial","tail"],function(o,a){var p="drop"+(a?"":"Right");xt.prototype[o]=function(){return this.__filtered__?new xt(this):this[p](1)}}),xt.prototype.compact=function(){return this.filter(Pr)},xt.prototype.find=function(o){return this.filter(o).head()},xt.prototype.findLast=function(o){return this.reverse().find(o)},xt.prototype.invokeMap=bt(function(o,a){return typeof o=="function"?new xt(this):this.map(function(p){return Eu(p,o,a)})}),xt.prototype.reject=function(o){return this.filter(jd(Xe(o)))},xt.prototype.slice=function(o,a){o=mt(o);var p=this;return p.__filtered__&&(o>0||a<0)?new xt(p):(o<0?p=p.takeRight(-o):o&&(p=p.drop(o)),a!==i&&(a=mt(a),p=a<0?p.dropRight(-a):p.take(a-o)),p)},xt.prototype.takeRightWhile=function(o){return this.reverse().takeWhile(o).reverse()},xt.prototype.toArray=function(){return this.take(U)},Wn(xt.prototype,function(o,a){var p=/^(?:filter|find|map|reject)|While$/.test(a),b=/^(?:head|last)$/.test(a),E=P[b?"take"+(a=="last"?"Right":""):a],A=b||/^find/.test(a);E&&(P.prototype[a]=function(){var O=this.__wrapped__,q=b?[1]:arguments,j=O instanceof xt,ge=q[0],be=j||pt(O),we=function(wt){var St=E.apply(P,yn([wt],q));return b&&Re?St[0]:St};be&&p&&typeof ge=="function"&&ge.length!=1&&(j=be=!1);var Re=this.__chain__,qe=!!this.__actions__.length,et=A&&!Re,vt=j&&!qe;if(!A&&be){O=vt?O:new xt(this);var tt=o.apply(O,q);return tt.__actions__.push({func:Bd,args:[we],thisArg:i}),new tn(tt,Re)}return et&&vt?o.apply(this,q):(tt=this.thru(we),et?b?tt.value()[0]:tt.value():tt)})}),wr(["pop","push","shift","sort","splice","unshift"],function(o){var a=xn[o],p=/^(?:push|sort|unshift)$/.test(o)?"tap":"thru",b=/^(?:pop|shift)$/.test(o);P.prototype[o]=function(){var E=arguments;if(b&&!this.__chain__){var A=this.value();return a.apply(pt(A)?A:[],E)}return this[p](function(O){return a.apply(pt(O)?O:[],E)})}}),Wn(xt.prototype,function(o,a){var p=P[a];if(p){var b=p.name+"";kt.call(Ya,b)||(Ya[b]=[]),Ya[b].push({name:a,func:p})}}),Ya[Od(i,_).name]=[{name:"wrapper",func:i}],xt.prototype.clone=Vk,xt.prototype.reverse=jk,xt.prototype.value=Gk,P.prototype.at=SO,P.prototype.chain=_O,P.prototype.commit=CO,P.prototype.next=EO,P.prototype.plant=IO,P.prototype.reverse=AO,P.prototype.toJSON=P.prototype.valueOf=P.prototype.value=RO,P.prototype.first=P.prototype.head,bu&&(P.prototype[bu]=PO),P},er=Hr();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(yi._=er,define(function(){return er})):cr?((cr.exports=er)._=er,pu._=er):yi._=er}).call(ll)});var Tg,kg,Ng,se,wV,NS,Gi,DS,OS,ul,LS,Fo,FS,Rp,rc,Mp,Dg,Zt,zS,HS,US,at,cl,qS,Ne=B(()=>{Tg=fe(Se()),kg=/^local.*/.test("production"),Ng=!0,se=!(typeof window<"u"&&window.document&&window.document.createElement),wV=!se&&window.hasOwnProperty("__PRELOADED_STATE__"),NS=!1;try{window.parent!==window&&window.location.host===window.parent.location.host&&window.parent.location.pathname.startsWith("/edit")&&(NS=!0)}catch{(!se||!kg)&&console.log("Unable to determine if in admin.")}Gi=NS,DS=!1;try{if(typeof window<"u"&&window.location.pathname.match("site.preview")!==null){let i=window.location.pathname.match(/^\/site\.preview\/(?<hostname>[^\/]+)/i);i?.groups?.hostname&&(OS=i.groups?.hostname,DS=!0)}}catch{console.log("Unable to determine if in site preview")}ul=DS,LS=OS,Fo=function(){if(se)return!1;var i=!1,e=window.navigator.userAgent||window.navigator.vendor||window.opera;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(i=!0)}(e),i=i||!i&&/(android)/i.test(e.substr(0,40)),i}(),FS=()=>{if(se)return"mouse";let i=window.matchMedia("(hover:hover)"),e=window.matchMedia("(hover:none)"),t=window.matchMedia("(any-pointer:fine)"),r=window.matchMedia("(pointer:coarse)"),n=window.matchMedia("(pointer:none)");if(e.matches&&r.matches)return"touch";if(i.matches&&t.matches)return"mouse"},Rp=()=>navigator?.userAgent?.includes("Mac"),rc=()=>navigator.userAgent.indexOf("Safari")!=-1&&navigator.userAgent.indexOf("Chrome")==-1,Mp=()=>!!navigator.userAgent.match(/i(Phone|Pod|Pad)/i),Dg=i=>i?i.page_type==="set"?!0:!(i.display===!1||i.pin||i.overlay):!1,Zt=(i,e)=>{i=i?.toString()||"",i=i.replace(/^\.(\d+)/,"0.$1");let t=parseFloat(i.replace(/[^\d.-]/g,"")),r=i.replace(t+"","").trim();return r===""&&e!==void 0?r=e:(r.indexOf("var(")>-1||r.indexOf("calc(")>-1)&&(t="",r=i),[t,r]},zS=i=>i<.5?4*i*i*i:1-Math.pow(-2*i+2,3)/2,HS=i=>1-Math.pow(-1*i+1,3),US=i=>i>=1?1:-(Math.cos(Math.PI*i)-1)/2,at=i=>{let e={},t=r=>{r.forEach(n=>{if(n.type=="color"&&n.tabs?n.tabs.forEach(s=>{e[s.name]=s.value}):n.type=="checkbox-color"&&t([n.checkbox,n.color]),n.value!=null&&n.value!=null){e[n.name]={value:n.value},n.values&&(n.type==="radio"||n.type==="select")&&(e[n.name].values=n.values.map(l=>l.value)),e[n.name].type=n.type,n.excludeFromShuffle!==void 0&&(e[n.name].excludeFromShuffle=n.excludeFromShuffle);let s;n.defaultUnit!==void 0&&(s=e.unit=n.defaultUnit),n.min!==void 0&&(typeof n.min=="object"?e[n.name].min=n.min[s]??n.min.etc??0:e[n.name].min=n.min),n.max!==void 0&&(typeof n.max=="object"?e[n.name].max=n.max[s]??n.max.etc??0:e[n.name].max=n.max),typeof n.step=="object"?e[n.name].step=n.step[s]??n.step.etc??1:e[n.name].step=n.step,n.inheritsFrom&&(e[n.name].inheritsFrom=n.inheritsFrom),n.unit&&(e[n.name].unit=n.unit)}n.toggle&&t([n.toggle]),n.children&&t(n.children)})};return t(i),e},cl=(i,e)=>{var t=i&&(e(i)?i:cl(i.parentNode,e));return t||null},qS=(i,e,t)=>{let r=i.pages.byId[t],n=e.getHomepageId(i),s=e.getHiddenHomepageId(i),l=i.sets.byId[Tg.default.findKey(i.structure.byParent,d=>d.includes(n))],u=i.sets.byId[Tg.default.findKey(i.structure.byParent,d=>d.includes(t))],c=t;if(i.sets.byId.root?.stack===!0)r?.display===!1?c=r.id:c=u?.id||"root";else if(r){if(r.pin||r.overlay||u?.stack)if(c=u?.id,(r.pin||r.overlay)&&u?.stack===!1){if(u?.id===l?.id&&(c="root"),u.page_count>=1){let d=i.structure.byParent[u.id]?.filter(f=>i.structure.indexById[f]!==null&&i.sets.byId[f]===void 0&&i.pages.byId[f]?.password_enabled!==!0&&f!==s);d.length>0&&(d.includes(n)?c=n:c=d[0])}}else r?.display===!1&&u?.stack===!0&&(c=r.id);else c=r.id;c==="root"&&n&&(c=n)}return c}});var Og=ce((xV,BS)=>{"use strict";BS.exports=function(e,t){return function(){for(var n=new Array(arguments.length),s=0;s<n.length;s++)n[s]=arguments[s];return e.apply(t,n)}}});var Ti=ce((SV,VS)=>{"use strict";var WF=Og(),Fg=Object.prototype.toString,zg=function(i){return function(e){var t=Fg.call(e);return i[t]||(i[t]=t.slice(8,-1).toLowerCase())}}(Object.create(null));function sa(i){return i=i.toLowerCase(),function(t){return zg(t)===i}}function Hg(i){return Array.isArray(i)}function kp(i){return typeof i>"u"}function $F(i){return i!==null&&!kp(i)&&i.constructor!==null&&!kp(i.constructor)&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}var WS=sa("ArrayBuffer");function VF(i){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(i):e=i&&i.buffer&&WS(i.buffer),e}function jF(i){return typeof i=="string"}function GF(i){return typeof i=="number"}function $S(i){return i!==null&&typeof i=="object"}function Tp(i){if(zg(i)!=="object")return!1;var e=Object.getPrototypeOf(i);return e===null||e===Object.prototype}var YF=sa("Date"),KF=sa("File"),XF=sa("Blob"),ZF=sa("FileList");function Ug(i){return Fg.call(i)==="[object Function]"}function JF(i){return $S(i)&&Ug(i.pipe)}function QF(i){var e="[object FormData]";return i&&(typeof FormData=="function"&&i instanceof FormData||Fg.call(i)===e||Ug(i.toString)&&i.toString()===e)}var ez=sa("URLSearchParams");function tz(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function iz(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function qg(i,e){if(!(i===null||typeof i>"u"))if(typeof i!="object"&&(i=[i]),Hg(i))for(var t=0,r=i.length;t<r;t++)e.call(null,i[t],t,i);else for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&e.call(null,i[n],n,i)}function Lg(){var i={};function e(n,s){Tp(i[s])&&Tp(n)?i[s]=Lg(i[s],n):Tp(n)?i[s]=Lg({},n):Hg(n)?i[s]=n.slice():i[s]=n}for(var t=0,r=arguments.length;t<r;t++)qg(arguments[t],e);return i}function rz(i,e,t){return qg(e,function(n,s){t&&typeof n=="function"?i[s]=WF(n,t):i[s]=n}),i}function nz(i){return i.charCodeAt(0)===65279&&(i=i.slice(1)),i}function oz(i,e,t,r){i.prototype=Object.create(e.prototype,r),i.prototype.constructor=i,t&&Object.assign(i.prototype,t)}function sz(i,e,t){var r,n,s,l={};e=e||{};do{for(r=Object.getOwnPropertyNames(i),n=r.length;n-- >0;)s=r[n],l[s]||(e[s]=i[s],l[s]=!0);i=Object.getPrototypeOf(i)}while(i&&(!t||t(i,e))&&i!==Object.prototype);return e}function az(i,e,t){i=String(i),(t===void 0||t>i.length)&&(t=i.length),t-=e.length;var r=i.indexOf(e,t);return r!==-1&&r===t}function lz(i){if(!i)return null;var e=i.length;if(kp(e))return null;for(var t=new Array(e);e-- >0;)t[e]=i[e];return t}var uz=function(i){return function(e){return i&&e instanceof i}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));VS.exports={isArray:Hg,isArrayBuffer:WS,isBuffer:$F,isFormData:QF,isArrayBufferView:VF,isString:jF,isNumber:GF,isObject:$S,isPlainObject:Tp,isUndefined:kp,isDate:YF,isFile:KF,isBlob:XF,isFunction:Ug,isStream:JF,isURLSearchParams:ez,isStandardBrowserEnv:iz,forEach:qg,merge:Lg,extend:rz,trim:tz,stripBOM:nz,inherits:oz,toFlatObject:sz,kindOf:zg,kindOfTest:sa,endsWith:az,toArray:lz,isTypedArray:uz,isFileList:ZF}});var Bg=ce((_V,GS)=>{"use strict";var dl=Ti();function jS(i){return encodeURIComponent(i).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}GS.exports=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(dl.isURLSearchParams(t))n=t.toString();else{var s=[];dl.forEach(t,function(c,d){c===null||typeof c>"u"||(dl.isArray(c)?d=d+"[]":c=[c],dl.forEach(c,function(g){dl.isDate(g)?g=g.toISOString():dl.isObject(g)&&(g=JSON.stringify(g)),s.push(jS(d)+"="+jS(g))}))}),n=s.join("&")}if(n){var l=e.indexOf("#");l!==-1&&(e=e.slice(0,l)),e+=(e.indexOf("?")===-1?"?":"&")+n}return e}});var KS=ce((CV,YS)=>{"use strict";var cz=Ti();function Np(){this.handlers=[]}Np.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};Np.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};Np.prototype.forEach=function(e){cz.forEach(this.handlers,function(r){r!==null&&e(r)})};YS.exports=Np});var ZS=ce((EV,XS)=>{"use strict";var dz=Ti();XS.exports=function(e,t){dz.forEach(e,function(n,s){s!==t&&s.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[s])})}});var aa=ce((PV,t_)=>{"use strict";var JS=Ti();function pl(i,e,t,r,n){Error.call(this),this.message=i,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),n&&(this.response=n)}JS.inherits(pl,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var QS=pl.prototype,e_={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(i){e_[i]={value:i}});Object.defineProperties(pl,e_);Object.defineProperty(QS,"isAxiosError",{value:!0});pl.from=function(i,e,t,r,n,s){var l=Object.create(QS);return JS.toFlatObject(i,l,function(c){return c!==Error.prototype}),pl.call(l,i.message,e,t,r,n),l.name=i.name,s&&Object.assign(l,s),l};t_.exports=pl});var Wg=ce((IV,i_)=>{"use strict";i_.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var $g=ce((AV,r_)=>{"use strict";var An=Ti();function pz(i,e){e=e||new FormData;var t=[];function r(s){return s===null?"":An.isDate(s)?s.toISOString():An.isArrayBuffer(s)||An.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function n(s,l){if(An.isPlainObject(s)||An.isArray(s)){if(t.indexOf(s)!==-1)throw Error("Circular reference detected in "+l);t.push(s),An.forEach(s,function(c,d){if(!An.isUndefined(c)){var f=l?l+"."+d:d,g;if(c&&!l&&typeof c=="object"){if(An.endsWith(d,"{}"))c=JSON.stringify(c);else if(An.endsWith(d,"[]")&&(g=An.toArray(c))){g.forEach(function(v){!An.isUndefined(v)&&e.append(f,r(v))});return}}n(c,f)}}),t.pop()}else e.append(l,r(s))}return n(i),e}r_.exports=pz});var o_=ce((RV,n_)=>{"use strict";var Vg=aa();n_.exports=function(e,t,r){var n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Vg("Request failed with status code "+r.status,[Vg.ERR_BAD_REQUEST,Vg.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}});var a_=ce((MV,s_)=>{"use strict";var Dp=Ti();s_.exports=Dp.isStandardBrowserEnv()?function(){return{write:function(t,r,n,s,l,u){var c=[];c.push(t+"="+encodeURIComponent(r)),Dp.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Dp.isString(s)&&c.push("path="+s),Dp.isString(l)&&c.push("domain="+l),u===!0&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var r=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var u_=ce((TV,l_)=>{"use strict";l_.exports=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}});var d_=ce((kV,c_)=>{"use strict";c_.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}});var jg=ce((NV,p_)=>{"use strict";var hz=u_(),fz=d_();p_.exports=function(e,t){return e&&!hz(t)?fz(e,t):t}});var f_=ce((DV,h_)=>{"use strict";var Gg=Ti(),mz=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];h_.exports=function(e){var t={},r,n,s;return e&&Gg.forEach(e.split(`
`),function(u){if(s=u.indexOf(":"),r=Gg.trim(u.substr(0,s)).toLowerCase(),n=Gg.trim(u.substr(s+1)),r){if(t[r]&&mz.indexOf(r)>=0)return;r==="set-cookie"?t[r]=(t[r]?t[r]:[]).concat([n]):t[r]=t[r]?t[r]+", "+n:n}}),t}});var v_=ce((OV,g_)=>{"use strict";var m_=Ti();g_.exports=m_.isStandardBrowserEnv()?function(){var e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a"),r;function n(s){var l=s;return e&&(t.setAttribute("href",l),l=t.href),t.setAttribute("href",l),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:t.pathname.charAt(0)==="/"?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(l){var u=m_.isString(l)?n(l):l;return u.protocol===r.protocol&&u.host===r.host}}():function(){return function(){return!0}}()});var nc=ce((LV,y_)=>{"use strict";var Yg=aa(),gz=Ti();function b_(i){Yg.call(this,i??"canceled",Yg.ERR_CANCELED),this.name="CanceledError"}gz.inherits(b_,Yg,{__CANCEL__:!0});y_.exports=b_});var x_=ce((FV,w_)=>{"use strict";w_.exports=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}});var Kg=ce((zV,S_)=>{"use strict";var oc=Ti(),vz=o_(),bz=a_(),yz=Bg(),wz=jg(),xz=f_(),Sz=v_(),_z=Wg(),zo=aa(),Cz=nc(),Ez=x_();S_.exports=function(e){return new Promise(function(r,n){var s=e.data,l=e.headers,u=e.responseType,c;function d(){e.cancelToken&&e.cancelToken.unsubscribe(c),e.signal&&e.signal.removeEventListener("abort",c)}oc.isFormData(s)&&oc.isStandardBrowserEnv()&&delete l["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var g=e.auth.username||"",v=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";l.Authorization="Basic "+btoa(g+":"+v)}var S=wz(e.baseURL,e.url);f.open(e.method.toUpperCase(),yz(S,e.params,e.paramsSerializer),!0),f.timeout=e.timeout;function C(){if(f){var T="getAllResponseHeaders"in f?xz(f.getAllResponseHeaders()):null,F=!u||u==="text"||u==="json"?f.responseText:f.response,H={data:F,status:f.status,statusText:f.statusText,headers:T,config:e,request:f};vz(function(z){r(z),d()},function(z){n(z),d()},H),f=null}}if("onloadend"in f?f.onloadend=C:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(C)},f.onabort=function(){f&&(n(new zo("Request aborted",zo.ECONNABORTED,e,f)),f=null)},f.onerror=function(){n(new zo("Network Error",zo.ERR_NETWORK,e,f,f)),f=null},f.ontimeout=function(){var F=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded",H=e.transitional||_z;e.timeoutErrorMessage&&(F=e.timeoutErrorMessage),n(new zo(F,H.clarifyTimeoutError?zo.ETIMEDOUT:zo.ECONNABORTED,e,f)),f=null},oc.isStandardBrowserEnv()){var _=(e.withCredentials||Sz(S))&&e.xsrfCookieName?bz.read(e.xsrfCookieName):void 0;_&&(l[e.xsrfHeaderName]=_)}"setRequestHeader"in f&&oc.forEach(l,function(F,H){typeof s>"u"&&H.toLowerCase()==="content-type"?delete l[H]:f.setRequestHeader(H,F)}),oc.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),u&&u!=="json"&&(f.responseType=e.responseType),typeof e.onDownloadProgress=="function"&&f.addEventListener("progress",e.onDownloadProgress),typeof e.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),(e.cancelToken||e.signal)&&(c=function(T){f&&(n(!T||T&&T.type?new Cz:T),f.abort(),f=null)},e.cancelToken&&e.cancelToken.subscribe(c),e.signal&&(e.signal.aborted?c():e.signal.addEventListener("abort",c))),s||(s=null);var M=Ez(S);if(M&&["http","https","file"].indexOf(M)===-1){n(new zo("Unsupported protocol "+M+":",zo.ERR_BAD_REQUEST,e));return}f.send(s)})}});var C_=ce((HV,__)=>{__.exports=null});var Lp=ce((UV,A_)=>{"use strict";var ki=Ti(),E_=ZS(),P_=aa(),Pz=Wg(),Iz=$g(),Az={"Content-Type":"application/x-www-form-urlencoded"};function I_(i,e){!ki.isUndefined(i)&&ki.isUndefined(i["Content-Type"])&&(i["Content-Type"]=e)}function Rz(){var i;return typeof XMLHttpRequest<"u"?i=Kg():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(i=Kg()),i}function Mz(i,e,t){if(ki.isString(i))try{return(e||JSON.parse)(i),ki.trim(i)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(i)}var Op={transitional:Pz,adapter:Rz(),transformRequest:[function(e,t){if(E_(t,"Accept"),E_(t,"Content-Type"),ki.isFormData(e)||ki.isArrayBuffer(e)||ki.isBuffer(e)||ki.isStream(e)||ki.isFile(e)||ki.isBlob(e))return e;if(ki.isArrayBufferView(e))return e.buffer;if(ki.isURLSearchParams(e))return I_(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=ki.isObject(e),n=t&&t["Content-Type"],s;if((s=ki.isFileList(e))||r&&n==="multipart/form-data"){var l=this.env&&this.env.FormData;return Iz(s?{"files[]":e}:e,l&&new l)}else if(r||n==="application/json")return I_(t,"application/json"),Mz(e);return e}],transformResponse:[function(e){var t=this.transitional||Op.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||n&&ki.isString(e)&&e.length)try{return JSON.parse(e)}catch(l){if(s)throw l.name==="SyntaxError"?P_.from(l,P_.ERR_BAD_RESPONSE,this,null,this.response):l}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:C_()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};ki.forEach(["delete","get","head"],function(e){Op.headers[e]={}});ki.forEach(["post","put","patch"],function(e){Op.headers[e]=ki.merge(Az)});A_.exports=Op});var M_=ce((qV,R_)=>{"use strict";var Tz=Ti(),kz=Lp();R_.exports=function(e,t,r){var n=this||kz;return Tz.forEach(r,function(l){e=l.call(n,e,t)}),e}});var Xg=ce((BV,T_)=>{"use strict";T_.exports=function(e){return!!(e&&e.__CANCEL__)}});var D_=ce((WV,N_)=>{"use strict";var k_=Ti(),Zg=M_(),Nz=Xg(),Dz=Lp(),Oz=nc();function Jg(i){if(i.cancelToken&&i.cancelToken.throwIfRequested(),i.signal&&i.signal.aborted)throw new Oz}N_.exports=function(e){Jg(e),e.headers=e.headers||{},e.data=Zg.call(e,e.data,e.headers,e.transformRequest),e.headers=k_.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),k_.forEach(["delete","get","head","post","put","patch","common"],function(n){delete e.headers[n]});var t=e.adapter||Dz.adapter;return t(e).then(function(n){return Jg(e),n.data=Zg.call(e,n.data,n.headers,e.transformResponse),n},function(n){return Nz(n)||(Jg(e),n&&n.response&&(n.response.data=Zg.call(e,n.response.data,n.response.headers,e.transformResponse))),Promise.reject(n)})}});var Qg=ce(($V,O_)=>{"use strict";var Vr=Ti();O_.exports=function(e,t){t=t||{};var r={};function n(f,g){return Vr.isPlainObject(f)&&Vr.isPlainObject(g)?Vr.merge(f,g):Vr.isPlainObject(g)?Vr.merge({},g):Vr.isArray(g)?g.slice():g}function s(f){if(Vr.isUndefined(t[f])){if(!Vr.isUndefined(e[f]))return n(void 0,e[f])}else return n(e[f],t[f])}function l(f){if(!Vr.isUndefined(t[f]))return n(void 0,t[f])}function u(f){if(Vr.isUndefined(t[f])){if(!Vr.isUndefined(e[f]))return n(void 0,e[f])}else return n(void 0,t[f])}function c(f){if(f in t)return n(e[f],t[f]);if(f in e)return n(void 0,e[f])}var d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:c};return Vr.forEach(Object.keys(e).concat(Object.keys(t)),function(g){var v=d[g]||s,S=v(g);Vr.isUndefined(S)&&v!==c||(r[g]=S)}),r}});var ev=ce((VV,L_)=>{L_.exports={version:"0.27.2"}});var H_=ce((jV,z_)=>{"use strict";var Lz=ev().version,ds=aa(),tv={};["object","boolean","number","function","string","symbol"].forEach(function(i,e){tv[i]=function(r){return typeof r===i||"a"+(e<1?"n ":" ")+i}});var F_={};tv.transitional=function(e,t,r){function n(s,l){return"[Axios v"+Lz+"] Transitional option '"+s+"'"+l+(r?". "+r:"")}return function(s,l,u){if(e===!1)throw new ds(n(l," has been removed"+(t?" in "+t:"")),ds.ERR_DEPRECATED);return t&&!F_[l]&&(F_[l]=!0,console.warn(n(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(s,l,u):!0}};function Fz(i,e,t){if(typeof i!="object")throw new ds("options must be an object",ds.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(i),n=r.length;n-- >0;){var s=r[n],l=e[s];if(l){var u=i[s],c=u===void 0||l(u,s,i);if(c!==!0)throw new ds("option "+s+" must be "+c,ds.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new ds("Unknown option "+s,ds.ERR_BAD_OPTION)}}z_.exports={assertOptions:Fz,validators:tv}});var V_=ce((GV,$_)=>{"use strict";var B_=Ti(),zz=Bg(),U_=KS(),q_=D_(),Fp=Qg(),Hz=jg(),W_=H_(),hl=W_.validators;function fl(i){this.defaults=i,this.interceptors={request:new U_,response:new U_}}fl.prototype.request=function(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=Fp(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var r=t.transitional;r!==void 0&&W_.assertOptions(r,{silentJSONParsing:hl.transitional(hl.boolean),forcedJSONParsing:hl.transitional(hl.boolean),clarifyTimeoutError:hl.transitional(hl.boolean)},!1);var n=[],s=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(t)===!1||(s=s&&S.synchronous,n.unshift(S.fulfilled,S.rejected))});var l=[];this.interceptors.response.forEach(function(S){l.push(S.fulfilled,S.rejected)});var u;if(!s){var c=[q_,void 0];for(Array.prototype.unshift.apply(c,n),c=c.concat(l),u=Promise.resolve(t);c.length;)u=u.then(c.shift(),c.shift());return u}for(var d=t;n.length;){var f=n.shift(),g=n.shift();try{d=f(d)}catch(v){g(v);break}}try{u=q_(d)}catch(v){return Promise.reject(v)}for(;l.length;)u=u.then(l.shift(),l.shift());return u};fl.prototype.getUri=function(e){e=Fp(this.defaults,e);var t=Hz(e.baseURL,e.url);return zz(t,e.params,e.paramsSerializer)};B_.forEach(["delete","get","head","options"],function(e){fl.prototype[e]=function(t,r){return this.request(Fp(r||{},{method:e,url:t,data:(r||{}).data}))}});B_.forEach(["post","put","patch"],function(e){function t(r){return function(s,l,u){return this.request(Fp(u||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:l}))}}fl.prototype[e]=t(),fl.prototype[e+"Form"]=t(!0)});$_.exports=fl});var G_=ce((YV,j_)=>{"use strict";var Uz=nc();function ml(i){if(typeof i!="function")throw new TypeError("executor must be a function.");var e;this.promise=new Promise(function(n){e=n});var t=this;this.promise.then(function(r){if(t._listeners){var n,s=t._listeners.length;for(n=0;n<s;n++)t._listeners[n](r);t._listeners=null}}),this.promise.then=function(r){var n,s=new Promise(function(l){t.subscribe(l),n=l}).then(r);return s.cancel=function(){t.unsubscribe(n)},s},i(function(n){t.reason||(t.reason=new Uz(n),e(t.reason))})}ml.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};ml.prototype.subscribe=function(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]};ml.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}};ml.source=function(){var e,t=new ml(function(n){e=n});return{token:t,cancel:e}};j_.exports=ml});var K_=ce((KV,Y_)=>{"use strict";Y_.exports=function(e){return function(r){return e.apply(null,r)}}});var Z_=ce((XV,X_)=>{"use strict";var qz=Ti();X_.exports=function(e){return qz.isObject(e)&&e.isAxiosError===!0}});var eC=ce((ZV,iv)=>{"use strict";var J_=Ti(),Bz=Og(),zp=V_(),Wz=Qg(),$z=Lp();function Q_(i){var e=new zp(i),t=Bz(zp.prototype.request,e);return J_.extend(t,zp.prototype,e),J_.extend(t,e),t.create=function(n){return Q_(Wz(i,n))},t}var Ar=Q_($z);Ar.Axios=zp;Ar.CanceledError=nc();Ar.CancelToken=G_();Ar.isCancel=Xg();Ar.VERSION=ev().version;Ar.toFormData=$g();Ar.AxiosError=aa();Ar.Cancel=Ar.CanceledError;Ar.all=function(e){return Promise.all(e)};Ar.spread=K_();Ar.isAxiosError=Z_();iv.exports=Ar;iv.exports.default=Ar});var un=ce((JV,tC)=>{tC.exports=eC()});function ps(i){"@babel/helpers - typeof";return ps=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ps(i)}var rv=B(()=>{});function nv(i,e){if(ps(i)!="object"||!i)return i;var t=i[Symbol.toPrimitive];if(t!==void 0){var r=t.call(i,e||"default");if(ps(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}var iC=B(()=>{rv()});function ov(i){var e=nv(i,"string");return ps(e)=="symbol"?e:String(e)}var rC=B(()=>{rv();iC()});function sv(i,e,t){return e=ov(e),e in i?Object.defineProperty(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var nC=B(()=>{rC()});function oC(i,e){var t=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(i,n).enumerable})),t.push.apply(t,r)}return t}function Hp(i){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?oC(Object(t),!0).forEach(function(r){sv(i,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(t)):oC(Object(t)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(t,r))})}return i}var sC=B(()=>{nC()});var uC={};ii(uC,{__DO_NOT_USE__ActionTypes:()=>sc,applyMiddleware:()=>lv,bindActionCreators:()=>Et,combineReducers:()=>Rn,compose:()=>Up,createStore:()=>ac,legacy_createStore:()=>jz});function Yi(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}function Vz(i){if(typeof i!="object"||i===null)return!1;for(var e=i;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e}function ac(i,e,t){var r;if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Yi(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Yi(1));return t(ac)(i,e)}if(typeof i!="function")throw new Error(Yi(2));var n=i,s=e,l=[],u=l,c=!1;function d(){u===l&&(u=l.slice())}function f(){if(c)throw new Error(Yi(3));return s}function g(_){if(typeof _!="function")throw new Error(Yi(4));if(c)throw new Error(Yi(5));var M=!0;return d(),u.push(_),function(){if(M){if(c)throw new Error(Yi(6));M=!1,d();var F=u.indexOf(_);u.splice(F,1),l=null}}}function v(_){if(!Vz(_))throw new Error(Yi(7));if(typeof _.type>"u")throw new Error(Yi(8));if(c)throw new Error(Yi(9));try{c=!0,s=n(s,_)}finally{c=!1}for(var M=l=u,T=0;T<M.length;T++){var F=M[T];F()}return _}function S(_){if(typeof _!="function")throw new Error(Yi(10));n=_,v({type:sc.REPLACE})}function C(){var _,M=g;return _={subscribe:function(F){if(typeof F!="object"||F===null)throw new Error(Yi(11));function H(){F.next&&F.next(f())}H();var L=M(H);return{unsubscribe:L}}},_[aC]=function(){return this},_}return v({type:sc.INIT}),r={dispatch:v,subscribe:g,getState:f,replaceReducer:S},r[aC]=C,r}function Gz(i){Object.keys(i).forEach(function(e){var t=i[e],r=t(void 0,{type:sc.INIT});if(typeof r>"u")throw new Error(Yi(12));if(typeof t(void 0,{type:sc.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Yi(13))})}function Rn(i){for(var e=Object.keys(i),t={},r=0;r<e.length;r++){var n=e[r];typeof i[n]=="function"&&(t[n]=i[n])}var s=Object.keys(t),l,u;try{Gz(t)}catch(c){u=c}return function(d,f){if(d===void 0&&(d={}),u)throw u;if(0)var g;for(var v=!1,S={},C=0;C<s.length;C++){var _=s[C],M=t[_],T=d[_],F=M(T,f);if(typeof F>"u"){var H=f&&f.type;throw new Error(Yi(14))}S[_]=F,v=v||F!==T}return v=v||s.length!==Object.keys(d).length,v?S:d}}function lC(i,e){return function(){return e(i.apply(this,arguments))}}function Et(i,e){if(typeof i=="function")return lC(i,e);if(typeof i!="object"||i===null)throw new Error(Yi(16));var t={};for(var r in i){var n=i[r];typeof n=="function"&&(t[r]=lC(n,e))}return t}function Up(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.length===0?function(r){return r}:e.length===1?e[0]:e.reduce(function(r,n){return function(){return r(n.apply(void 0,arguments))}})}function lv(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return function(r){return function(){var n=r.apply(void 0,arguments),s=function(){throw new Error(Yi(15))},l={getState:n.getState,dispatch:function(){return s.apply(void 0,arguments)}},u=e.map(function(c){return c(l)});return s=Up.apply(void 0,u)(n.dispatch),Hp(Hp({},n),{},{dispatch:s})}}}var aC,av,sc,jz,ri=B(()=>{sC();aC=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),av=function(){return Math.random().toString(36).substring(7).split("").join(".")},sc={INIT:"@@redux/INIT"+av(),REPLACE:"@@redux/REPLACE"+av(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+av()}};jz=ac});var uv=ce(Mn=>{"use strict";Mn.__esModule=!0;Mn.createDynamicMiddlewares=Mn.resetMiddlewares=Mn.removeMiddleware=Mn.addMiddleware=void 0;var Yz=(ri(),ku(uC)),cC=function(){var e=[],t=[],r=void 0,n=function(d){return r=d,function(f){return function(g){return Yz.compose.apply(void 0,t)(f)(g)}}},s=function(){for(var d,f,g=arguments.length,v=Array(g),S=0;S<g;S++)v[S]=arguments[S];(d=t).push.apply(d,v.map(function(C){return C(r)})),(f=e).push.apply(f,v)},l=function(d){var f=e.findIndex(function(g){return g===d});if(f===-1){console.error("Middleware does not exist!",d);return}e=e.filter(function(g,v){return v!==f}),t=t.filter(function(g,v){return v!==f})},u=function(){t=[],e=[]};return{enhancer:n,addMiddleware:s,removeMiddleware:l,resetMiddlewares:u}},qp=cC();Mn.default=qp.enhancer;var Kz=qp.addMiddleware,Xz=qp.removeMiddleware,Zz=qp.resetMiddlewares;Mn.addMiddleware=Kz;Mn.removeMiddleware=Xz;Mn.resetMiddlewares=Zz;Mn.createDynamicMiddlewares=cC});function dC(i){var e=function(r){var n=r.dispatch,s=r.getState;return function(l){return function(u){return typeof u=="function"?u(n,s,i):l(u)}}};return e}var pC,hC,fC=B(()=>{pC=dC();pC.withExtraArgument=dC;hC=pC});var gC=ce((pj,mC)=>{function Jz(){this.__data__=[],this.size=0}mC.exports=Jz});var lc=ce((hj,vC)=>{function Qz(i,e){return i===e||i!==i&&e!==e}vC.exports=Qz});var uc=ce((fj,bC)=>{var e6=lc();function t6(i,e){for(var t=i.length;t--;)if(e6(i[t][0],e))return t;return-1}bC.exports=t6});var wC=ce((mj,yC)=>{var i6=uc(),r6=Array.prototype,n6=r6.splice;function o6(i){var e=this.__data__,t=i6(e,i);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():n6.call(e,t,1),--this.size,!0}yC.exports=o6});var SC=ce((gj,xC)=>{var s6=uc();function a6(i){var e=this.__data__,t=s6(e,i);return t<0?void 0:e[t][1]}xC.exports=a6});var CC=ce((vj,_C)=>{var l6=uc();function u6(i){return l6(this.__data__,i)>-1}_C.exports=u6});var PC=ce((bj,EC)=>{var c6=uc();function d6(i,e){var t=this.__data__,r=c6(t,i);return r<0?(++this.size,t.push([i,e])):t[r][1]=e,this}EC.exports=d6});var cc=ce((yj,IC)=>{var p6=gC(),h6=wC(),f6=SC(),m6=CC(),g6=PC();function gl(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var r=i[e];this.set(r[0],r[1])}}gl.prototype.clear=p6;gl.prototype.delete=h6;gl.prototype.get=f6;gl.prototype.has=m6;gl.prototype.set=g6;IC.exports=gl});var RC=ce((wj,AC)=>{var v6=cc();function b6(){this.__data__=new v6,this.size=0}AC.exports=b6});var TC=ce((xj,MC)=>{function y6(i){var e=this.__data__,t=e.delete(i);return this.size=e.size,t}MC.exports=y6});var NC=ce((Sj,kC)=>{function w6(i){return this.__data__.get(i)}kC.exports=w6});var OC=ce((_j,DC)=>{function x6(i){return this.__data__.has(i)}DC.exports=x6});var cv=ce((Cj,LC)=>{var S6=typeof global=="object"&&global&&global.Object===Object&&global;LC.exports=S6});var la=ce((Ej,FC)=>{var _6=cv(),C6=typeof self=="object"&&self&&self.Object===Object&&self,E6=_6||C6||Function("return this")();FC.exports=E6});var dv=ce((Pj,zC)=>{var P6=la(),I6=P6.Symbol;zC.exports=I6});var BC=ce((Ij,qC)=>{var HC=dv(),UC=Object.prototype,A6=UC.hasOwnProperty,R6=UC.toString,dc=HC?HC.toStringTag:void 0;function M6(i){var e=A6.call(i,dc),t=i[dc];try{i[dc]=void 0;var r=!0}catch{}var n=R6.call(i);return r&&(e?i[dc]=t:delete i[dc]),n}qC.exports=M6});var $C=ce((Aj,WC)=>{var T6=Object.prototype,k6=T6.toString;function N6(i){return k6.call(i)}WC.exports=N6});var pc=ce((Rj,GC)=>{var VC=dv(),D6=BC(),O6=$C(),L6="[object Null]",F6="[object Undefined]",jC=VC?VC.toStringTag:void 0;function z6(i){return i==null?i===void 0?F6:L6:jC&&jC in Object(i)?D6(i):O6(i)}GC.exports=z6});var hs=ce((Mj,YC)=>{function H6(i){var e=typeof i;return i!=null&&(e=="object"||e=="function")}YC.exports=H6});var Bp=ce((Tj,KC)=>{var U6=pc(),q6=hs(),B6="[object AsyncFunction]",W6="[object Function]",$6="[object GeneratorFunction]",V6="[object Proxy]";function j6(i){if(!q6(i))return!1;var e=U6(i);return e==W6||e==$6||e==B6||e==V6}KC.exports=j6});var ZC=ce((kj,XC)=>{var G6=la(),Y6=G6["__core-js_shared__"];XC.exports=Y6});var eE=ce((Nj,QC)=>{var pv=ZC(),JC=function(){var i=/[^.]+$/.exec(pv&&pv.keys&&pv.keys.IE_PROTO||"");return i?"Symbol(src)_1."+i:""}();function K6(i){return!!JC&&JC in i}QC.exports=K6});var iE=ce((Dj,tE)=>{var X6=Function.prototype,Z6=X6.toString;function J6(i){if(i!=null){try{return Z6.call(i)}catch{}try{return i+""}catch{}}return""}tE.exports=J6});var nE=ce((Oj,rE)=>{var Q6=Bp(),eH=eE(),tH=hs(),iH=iE(),rH=/[\\^$.*+?()[\]{}|]/g,nH=/^\[object .+?Constructor\]$/,oH=Function.prototype,sH=Object.prototype,aH=oH.toString,lH=sH.hasOwnProperty,uH=RegExp("^"+aH.call(lH).replace(rH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function cH(i){if(!tH(i)||eH(i))return!1;var e=Q6(i)?uH:nH;return e.test(iH(i))}rE.exports=cH});var sE=ce((Lj,oE)=>{function dH(i,e){return i?.[e]}oE.exports=dH});var Wp=ce((Fj,aE)=>{var pH=nE(),hH=sE();function fH(i,e){var t=hH(i,e);return pH(t)?t:void 0}aE.exports=fH});var hv=ce((zj,lE)=>{var mH=Wp(),gH=la(),vH=mH(gH,"Map");lE.exports=vH});var hc=ce((Hj,uE)=>{var bH=Wp(),yH=bH(Object,"create");uE.exports=yH});var pE=ce((Uj,dE)=>{var cE=hc();function wH(){this.__data__=cE?cE(null):{},this.size=0}dE.exports=wH});var fE=ce((qj,hE)=>{function xH(i){var e=this.has(i)&&delete this.__data__[i];return this.size-=e?1:0,e}hE.exports=xH});var gE=ce((Bj,mE)=>{var SH=hc(),_H="__lodash_hash_undefined__",CH=Object.prototype,EH=CH.hasOwnProperty;function PH(i){var e=this.__data__;if(SH){var t=e[i];return t===_H?void 0:t}return EH.call(e,i)?e[i]:void 0}mE.exports=PH});var bE=ce((Wj,vE)=>{var IH=hc(),AH=Object.prototype,RH=AH.hasOwnProperty;function MH(i){var e=this.__data__;return IH?e[i]!==void 0:RH.call(e,i)}vE.exports=MH});var wE=ce(($j,yE)=>{var TH=hc(),kH="__lodash_hash_undefined__";function NH(i,e){var t=this.__data__;return this.size+=this.has(i)?0:1,t[i]=TH&&e===void 0?kH:e,this}yE.exports=NH});var SE=ce((Vj,xE)=>{var DH=pE(),OH=fE(),LH=gE(),FH=bE(),zH=wE();function vl(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var r=i[e];this.set(r[0],r[1])}}vl.prototype.clear=DH;vl.prototype.delete=OH;vl.prototype.get=LH;vl.prototype.has=FH;vl.prototype.set=zH;xE.exports=vl});var EE=ce((jj,CE)=>{var _E=SE(),HH=cc(),UH=hv();function qH(){this.size=0,this.__data__={hash:new _E,map:new(UH||HH),string:new _E}}CE.exports=qH});var IE=ce((Gj,PE)=>{function BH(i){var e=typeof i;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?i!=="__proto__":i===null}PE.exports=BH});var fc=ce((Yj,AE)=>{var WH=IE();function $H(i,e){var t=i.__data__;return WH(e)?t[typeof e=="string"?"string":"hash"]:t.map}AE.exports=$H});var ME=ce((Kj,RE)=>{var VH=fc();function jH(i){var e=VH(this,i).delete(i);return this.size-=e?1:0,e}RE.exports=jH});var kE=ce((Xj,TE)=>{var GH=fc();function YH(i){return GH(this,i).get(i)}TE.exports=YH});var DE=ce((Zj,NE)=>{var KH=fc();function XH(i){return KH(this,i).has(i)}NE.exports=XH});var LE=ce((Jj,OE)=>{var ZH=fc();function JH(i,e){var t=ZH(this,i),r=t.size;return t.set(i,e),this.size+=t.size==r?0:1,this}OE.exports=JH});var zE=ce((Qj,FE)=>{var QH=EE(),eU=ME(),tU=kE(),iU=DE(),rU=LE();function bl(i){var e=-1,t=i==null?0:i.length;for(this.clear();++e<t;){var r=i[e];this.set(r[0],r[1])}}bl.prototype.clear=QH;bl.prototype.delete=eU;bl.prototype.get=tU;bl.prototype.has=iU;bl.prototype.set=rU;FE.exports=bl});var UE=ce((eG,HE)=>{var nU=cc(),oU=hv(),sU=zE(),aU=200;function lU(i,e){var t=this.__data__;if(t instanceof nU){var r=t.__data__;if(!oU||r.length<aU-1)return r.push([i,e]),this.size=++t.size,this;t=this.__data__=new sU(r)}return t.set(i,e),this.size=t.size,this}HE.exports=lU});var BE=ce((tG,qE)=>{var uU=cc(),cU=RC(),dU=TC(),pU=NC(),hU=OC(),fU=UE();function yl(i){var e=this.__data__=new uU(i);this.size=e.size}yl.prototype.clear=cU;yl.prototype.delete=dU;yl.prototype.get=pU;yl.prototype.has=hU;yl.prototype.set=fU;qE.exports=yl});var fv=ce((iG,WE)=>{var mU=Wp(),gU=function(){try{var i=mU(Object,"defineProperty");return i({},"",{}),i}catch{}}();WE.exports=gU});var $p=ce((rG,VE)=>{var $E=fv();function vU(i,e,t){e=="__proto__"&&$E?$E(i,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):i[e]=t}VE.exports=vU});var mv=ce((nG,jE)=>{var bU=$p(),yU=lc();function wU(i,e,t){(t!==void 0&&!yU(i[e],t)||t===void 0&&!(e in i))&&bU(i,e,t)}jE.exports=wU});var YE=ce((oG,GE)=>{function xU(i){return function(e,t,r){for(var n=-1,s=Object(e),l=r(e),u=l.length;u--;){var c=l[i?u:++n];if(t(s[c],c,s)===!1)break}return e}}GE.exports=xU});var XE=ce((sG,KE)=>{var SU=YE(),_U=SU();KE.exports=_U});var tP=ce((mc,wl)=>{var CU=la(),eP=typeof mc=="object"&&mc&&!mc.nodeType&&mc,ZE=eP&&typeof wl=="object"&&wl&&!wl.nodeType&&wl,EU=ZE&&ZE.exports===eP,JE=EU?CU.Buffer:void 0,QE=JE?JE.allocUnsafe:void 0;function PU(i,e){if(e)return i.slice();var t=i.length,r=QE?QE(t):new i.constructor(t);return i.copy(r),r}wl.exports=PU});var rP=ce((aG,iP)=>{var IU=la(),AU=IU.Uint8Array;iP.exports=AU});var sP=ce((lG,oP)=>{var nP=rP();function RU(i){var e=new i.constructor(i.byteLength);return new nP(e).set(new nP(i)),e}oP.exports=RU});var lP=ce((uG,aP)=>{var MU=sP();function TU(i,e){var t=e?MU(i.buffer):i.buffer;return new i.constructor(t,i.byteOffset,i.length)}aP.exports=TU});var cP=ce((cG,uP)=>{function kU(i,e){var t=-1,r=i.length;for(e||(e=Array(r));++t<r;)e[t]=i[t];return e}uP.exports=kU});var hP=ce((dG,pP)=>{var NU=hs(),dP=Object.create,DU=function(){function i(){}return function(e){if(!NU(e))return{};if(dP)return dP(e);i.prototype=e;var t=new i;return i.prototype=void 0,t}}();pP.exports=DU});var mP=ce((pG,fP)=>{function OU(i,e){return function(t){return i(e(t))}}fP.exports=OU});var gv=ce((hG,gP)=>{var LU=mP(),FU=LU(Object.getPrototypeOf,Object);gP.exports=FU});var vv=ce((fG,vP)=>{var zU=Object.prototype;function HU(i){var e=i&&i.constructor,t=typeof e=="function"&&e.prototype||zU;return i===t}vP.exports=HU});var yP=ce((mG,bP)=>{var UU=hP(),qU=gv(),BU=vv();function WU(i){return typeof i.constructor=="function"&&!BU(i)?UU(qU(i)):{}}bP.exports=WU});var xl=ce((gG,wP)=>{function $U(i){return i!=null&&typeof i=="object"}wP.exports=$U});var SP=ce((vG,xP)=>{var VU=pc(),jU=xl(),GU="[object Arguments]";function YU(i){return jU(i)&&VU(i)==GU}xP.exports=YU});var bv=ce((bG,EP)=>{var _P=SP(),KU=xl(),CP=Object.prototype,XU=CP.hasOwnProperty,ZU=CP.propertyIsEnumerable,JU=_P(function(){return arguments}())?_P:function(i){return KU(i)&&XU.call(i,"callee")&&!ZU.call(i,"callee")};EP.exports=JU});var yv=ce((yG,PP)=>{var QU=Array.isArray;PP.exports=QU});var wv=ce((wG,IP)=>{var eq=9007199254740991;function tq(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=eq}IP.exports=tq});var Vp=ce((xG,AP)=>{var iq=Bp(),rq=wv();function nq(i){return i!=null&&rq(i.length)&&!iq(i)}AP.exports=nq});var MP=ce((SG,RP)=>{var oq=Vp(),sq=xl();function aq(i){return sq(i)&&oq(i)}RP.exports=aq});var kP=ce((_G,TP)=>{function lq(){return!1}TP.exports=lq});var xv=ce((gc,Sl)=>{var uq=la(),cq=kP(),OP=typeof gc=="object"&&gc&&!gc.nodeType&&gc,NP=OP&&typeof Sl=="object"&&Sl&&!Sl.nodeType&&Sl,dq=NP&&NP.exports===OP,DP=dq?uq.Buffer:void 0,pq=DP?DP.isBuffer:void 0,hq=pq||cq;Sl.exports=hq});var zP=ce((CG,FP)=>{var fq=pc(),mq=gv(),gq=xl(),vq="[object Object]",bq=Function.prototype,yq=Object.prototype,LP=bq.toString,wq=yq.hasOwnProperty,xq=LP.call(Object);function Sq(i){if(!gq(i)||fq(i)!=vq)return!1;var e=mq(i);if(e===null)return!0;var t=wq.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&LP.call(t)==xq}FP.exports=Sq});var UP=ce((EG,HP)=>{var _q=pc(),Cq=wv(),Eq=xl(),Pq="[object Arguments]",Iq="[object Array]",Aq="[object Boolean]",Rq="[object Date]",Mq="[object Error]",Tq="[object Function]",kq="[object Map]",Nq="[object Number]",Dq="[object Object]",Oq="[object RegExp]",Lq="[object Set]",Fq="[object String]",zq="[object WeakMap]",Hq="[object ArrayBuffer]",Uq="[object DataView]",qq="[object Float32Array]",Bq="[object Float64Array]",Wq="[object Int8Array]",$q="[object Int16Array]",Vq="[object Int32Array]",jq="[object Uint8Array]",Gq="[object Uint8ClampedArray]",Yq="[object Uint16Array]",Kq="[object Uint32Array]",Gt={};Gt[qq]=Gt[Bq]=Gt[Wq]=Gt[$q]=Gt[Vq]=Gt[jq]=Gt[Gq]=Gt[Yq]=Gt[Kq]=!0;Gt[Pq]=Gt[Iq]=Gt[Hq]=Gt[Aq]=Gt[Uq]=Gt[Rq]=Gt[Mq]=Gt[Tq]=Gt[kq]=Gt[Nq]=Gt[Dq]=Gt[Oq]=Gt[Lq]=Gt[Fq]=Gt[zq]=!1;function Xq(i){return Eq(i)&&Cq(i.length)&&!!Gt[_q(i)]}HP.exports=Xq});var BP=ce((PG,qP)=>{function Zq(i){return function(e){return i(e)}}qP.exports=Zq});var $P=ce((vc,_l)=>{var Jq=cv(),WP=typeof vc=="object"&&vc&&!vc.nodeType&&vc,bc=WP&&typeof _l=="object"&&_l&&!_l.nodeType&&_l,Qq=bc&&bc.exports===WP,Sv=Qq&&Jq.process,e4=function(){try{var i=bc&&bc.require&&bc.require("util").types;return i||Sv&&Sv.binding&&Sv.binding("util")}catch{}}();_l.exports=e4});var _v=ce((IG,GP)=>{var t4=UP(),i4=BP(),VP=$P(),jP=VP&&VP.isTypedArray,r4=jP?i4(jP):t4;GP.exports=r4});var Cv=ce((AG,YP)=>{function n4(i,e){if(!(e==="constructor"&&typeof i[e]=="function")&&e!="__proto__")return i[e]}YP.exports=n4});var XP=ce((RG,KP)=>{var o4=$p(),s4=lc(),a4=Object.prototype,l4=a4.hasOwnProperty;function u4(i,e,t){var r=i[e];(!(l4.call(i,e)&&s4(r,t))||t===void 0&&!(e in i))&&o4(i,e,t)}KP.exports=u4});var JP=ce((MG,ZP)=>{var c4=XP(),d4=$p();function p4(i,e,t,r){var n=!t;t||(t={});for(var s=-1,l=e.length;++s<l;){var u=e[s],c=r?r(t[u],i[u],u,t,i):void 0;c===void 0&&(c=i[u]),n?d4(t,u,c):c4(t,u,c)}return t}ZP.exports=p4});var eI=ce((TG,QP)=>{function h4(i,e){for(var t=-1,r=Array(i);++t<i;)r[t]=e(t);return r}QP.exports=h4});var Ev=ce((kG,tI)=>{var f4=9007199254740991,m4=/^(?:0|[1-9]\d*)$/;function g4(i,e){var t=typeof i;return e=e??f4,!!e&&(t=="number"||t!="symbol"&&m4.test(i))&&i>-1&&i%1==0&&i<e}tI.exports=g4});var rI=ce((NG,iI)=>{var v4=eI(),b4=bv(),y4=yv(),w4=xv(),x4=Ev(),S4=_v(),_4=Object.prototype,C4=_4.hasOwnProperty;function E4(i,e){var t=y4(i),r=!t&&b4(i),n=!t&&!r&&w4(i),s=!t&&!r&&!n&&S4(i),l=t||r||n||s,u=l?v4(i.length,String):[],c=u.length;for(var d in i)(e||C4.call(i,d))&&!(l&&(d=="length"||n&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||x4(d,c)))&&u.push(d);return u}iI.exports=E4});var oI=ce((DG,nI)=>{function P4(i){var e=[];if(i!=null)for(var t in Object(i))e.push(t);return e}nI.exports=P4});var aI=ce((OG,sI)=>{var I4=hs(),A4=vv(),R4=oI(),M4=Object.prototype,T4=M4.hasOwnProperty;function k4(i){if(!I4(i))return R4(i);var e=A4(i),t=[];for(var r in i)r=="constructor"&&(e||!T4.call(i,r))||t.push(r);return t}sI.exports=k4});var Pv=ce((LG,lI)=>{var N4=rI(),D4=aI(),O4=Vp();function L4(i){return O4(i)?N4(i,!0):D4(i)}lI.exports=L4});var cI=ce((FG,uI)=>{var F4=JP(),z4=Pv();function H4(i){return F4(i,z4(i))}uI.exports=H4});var gI=ce((zG,mI)=>{var dI=mv(),U4=tP(),q4=lP(),B4=cP(),W4=yP(),pI=bv(),hI=yv(),$4=MP(),V4=xv(),j4=Bp(),G4=hs(),Y4=zP(),K4=_v(),fI=Cv(),X4=cI();function Z4(i,e,t,r,n,s,l){var u=fI(i,t),c=fI(e,t),d=l.get(c);if(d){dI(i,t,d);return}var f=s?s(u,c,t+"",i,e,l):void 0,g=f===void 0;if(g){var v=hI(c),S=!v&&V4(c),C=!v&&!S&&K4(c);f=c,v||S||C?hI(u)?f=u:$4(u)?f=B4(u):S?(g=!1,f=U4(c,!0)):C?(g=!1,f=q4(c,!0)):f=[]:Y4(c)||pI(c)?(f=u,pI(u)?f=X4(u):(!G4(u)||j4(u))&&(f=W4(c))):g=!1}g&&(l.set(c,f),n(f,c,r,s,l),l.delete(c)),dI(i,t,f)}mI.exports=Z4});var yI=ce((HG,bI)=>{var J4=BE(),Q4=mv(),e9=XE(),t9=gI(),i9=hs(),r9=Pv(),n9=Cv();function vI(i,e,t,r,n){i!==e&&e9(e,function(s,l){if(n||(n=new J4),i9(s))t9(i,e,l,t,vI,r,n);else{var u=r?r(n9(i,l),s,l+"",i,e,n):void 0;u===void 0&&(u=s),Q4(i,l,u)}},r9)}bI.exports=vI});var Iv=ce((UG,wI)=>{function o9(i){return i}wI.exports=o9});var SI=ce((qG,xI)=>{function s9(i,e,t){switch(t.length){case 0:return i.call(e);case 1:return i.call(e,t[0]);case 2:return i.call(e,t[0],t[1]);case 3:return i.call(e,t[0],t[1],t[2])}return i.apply(e,t)}xI.exports=s9});var EI=ce((BG,CI)=>{var a9=SI(),_I=Math.max;function l9(i,e,t){return e=_I(e===void 0?i.length-1:e,0),function(){for(var r=arguments,n=-1,s=_I(r.length-e,0),l=Array(s);++n<s;)l[n]=r[e+n];n=-1;for(var u=Array(e+1);++n<e;)u[n]=r[n];return u[e]=t(l),a9(i,this,u)}}CI.exports=l9});var II=ce((WG,PI)=>{function u9(i){return function(){return i}}PI.exports=u9});var MI=ce(($G,RI)=>{var c9=II(),AI=fv(),d9=Iv(),p9=AI?function(i,e){return AI(i,"toString",{configurable:!0,enumerable:!1,value:c9(e),writable:!0})}:d9;RI.exports=p9});var kI=ce((VG,TI)=>{var h9=800,f9=16,m9=Date.now;function g9(i){var e=0,t=0;return function(){var r=m9(),n=f9-(r-t);if(t=r,n>0){if(++e>=h9)return arguments[0]}else e=0;return i.apply(void 0,arguments)}}TI.exports=g9});var DI=ce((jG,NI)=>{var v9=MI(),b9=kI(),y9=b9(v9);NI.exports=y9});var LI=ce((GG,OI)=>{var w9=Iv(),x9=EI(),S9=DI();function _9(i,e){return S9(x9(i,e,w9),i+"")}OI.exports=_9});var zI=ce((YG,FI)=>{var C9=lc(),E9=Vp(),P9=Ev(),I9=hs();function A9(i,e,t){if(!I9(t))return!1;var r=typeof e;return(r=="number"?E9(t)&&P9(e,t.length):r=="string"&&e in t)?C9(t[e],i):!1}FI.exports=A9});var UI=ce((KG,HI)=>{var R9=LI(),M9=zI();function T9(i){return R9(function(e,t){var r=-1,n=t.length,s=n>1?t[n-1]:void 0,l=n>2?t[2]:void 0;for(s=i.length>3&&typeof s=="function"?(n--,s):void 0,l&&M9(t[0],t[1],l)&&(s=n<3?void 0:s,n=1),e=Object(e);++r<n;){var u=t[r];u&&i(e,u,r,s)}return e})}HI.exports=T9});var BI=ce((XG,qI)=>{var k9=yI(),N9=UI(),D9=N9(function(i,e,t){k9(i,e,t)});qI.exports=D9});function ua(i){return!!i&&(typeof i=="object"||typeof i=="function")&&typeof i.then=="function"}var Av=B(()=>{});function Rv(i={}){let e=i.promiseTypeSuffixes||O9,t=i.promiseTypeDelimiter||"_";return r=>{let{dispatch:n}=r;return s=>l=>{let u,c;if(l.payload){let T=l.payload;if(ua(T))u=T;else if(ua(T.promise))u=T.promise,c=T.data;else if(typeof T=="function"||typeof T.promise=="function"){if(u=T.promise?T.promise():T(),c=T.promise?T.data:void 0,!ua(u))return s({...l,payload:u})}else return s(l)}else return s(l);let d=l.type,f=l.meta,[g,v,S]=e,C=(T,F)=>({type:[d,F?S:v].join(t),...T===null||typeof T>"u"?{}:{payload:T},...f!==void 0?{meta:f}:{},...F?{error:!0}:{}}),_=T=>{let F=C(T,!0);n(F)},M=(T=null)=>{let F=C(T,!1);return n(F),{value:T,action:F}};return s({type:[d,g].join(t),...c!==void 0?{payload:c}:{},...f!==void 0?{meta:f}:{}}),u.then(M,_).catch(T=>{if(se&&T.response)console.error("Request to",T.response.config.url,"failed with code",T.response.status);else{if(T&&T.response&&T.response.status===401){console.warn("No auth for request to",T.response.config.url);return}console.error(T)}}),u}}}var jp,Gp,Yp,O9,Mv=B(()=>{Av();Ne();jp="PENDING",Gp="FULFILLED",Yp="REJECTED",O9=[jp,Gp,Yp]});var Cl,Tv,ca,li,kv,da,Nv,Dv,pa=B(()=>{Cl="cargo.site",Tv="wss://w.s.cargo.site",ca="https://u.cargo.site",li="https://api.cargo.site/v1",kv="https://cargo.site/_api",da="https://cargo.site",Nv="https://cargo.site/_api/v1-p",Dv="yjhpd2ug";switch("production"){case"localhost":case"local-ssr":Cl="local.dev.cargo.site",Tv="wss://ws.dev.cargo.site",ca="https://u.local.dev.cargo.site",li="https://api.dev.cargo.site/v1",kv="https://dev.cargo.site/_api",da="https://dev.cargo.site",Nv="https://dev.cargo.site/_api/v1-p",Dv="na91uuyv";break;case"local-crdt":Cl="local.dev.cargo.site",Tv="wss://ws.local.dev.cargo.site:4443",ca="https://u.local.dev.cargo.site",li="https://api.dev.cargo.site/v1",kv="https://dev.cargo.site/_api",da="https://dev.cargo.site",Nv="https://dev.cargo.site/_api/v1-p",Dv="na91uuyv";break;case"dev":Cl="dev.cargo.site",Tv="wss://ws.dev.cargo.site",ca="https://u.dev.cargo.site",li="https://api.dev.cargo.site/v1",kv="https://dev.cargo.site/_api",da="https://dev.cargo.site",Nv="https://dev.cargo.site/_api/v1-p",Dv="na91uuyv";break}});function L9(i){var e;return{get:function(r){return e&&i(e.key,r)?e.value:Kp},put:function(r,n){e={key:r,value:n}},getEntries:function(){return e?[e]:[]},clear:function(){e=void 0}}}function F9(i,e){var t=[];function r(u){var c=t.findIndex(function(f){return e(u,f.key)});if(c>-1){var d=t[c];return c>0&&(t.splice(c,1),t.unshift(d)),d.value}return Kp}function n(u,c){r(u)===Kp&&(t.unshift({key:u,value:c}),t.length>i&&t.pop())}function s(){return t}function l(){t=[]}return{get:r,put:n,getEntries:s,clear:l}}function z9(i){return function(t,r){if(t===null||r===null||t.length!==r.length)return!1;for(var n=t.length,s=0;s<n;s++)if(!i(t[s],r[s]))return!1;return!0}}function $I(i,e){var t=typeof e=="object"?e:{equalityCheck:e},r=t.equalityCheck,n=r===void 0?WI:r,s=t.maxSize,l=s===void 0?1:s,u=t.resultEqualityCheck,c=z9(n),d=l===1?L9(c):F9(l,c);function f(){var g=d.get(arguments);if(g===Kp){if(g=i.apply(null,arguments),u){var v=d.getEntries(),S=v.find(function(C){return u(C.value,g)});S&&(g=S.value)}d.put(arguments,g)}return g}return f.clearCache=function(){return d.clear()},f}var Kp,WI,VI=B(()=>{Kp="NOT_FOUND";WI=function(e,t){return e===t}});function H9(i){var e=Array.isArray(i[0])?i[0]:i;if(!e.every(function(r){return typeof r=="function"})){var t=e.map(function(r){return typeof r=="function"?"function "+(r.name||"unnamed")+"()":typeof r}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return e}function Ov(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];var n=function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var d=0,f,g={memoizeOptions:void 0},v=u.pop();if(typeof v=="object"&&(g=v,v=u.pop()),typeof v!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof v+"]");var S=g,C=S.memoizeOptions,_=C===void 0?t:C,M=Array.isArray(_)?_:[_],T=H9(u),F=i.apply(void 0,[function(){return d++,v.apply(null,arguments)}].concat(M)),H=i(function(){for(var z=[],ie=T.length,X=0;X<ie;X++)z.push(T[X].apply(null,arguments));return f=F.apply(null,z),f});return Object.assign(H,{resultFunc:v,memoizedResultFunc:F,dependencies:T,lastResult:function(){return f},recomputations:function(){return d},resetRecomputations:function(){return d=0}}),H};return n}var jI,GI=B(()=>{VI();jI=Ov($I)});var Lv={};ii(Lv,{ADMIN_FRAME:()=>ye,CRDTState:()=>Ft,FRONTEND_DATA:()=>Xp});var ye,Xp,Ft,Ot=B(()=>{ye={adminWindow:null},Xp={},Ft=Object.freeze({New:0,Published:1,Draft:2,Deleted:3})});var gi,nt,ui,it,Si=B(()=>{GI();gi=fe(Se(),1);Ne();Ot();nt={};se?ui=Ov(i=>i):ui=function(){return jI.apply(this,[...arguments,{memoizeOptions:{maxSize:10}}])};nt.getItemParentId=(i,e)=>nt.flatByParentList(i)[e];nt.getHomepageId=i=>i.frontendState.isMobile?i.site?.mobile_homepage_id:i.site?.homepage_id;nt.getHiddenHomepageId=i=>{let e=i.site?.mobile_homepage_id,t=i.site?.homepage_id;return e===t?null:i.frontendState.isMobile?t:e};nt.getHomepagePurl=i=>i.frontendState.isMobile?i.site?.mobile_homepage_purl:i.site?.homepage_purl;nt.flatByParentList=ui(i=>i.structure.byParent,i=>{let e={};for(let t in i)for(let r in i[t])e[i[t][r]]=t;return e});nt.getSetsByParent=ui(i=>i.structure.byParent,i=>i.sets.byId,(i,e)=>{let t={};for(let r in i)t[r]=i[r].filter(n=>e.hasOwnProperty(n));return t});nt.getPagesByParent=ui(i=>i.structure.byParent,i=>i.pages.byId,(i,e)=>{let t={};for(let r in i)t[r]=i[r].filter(n=>e.hasOwnProperty(n));return t});nt.getParentSetList=ui(nt.getItemParentId,nt.flatByParentList,(i,e)=>{let t=[];for(;i;)t.push(i),i=i!==e[i]?e[i]:null;return t});nt.getSetContents=ui((i,e)=>e,nt.getHomepageId,(i,e,t)=>t,(i,e,t)=>i.structure.bySort,(i,e)=>i.structure.byParent[e],i=>i.pages.byId,i=>i.sets.byId,(i,e,t={},r,n=[],s,l)=>{let u;return gi.default.without(n.map(c=>{if(u=s[c]||l[c],t.includeNotIndexable===!0||u&&(u.id===e||Dg(u)))return u}).sort((c,d)=>r[c.id]-r[d.id]),void 0)});nt.getSetContentsByIndex=ui(nt.getSetContents,(i,e,t)=>i.structure.indexById,(i,e)=>i.reduce((t,r)=>(t[e[r.id]]=r,t),{}));nt.getSetDepthsById=ui(i=>i.sets.byId,nt.flatByParentList,(i,e)=>{let t={};return Object.keys(i).forEach(r=>{let n=0,s=r;for(;e[s];)n++,s=e[s];t[r]=n}),t});nt.getPinsForSet=ui(nt.getParentSetList,nt.getSetDepthsById,(i,e,t,r)=>e,(i,e,t,r)=>t,(i,e,t,r)=>r,(i,e,t,r)=>i.structure.bySort,(i,e,t,r)=>i.pages.byId,nt.getPagesByParent,i=>i.frontendState.isMobile,(i,e,t,r,n,s,l={},u={},c)=>{if(!t)return[];let d=t,f=0,g={},v=[];return i.concat([t]).forEach(C=>{u[C]&&u[C].forEach(_=>{if(l[_]&&l[_].pin&&l[_].pin_options&&l[_].pin_options.position===r){if(_!==n&&(l[_].pin_options.screen_visibility==="mobile"&&!c||l[_].pin_options.screen_visibility==="desktop"&&c))return;v.push(l[_]),g[_]=l[_].pin_options.fixed?0:e[C]}})}),v.sort((C,_)=>{let M=s[C.id],T=s[_.id];return C.pin_options.fixed?M+=r==="bottom"?9e9:-9e9:C.pin_options.overlay&&(M+=r==="bottom"?9e5:-9e5),_.pin_options.fixed?T+=r==="bottom"?9e9:-9e9:_.pin_options.overlay&&(T+=r==="bottom"?9e5:-9e5),M-T}),v.sort((C,_)=>r==="bottom"?g[_.id]-g[C.id]:g[C.id]-g[_.id]),v});nt.getAutoRenderableOverlaysForSet=ui(nt.getParentSetList,nt.getSetDepthsById,(i,e,t)=>e,(i,e,t)=>t,(i,e,t)=>i.pages.byId,(i,e,t)=>i.frontendState.PIDToEdit,nt.getPagesByParent,(i,e,t,r,n={},s,l={})=>{if(!t||se)return[];let u=t,c=0,d=[];return i.concat([t]).forEach(g=>{l[g]&&l[g].forEach(v=>{n[v]&&n[v].overlay&&(n[v].id===s||n[v].overlay_options?.openOnLoad||n[v].purl?.toLowerCase()===r?.toLowerCase())&&d.push(n[v])})}),d});nt.getContentById=ui((i,e)=>e,(i,e)=>i.pages.byId[e]||i.sets.byId[e],(i,e)=>e);nt.getContentByPurl=ui((i,e)=>e,(i,e)=>i.pages.byId[nt.getPagesByUrl(i)[e?.toLowerCase()]]||i.sets.byId[nt.getSetsByUrl(i)[e?.toLowerCase()]],(i,e)=>e);nt.getLoadedIndexesForSet=ui(nt.getSetContents,i=>i.structure.indexById,(i,e)=>gi.default.without(i.map(t=>{if(Dg(t))return e[t.id]}),void 0));nt.getMissingIndexesForSet=ui((i,e)=>i.sets.byId[e],nt.getLoadedIndexesForSet,(i,e)=>i?gi.default.difference([...Array(Math.max(i.page_count||0,0)).keys()],e):[]);nt.getSortedListOfIndexPairs=ui(i=>i,(i,e)=>e,(i,e)=>i.sets.byId,(i,e)=>i.structure.indexById,nt.getSetsByParent,(i,e,t,r,n)=>{let s=l=>{let u=nt.getContentById(i,l);if(!u)return[];let c=[...Array(Math.max(u.page_count||0,0)).keys()].map(d=>[u.id,d]);return n[u.id]&&(n[u.id]||[]).map(d=>t[d]).reverse().forEach(d=>{c.splice(r[d.id]+1,0,s(d.id))}),c};return gi.default.chunk(gi.default.flattenDeep(s(e)),2)});nt.getSortedListOfMissingIndexPairs=ui(i=>i,nt.getSortedListOfIndexPairs,(i,e)=>i.sets.byId,nt.getSetsByParent,(i,e,t,r)=>{let n=[];return gi.default.uniq(e.map(s=>s[0])).forEach(s=>{n=n.concat(nt.getLoadedIndexesForSet(i,s).map(l=>[s,l]))}),gi.default.differenceWith(e,n,gi.default.isEqual)});nt.getGappedSetMap=ui(i=>i,nt.getSortedListOfIndexPairs,nt.getSortedListOfMissingIndexPairs,(i,e,t)=>{let r=t[0];if(r){let n=gi.default.uniq(e.map(u=>u[0])).reduce((u,c)=>(u[c]=0,u),{}),s=gi.default.findIndex(e,u=>gi.default.isEqual(u,r)),l=gi.default.fromPairs(e.slice(0,s));return gi.default.merge(n,l)}return{}});nt.getPagesByUrl=ui(i=>i.pages.byId,i=>gi.default.transform(gi.default.omitBy(i,e=>e.crdt_state===Ft.Deleted),function(e,t){e[t.purl?.toLowerCase()]=t.id},{}));nt.getSetsByUrl=ui(i=>i.sets.byId,i=>gi.default.transform(gi.default.omitBy(i,e=>e.crdt_state===Ft.Deleted),function(e,t){e[t.purl?.toLowerCase()]=t.id},{}));nt.getMediaByHash=i=>{let e={};return gi.default.each(i.pages.byId,t=>{gi.default.each(t.media,r=>{r.crdt_state!==Ft.Deleted&&(e[r.hash]=r)})}),e};nt.getMediaByParent=ui(i=>i.pages.byId,i=>{let e={};return gi.default.each(i,t=>{e[t.id]=t.media?.filter(r=>r.crdt_state!==Ft.Deleted)}),e});nt.getRenderedPageModels=ui(i=>i.pages.byId,i=>i.frontendState.renderedPages,(i,e)=>e.map(t=>i[t.id]).filter(t=>t!==void 0));it=nt});var Hv={};ii(Hv,{actionTypes:()=>Pe,actions:()=>Fe});var jr,ma,zv,Fe,U9,YI,Pe,Zp,Fv,ha,fa,zt=B(()=>{jr=fe(un(),1),ma=fe(Se(),1);Mv();Ne();pa();Si();zv=fe(Se(),1),Fe={},U9=se?3e4:1e4,YI={AUTHENTICATE_USER:"AUTHENTICATE_USER",FETCH_SITEDESIGN_MODEL:"FETCH_SITEDESIGN_MODEL",FETCH_SCAFFOLDING:"FETCH_SCAFFOLDING",FETCH_SITE_PACKAGE:"FETCH_SITE_PACKAGE",FETCH_SITE_MODEL:"FETCH_SITE_MODEL",FETCH_SITE_CSS:"FETCH_SITE_CSS",FETCH_MEDIA:"FETCH_MEDIA",FETCH_CONTENT:"FETCH_CONTENT",DELETE_CONTENT:"DELETE_CONTENT",FETCH_COMMERCE_PRODUCTS:"FETCH_COMMERCE_PRODUCTS",FETCH_SHOP_MODEL:"FETCH_SHOP_MODEL"};(0,ma.each)(YI,function(i,e,t){t[i+"_"+Gp]=e+"_"+Gp,t[i+"_"+jp]=e+"_"+jp,t[i+"_"+Yp]=e+"_"+Yp});Pe=(0,ma.merge)({ADD_COMMERCE_PRODUCT_TO_CART:"ADD_COMMERCE_PRODUCT_TO_CART",RESET_COMMERCE_CART:"RESET_COMMERCE_CART",SET_INITIAL_AUTH:"SET_INITIAL_AUTH",PAGES_MOUNTED:"PAGES_MOUNTED",PAGES_UNMOUNTED:"PAGES_UNMOUNTED",UPDATE_FRONTEND_STATE:"UPDATE_FRONTEND_STATE",COMMERCE_PRODUCT_DESTROYED:"COMMERCE_PRODUCT_DESTROYED",COMMERCE_PRODUCT_UPDATED:"COMMERCE_PRODUCT_UPDATED",SHOP_MODEL_UPDATED:"SHOP_MODEL_UPDATED"},YI);Fe.getAuthToken=function(i={}){let e=new Promise((t,r)=>{let n="https://cargo.site/accesstoken";if(i.reverse_bounce_jwt){parent.location.href=n+"/bounce?jwt="+i.reverse_bounce_jwt;return}if(i.bounce){parent.location.href=n+"/bounce?site_url="+i.site_url;return}let s={};i.site_url&&(s.site_url=i.site_url),i.site_id&&(s.site_id=i.site_id),i.jwt&&(s.jwt=i.jwt);let l={};i.nonce&&(l["x-cargo-access-token-nonce"]=i.nonce),jr.default.get(n,{use_auth:!1,withCredentials:!0,params:s,headers:l,timeout:i?.timeout||U9}).then(function(u){if(!u||u.token===null)return r("No token found.");t(u)}).catch(u=>{r(u)})});return{type:Pe.AUTHENTICATE_USER,payload:e}};Fe.setAuthentication=i=>({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:i});Fe.rejectAuthentication=()=>({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}});Fe.fetchScaffolding=function(){return function(i,e){let r=`/pages/${e().site.id}/scaffolding`;return i({type:Pe.FETCH_SCAFFOLDING,payload:jr.default.get(li+r)})}};Fe.fetchFiles=function(){return function(i,e){let r=`/sites/${e().site.id}/media/files`;return i({type:Pe.FETCH_MEDIA,payload:jr.default.get(li+r)})}};Fe.fetchCommerceProducts=function(i={}){return i=zv.default.defaults(i,{orderBy:"date_added",orderDir:"asc",idArray:null,onlyNew:!0}),function(e,t){let r=t(),n=`/commerce/${r.site.id}/products`,s;if(i.idArray){n+="/list";let l=new FormData;if(i.idArray){let u=i.idArray.filter(c=>!(i.onlyNew===!0&&r.commerce.products.hasOwnProperty(c)));if(u.length===0)return Promise.resolve();u.forEach(c=>{l.append("ids[]",c)})}s=jr.default.post(li+n,l,{use_auth:!1})}else s=jr.default.get(li+n,{use_auth:!1,params:{order_by:i.orderBy,order_dir:i.orderDir,limit:i.limit}});return e({type:Pe.FETCH_COMMERCE_PRODUCTS,payload:s,meta:{options:i}})}};Fe.fetchShopModel=function(i={}){return function(e,t){let r=t();if(!r.site.shop_id)return Promise.resolve();let n=`/commerce/${r.site.id}/shop/${r.site.shop_id}`;return e({type:Pe.FETCH_SHOP_MODEL,payload:jr.default.get(li+n,{use_cache:i.force!==!0})})}};Fe.resetCommerceCart=function(){return{type:Pe.RESET_COMMERCE_CART,payload:{}}};Fe.addCommerceProductToCart=function(i,e,t={}){return function(r,n){let s=n(),l=s.commerce.products[i],u=l?.variants.find(c=>c.variant_id==e);if(!l||!u){t.failureCallback?.("Product not found");return}if((t.amount===void 0||isNaN(t.amount))&&(t.amount=1),u.inventory!==null&&t.amount>u.inventory)if(u.inventory<=0){t.failureCallback?.("Product is out of stock");return}else t.amount=u.inventory;return typeof t.callback=="function"&&t.callback(),r({type:Pe.ADD_COMMERCE_PRODUCT_TO_CART,payload:{product_id:u.product_id,variant_id:u.variant_id,quantity:t.amount},meta:{is_template:s.site.is_template}})}};Zp=null,Fv=!1,ha=[],fa=[];Fe.pageMounted=function(i){if(fa.includes(i)&&(fa=fa.filter(e=>e!==i)),!ha.includes(i))return(e,t)=>(ha.push(i),Zp||(Zp=new Promise(r=>{requestAnimationFrame(()=>{e({type:Pe.PAGES_MOUNTED,payload:{pages:[...ha]}}),r(),Zp=null,ha=[]})})),Zp)};Fe.pageUnMounted=function(i){if(ha.includes(i)&&(ha=ha.filter(e=>e!==i)),!fa.includes(i))return(e,t)=>{if(t().frontendState.PIDBeingEdited===i?.id)return e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[i]}});fa.push(i),Fv||(Fv=!0,requestAnimationFrame(()=>{e({type:Pe.PAGES_UNMOUNTED,payload:{pages:[...fa]}}),Fv=!1,fa=[]}))}};Fe.fetchSiteModel=function(){return function(i,e){let r=`/sites/${e().site.id}`,n=jr.default.get(li+r);return i({type:Pe.FETCH_SITE_MODEL,payload:n})}};Fe.fetchSiteCSS=function(){return function(i,e){let r=`/sites/${e().site.id}/css`,n=jr.default.get(li+r);return i({type:Pe.FETCH_SITE_CSS,payload:n})}};Fe.fetchSitePackage=function(){return function(i,e){let t=e(),r;se?r=t.frontendState.hostname:r=ul?LS:window.location.hostname,kg&&(r=r.replace("local.dev.cargo.site","dev.cargo.site"));let n=jr.default.get(li+`/package/${r}`);return i({type:Pe.FETCH_SITE_PACKAGE,payload:n})}};Fe.fetchSiteDesignModel=function(){return function(i,e){let r=`/sites/${e().site.id}/design`,n=jr.default.get(li+r);return i({type:Pe.FETCH_SITEDESIGN_MODEL,payload:n})}};Fe.fetchPagesByTag=function(i,e={}){return function(t,r){let n=store.getState(),s=jr.default.get(li+`/pages/${n.site.id}/tag/${i}`,{withCredentials:!0,use_cache:e.force!==!0});return t({type:Pe.FETCH_CONTENT,payload:s})}};Fe.fetchContent=function(i,e={}){return e.idType||(e.idType="pid"),function(t,r){let n=r(),s;if(e.indexes&&n.frontendState.inAdminFrame===!0){let f=n.structure.byParent[i]?.reduce((g,v)=>(g[n.structure.indexById[v]]=v,g),{});f&&(s={},e.indexes.forEach(g=>{let v=f[g],S=n.structure.liveIndexes[v];if(S){let[C,_]=S.split("/");s[C]||(s[C]=[]),s[C].push(parseInt(_))}}),s=zv.default.map(s,(g,v)=>({set_id:v,index:g})))}if(e.force!==!0&&(e.idType==="purl"?it.getContentByPurl(n,i):it.getContentById(n,i)||i==="root")&&(e.indexes===void 0||e.indexes.length===0)&&e.prev!==!0&&e.next!==!0)return t({type:Pe.FETCH_CONTENT,payload:Promise.resolve()});let l=`/pages/${n.site.id}/url/${i}`;e.next===!0?l=`/pages/${n.site.id}/next/${i}`:e.prev===!0?l=`/pages/${n.site.id}/prev/${i}`:e.idType==="pid"&&(l=`/pages/${n.site.id}/id/${i}`);let u={};(0,ma.isArray)(e.indexes)&&(l=`/pages/${n.site.id}/filter/`,s&&Object.keys(s).length>0?u.indexBySet=JSON.stringify(s):u.indexBySet=JSON.stringify([{set_id:i,index:e.indexes}]));let c=jr.default.get(li+l,{withCredentials:!0,use_cache:e.force!==!0,params:u,validateStatus:function(f){return f>=200&&f<300&&f!==204},contentIdentifier:{idType:e.idType,id:i}}),d=new Promise((f,g)=>{c.then(v=>{(0,ma.isArray)(v.data)||(v.data=[v.data]),e.cb?.(v),f(v)}).catch(g)});return t({type:Pe.FETCH_CONTENT,payload:d})}};Fe.updateFrontendState=function(i){return function(e,t){return e({type:Pe.UPDATE_FRONTEND_STATE,payload:i})}};Fe.deleteContent=function(i){return function(e,t){let r=new Promise().resolve({id:i});return{type:Pe.DELETE_CONTENT,payload:r}}};se||(window.actions=Fe)});function Uv(){return i=>e=>(ua(e.payload)&&e.payload.catch(function(t){if(se&&t.response)console.error("Request to",t.response.config.url,"failed with code",t.response.status);else{if(t&&t.response&&t.response.status===401){console.warn("No auth for request to",t.response.config.url);return}console.error(t)}return t}),i(e))}var dY,KI=B(()=>{Av();dY=fe(Se(),1);Ne()});function XI(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SITE_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.site),t){if(ul&&(t.domain_active=!1),!se)try{localStorage.setItem("c3-site",JSON.stringify({id:t.id,host:window.location.host}))}catch(r){console.error(r)}return{...i,...t,crdt_state:Ft.Published}}break}return i}var gY,ZI=B(()=>{zt();Ne();Ot();gY=fe(Se(),1)});function q9(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.scaffolding),t)return Jp.default.isArray(t)||(t=[t]),{...i,...t.reduce((r,n)=>(n.page_type!=="page"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Ft.Published,r[n.id]=n),r),{})};break;case Pe.DELETE_CONTENT:if(i[e.payload.id]){let r={...i};return delete r[e.payload.id],r}break;case Pe.UPDATE_PAGE:return{...i,[e.meta.id]:Jp.default.merge({},Jp.default.cloneDeep(i[e.meta.id]),e.payload)}}return i}var Jp,qv,JI,QI=B(()=>{zt();ri();Ot();Jp=fe(Se(),1);Ne();qv={byId:q9},JI=Rn(qv)});function B9(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.scaffolding),t)return{...i,...t.reduce((r,n)=>(n.page_type!=="set"||(n={...n},delete n.index,delete n.sort,delete n.set_id,delete n.is_homepage,n.purl&&(n.purl=n.purl.toLowerCase()),n.crdt_state=Ft.Published,r[n.id]=n),r),{})};break}return i}var Bv,eA,tA=B(()=>{zt();ri();Ot();Bv={byId:B9},eA=Rn(Bv)});function W9(i=rA,e){switch(e.type){case Pe.RESET_COMMERCE_CART:try{localStorage.removeItem("cargo-commerce-cart")}catch(n){console.error("Unable to store cart",n)}return{};case Pe.ADD_COMMERCE_PRODUCT_TO_CART:let t=e.payload,r;t.quantity===null?(r={...i},delete r[t.variant_id]):(i[t.variant_id]&&(t={...i[t.variant_id],quantity:Math.max(0,(i[t.variant_id].quantity||0)+t.quantity)}),r={...i,[t.variant_id]:t});try{e.meta?.is_template!==!0&&localStorage.setItem("cargo-commerce-cart",JSON.stringify(r))}catch(n){console.error("Unable to store cart",n)}return r}return i}function $9(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_COMMERCE_PRODUCTS_FULFILLED:let t=e.meta?.options||{},r=(e.payload.data?.data||[]).reduce((s,l,u)=>{let c=i[l?.product_id];return t.onlyNew&&c?(t.idArray===null&&c.sort_index===void 0&&(c.sort_index=u),s):(t.idArray===null&&(l.sort_index=u),iA(l),{...s,[l.product_id]:l})},{});return{...i,...r};case Pe.COMMERCE_PRODUCT_UPDATED:return iA(e.payload),{...i,[e.payload.product_id]:e.payload};break;case Pe.COMMERCE_PRODUCT_DESTROYED:let n={...i};return delete n[e.payload.product_id],n;break}return i}function V9(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...i,...e.payload.data};case Pe.SHOP_MODEL_UPDATED:return{...i,...e.payload}}return i}var fs,rA,iA,Wv,nA,oA=B(()=>{fs=fe(Se(),1);ri();zt();Ne();rA={};if(!se)try{rA=JSON.parse(localStorage.getItem("cargo-commerce-cart"))||{},window.__PRELOADED_STATE__&&window.__PRELOADED_STATE__.commerce&&window.__PRELOADED_STATE__.commerce.cart&&delete window.__PRELOADED_STATE__.commerce.cart}catch{}iA=i=>{i.name&&(i.name=fs.default.unescape(i.name)),i.variants?.forEach(e=>{fs.default.each(e.attributes,(t,r)=>{let n=fs.default.unescape(t);delete e.attributes[r],e.attributes[fs.default.unescape(r)]=n})}),fs.default.each(i.attributes,(e,t)=>{let r=e.map(n=>fs.default.unescape(n));delete i.attributes[t],i.attributes[fs.default.unescape(t)]=r})};Wv={products:$9,cart:W9,shop:V9},nA=Rn(Wv)});function aA(i=j9,e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_MEDIA_FULFILLED:let t=e.payload.data;if(t)return{...i,data:sA.default.uniqBy([...i.data,...t],"id")};break}return i}var sA,j9,lA=B(()=>{zt();Ot();sA=fe(Se(),1),j9={data:[],crdt_state:Ft.Published}});function uA(i={},e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SITE_CSS_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.css),t)return{...i,...t,crdt_state:Ft.Published};break}return i}var LY,cA=B(()=>{zt();Ot();LY=fe(Se(),1)});function $v(i=G9,e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SCAFFOLDING_FULFILLED:case Pe.FETCH_ADMIN_LIST_FULFILLED:case Pe.FETCH_CONTENT_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.scaffolding),t){let r={...i},n={};return(0,ms.each)(t,function(s){s.page_type==="set"&&(n.hasOwnProperty(s.id)||(n[s.id]=[])),s.id!=="root"&&s.hasOwnProperty("set_id")&&(n.hasOwnProperty(s.set_id)||(n[s.set_id]=[]),n[s.set_id].push(s.id))}),r.byParent=(0,ms.mergeWith)({},i.byParent,n,(s,l)=>{if((0,ms.isArray)(s))return(0,ms.uniq)(s.concat(l))}),r.bySort={...i.bySort,...t.reduce((s,l)=>(l.id!=="root"&&l.hasOwnProperty("sort")&&(s[l.id]=l.sort),s),{})},r.indexById={...i.indexById,...t.reduce((s,l)=>(l.id!=="root"&&l.hasOwnProperty("index")&&(s[l.id]=l.index),s),{})},r}break}return i}var ms,G9,dA=B(()=>{zt();ms=fe(Se(),1);Ot();G9={byParent:{root:[]},bySort:{},indexById:{},liveIndexes:{},crdt_state:Ft.Published}});function K9(i=Y9,e){switch(e.type){case Pe.AUTHENTICATE_USER_PENDING:return{...i,authenticating:!0};case Pe.AUTHENTICATE_USER_FULFILLED:if(e.payload?.data?.access_token){if(!se)try{localStorage.setItem("c3-auth",JSON.stringify(e.payload.data))}catch(t){console.error(t)}return{...i,authenticating:!1,authenticated:!0,data:e.payload.data}}else{if(!se)try{localStorage.removeItem("c3-auth")}catch(t){console.error(t)}return{...i,authenticating:!1,authenticated:!1}}case Pe.AUTHENTICATE_USER_REJECTED:if(!se)try{localStorage.removeItem("c3-auth")}catch(t){console.error(t)}return{...i,authenticating:!1,authenticated:!1}}return i}var BY,Y9,pA,hA=B(()=>{BY=fe(Se(),1);Ne();zt();Y9={authenticating:!1,authenticated:!1};pA=K9});function Z9(i=X9,e){if(!e.payload)return i;switch(e.type){case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:case Pe.FETCH_SITE_PACKAGE_FULFILLED:let t=e.payload.data;if(e.type===Pe.FETCH_SITE_PACKAGE_FULFILLED&&(t=t.design),t)return Vv.default.merge(Vv.default.cloneDeep(i),t.site_design);break}return i}var Vv,X9,fA,mA=B(()=>{zt();Vv=fe(Se(),1);Ot();X9={images:{},quick_view:{},site:{enableColorFilter:!1},cart:{theme:"light"},contact_form:{theme:"light"},crdt_state:Ft.Published};fA=Z9});function vA(i=gA,e){if(!e.payload)return i;let t;switch(e.type){case Pe.UPDATE_FRONTEND_STATE:return jv.default.mergeWith({},gA,i,e.payload,(r,n,s,l,u)=>{n===void 0&&u.hasOwnProperty(s)&&delete l[s]});case Pe.FETCH_SITE_PACKAGE_FULFILLED:return{...i,hasSiteModel:!0,hasScaffolding:!0,hasSiteDesign:!0,hasSiteCSS:!0,hasSitePackage:!0};case Pe.FETCH_SCAFFOLDING_FULFILLED:return{...i,hasScaffolding:!0};case Pe.FETCH_SITE_MODEL_FULFILLED:return{...i,hasSiteModel:!0};case Pe.FETCH_SHOP_MODEL_FULFILLED:return{...i,hasShopModel:!0};case Pe.FETCH_SITE_CSS_FULFILLED:return{...i,hasSiteCSS:!0};case Pe.FETCH_SITEDESIGN_MODEL_FULFILLED:return{...i,hasSiteDesign:!0};case Pe.PAGES_MOUNTED:return t=[...i.renderedPages,...e.payload.pages],{...i,renderedPages:t};case Pe.PAGES_UNMOUNTED:return{...i,renderedPages:jv.default.difference(i.renderedPages,e.payload.pages)};case Pe.FETCH_CONTENT_REJECTED:return{...i,networkErrors:[...i.networkErrors,{...e.payload.config?.contentIdentifier,code:e.payload.response?.status}]}}return i}var jv,J9,gA,bA=B(()=>{zt();Ne();Ne();jv=fe(Se(),1),J9=FS(),gA={hasSiteModel:!1,hasScaffolding:!1,hasSiteDesign:!1,hasSiteCSS:!1,hasShopModel:!1,hasSitePackage:!1,quickView:{mode:"default",inited:!1,autoScrolling:!1,elementArray:!1,activeIndex:0,startingIndex:0},contactForm:{transition:!1,inited:!1},adminMode:Gi,inAdminFrame:Gi,renderedPages:[],networkErrors:[],fontsLoaded:[],deviceType:J9}});var Yv={};ii(Yv,{default:()=>Gv,rawReducers:()=>Q9});var Gv,Q9,Kv=B(()=>{ZI();QI();tA();oA();lA();cA();dA();hA();mA();bA();zt();Gv={structure:$v,site:XI,pages:JI,sets:eA,media:aA,css:uA,auth:pA,siteDesign:fA,frontendState:vA,commerce:nA},Q9={pages:qv,sets:Bv,commerce:Wv}});var yA,pK,wA,xA=B(()=>{yA=fe(uv(),1);ri();fC();pK=fe(BI(),1);zt();KI();Mv();Kv();Ne();wA=()=>{let i=[],e=(0,yA.createDynamicMiddlewares)(),t=[hC,Uv,Rv(),e.enhancer],r=Up(lv(...t),...i),n=se?{}:window.__PRELOADED_STATE__||{},s=ac(Rn(Gv),n,r);return se||(window.store=s,delete window.__PRELOADED_STATE__),{store:s}}});function m(i,e,t,r,n,s){var l,u,c={};for(u in e)u=="ref"?l=e[u]:c[u]=e[u];var d={type:i,props:c,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--eB,__source:n,__self:s};if(typeof i=="function"&&(l=i.defaultProps))for(u in l)c[u]===void 0&&(c[u]=l[u]);return Te.vnode&&Te.vnode(d),d}var eB,te=B(()=>{Ce();Ce();eB=0});var SA=B(()=>{Ce();te()});var _A=B(()=>{});var Ho,Qp=B(()=>{We();_A();te();Ho=({customStyle:i,className:e})=>m("div",{style:i,className:`caution-processing${e?" "+e:""}`})});var CA=B(()=>{});var EA,PA,Xv,IA,AA=B(()=>{We();ht();ri();pa();Qp();CA();te();EA=0,PA=null;typeof window<"u"&&window.__ACCESS_TOKEN_NONCE__&&(PA=window.__ACCESS_TOKEN_NONCE__,delete window.__ACCESS_TOKEN_NONCE__);Xv=class extends oe{constructor(e){super(e),this.state={error:null,loading:!1,checkingCookieAuth:!0,formView:e.canCreateNewAccount?"newAcct":"login",resetEmail:null,prevFormState:null},this.containerRef=Be.createRef();let t=new URLSearchParams(window.location.search),r=t.get("t");if(t.has("t")){t.delete("t");let n=t.toString();n.length>0&&(n="?"+n),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+n)}if(this.props.loginToUdotCargoOnly){this.state.checkingCookieAuth=!1;return}if(EA>=1){this.state.checkingCookieAuth=!1;return}if(r==="")this.state.checkingCookieAuth=!1;else{let n=!1;this.props.domain_active&&r===null&&(n=!0);let s={timeout:3e3,jwt:r,bounce:n,nonce:PA};this.props.site_url&&(s.site_url=this.props.site_url),this.props.site_id&&(s.site_id=this.props.site_id),this.props.getAuthToken(s).catch(l=>{console.log("Failed to fetch auth token.")}).finally(()=>{EA++,!n&&requestAnimationFrame(()=>{this.props.onCookieAuthComplete?.(),this.setState({checkingCookieAuth:!1})})})}}render(){return this.state.checkingCookieAuth||this.props.cookieAuthOnly?null:m("div",{id:"login",className:`login-window${this.props.noOverlay===!0?" not-overlaid":""}`,ref:this.containerRef,onMouseUp:e=>{if(this.props.canClickout&&!e.target.closest(".login-modal")){let t=new CustomEvent("remove-login-form");document.dispatchEvent(t),this.props.onClickout&&!this.state.loading&&this.props.onClickout()}},children:m("div",{className:"login-modal custom login-frame",children:[m("div",{className:"login-header",children:[m("div",{className:"logo-box",children:m("div",{className:"logo",children:m("svg",{width:"12",height:"20",viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.521458 11.5988H4.49769C4.90909 11.5988 5.2426 11.9403 5.2426 12.3615C5.2426 12.4348 5.23229 12.5076 5.212 12.5779L3.26311 19.3227C3.21643 19.4842 3.3065 19.6539 3.46431 19.7017C3.58148 19.7372 3.70795 19.6959 3.78333 19.5974L11.8889 9.01082C12.0666 8.77877 12.0269 8.44319 11.8002 8.26129C11.7084 8.18761 11.5952 8.14758 11.4785 8.14758H7.64746C7.23606 8.14758 6.90255 7.80611 6.90255 7.3849C6.90255 7.31158 6.91287 7.23865 6.9332 7.16835L8.89307 0.391703C8.93979 0.23015 8.84976 0.0604064 8.69197 0.0125694C8.57559 -0.0227134 8.44994 0.0178057 8.37431 0.115005L0.113608 10.7323C-0.065826 10.9629 -0.0286851 11.2988 0.196564 11.4825C0.288885 11.5578 0.403425 11.5988 0.521458 11.5988Z",fill:"var(--ui-color-flat-reverse)"})})})}),m("div",{className:"title",children:this.state.formView==="newAcct"?"Login or Sign Up":this.state.formView==="login"?"Login":"Reset Password"})]}),this.state.loading&&"",this.state.formView==="newAcct"?m("form",{children:[m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let t=new FormData(this.containerRef.current.querySelector("form"));this.validateLogin(t)&&this.login(t)},children:[this.state.loading&&m(Ho,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"newAcct"})},children:"Forgot?"})]})]}):null,this.state.formView==="login"?m("form",{children:[m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",placeholder:"Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let t=new FormData(this.containerRef.current.querySelector("form"));this.login(t)},children:[this.state.loading&&m(Ho,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"forgot",error:null,prevFormState:"login"})},children:"Forgot?"})]})]}):null,this.state.formView==="forgot"?m(Q,{children:m("form",{children:[m("div",{className:"enter-email",children:"Enter an email address associated with your Cargo Account:"}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{autoFocus:!0,type:"text",name:"email",placeholder:"Email Address...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({error:null,loading:!0});let t=new FormData(this.containerRef.current.querySelector("form"));this.forgot(t)},children:[this.state.loading&&m(Ho,{className:"accent default-border-radius"}),"Submit"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:this.state.prevFormState?this.state.prevFormState:"login",error:null})},children:"Cancel"})]})]})}):null,this.state.formView==="reset"?m(Q,{children:m("form",{children:[m("div",{className:"enter-email",children:[this.state.resetEmail?m(Q,{children:["We\u2019ve sent a reset code to ",m("br",{}),this.state.resetEmail]}):m(Q,{children:"We\u2019ve sent a reset code to the email associated with your Cargo Account:"})," 							"]}),m("div",{className:"input-fields",children:[m("div",{className:"text-input bars",children:m("input",{type:"text",name:"pwreset",placeholder:"Enter Reset Code",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password",autocomplete:"new-password",placeholder:"Enter a new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),m("div",{className:"text-input bars",children:m("input",{type:"password",name:"password_reset_confirm",autocomplete:"new-password",placeholder:"Confirm new Password...",onKeyDown:()=>{this.state.error!==null&&this.setState({error:null})}})}),this.state.error&&m("div",{className:"error",style:{color:"red"},children:[m("span",{className:"emoji",children:"\u26A0\uFE0F"}),"\xA0",this.state.error]})]}),m("div",{className:"login-options",children:[m("button",{className:"login",type:"submit",style:{display:"inline-block"},onClick:e=>{e.preventDefault();let t=new FormData(this.containerRef.current.querySelector("form")),r=this.validateForm(t);r&&(this.setState({error:null,loading:!0}),this.forgot(t)),r||this.setState({loading:!1})},children:[this.state.loading&&m(Ho,{className:"accent default-border-radius"}),"OK"]}),m("button",{className:"forgot",style:{display:"inline-block"},onClick:e=>{e.preventDefault(),this.setState({formView:"login",error:null})},children:"Cancel"})]})]})}):null]})})}login=e=>{let r=this.state.formView==="newAcct"?"/dispatch/admin/loginCreate":"/dispatch/admin/login";if(e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),this.props.templateID&&e.append("site_id",this.props.templateID),!this.props.site_url&&!this.props.templateID&&this.state.formView==="newAcct"){let n=window.store.getState(),s=da==="https://cargo.site"?1597765:1123779;if(n){let l=n.templates.sites;if(l.length>0){let u=l.length-1,c=Math.floor(Math.random()*u),d=l[c];d&&(s=d?.id?d.id:s)}}e.append("site_id",s)}fetch(da+r,{method:"post",body:e,credentials:"include"}).then(async n=>{let s=await n.json(),{access_token:l,id:u,bounce_jwt:c}=s.jdata||{};l&&u?(this.props.loginToUdotCargoOnly!==!0&&this.props.setAuthData(l,u),this.props.domain_active&&c?this.props.getAuthToken({reverse_bounce_jwt:c}).then(()=>{this.props.onLoginSuccess?.(s.jdata)}):this.props.onLoginSuccess?.(s.jdata)):this.setState({error:s?.error||"Something went wrong. Please try again later.",loading:!1})}).catch(n=>{console.log(n),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.props.loadingTillFormRemoval!==!0&&this.setState({loading:!1})})};forgot=e=>{e.append("network","c3"),this.props.site_url&&e.append("site_url",this.props.site_url),fetch(da+"/dispatch/auth/handleResetFormPost",{method:"post",body:e,credentials:"include"}).then(async t=>{let r=await t.json();if(r.error&&r.error?.[0]?.length>0)this.setState({error:r.error[0],loading:!1});else if(this.state.formView==="forgot")this.setState({formView:"reset",resetEmail:e.get("email")});else{let n=new FormData;n.set("email",this.state.resetEmail),n.set("password",e.get("password")),this.login(n)}}).catch(t=>{console.log(t),this.setState({error:"Something went wrong. Please try again later.",loading:!1})}).finally(()=>{this.setState({loading:!1})})};validateLogin(e){let t=null;for(let r of e.entries()){let[n,s]=r;n==="email"&&(s===""||!s)&&(t="Incorrect Username or Password."),n==="password"&&(s===""||!s)&&t===null&&(t="Password cannot be empty.")}return t?(this.setState({error:t,loading:!1}),!1):!0}validateForm(e){var t=e.get("pwreset").trim(),r=e.get("password").trim(),n=e.get("password_reset_confirm").trim();return t==""?(this.setState({error:"Reset code cannot be empty."}),!1):r==""||n==""?(this.setState({error:"Password cannot be empty."}),!1):r!=n?(this.setState({error:"Passwords do not match."}),!1):!0}componentDidMount=()=>{this.animateContainer()};componentDidUpdate=()=>{this.animateContainer()};animateContainer=()=>{this.props.animateIn===!1?setTimeout(()=>{this.containerRef.current&&this.containerRef.current?.classList?.add("active-immediate")}):this.containerRef.current&&!this.containerRef.current.classList.contains("active")&&setTimeout(()=>{this.containerRef?.current&&this.containerRef?.current?.classList.add("active")})}},IA=Oe(i=>({site_url:i.site?.site_url,site_id:i.site?.id,domain_active:i.site?.domain_active}),(i,e)=>Et({getAuthToken:e.getAuthTokenAction,setAuthData:(t,r)=>({type:"AUTHENTICATE_USER_FULFILLED",payload:{data:{access_token:t,id:r}}})},i))(Xv)});var cn,ga=B(()=>{ht();te();cn=i=>e=>m(i,{store:yp(),...e})});function tB(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function nB(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return e.filter(function(r){return r}).join(" ")}var sX,aX,Zv,Jv,Qv,El,iB,rB,RA,eh,lX,MA=B(()=>{Lo();Lo();xp();We();Ep();ia();nl();_p();sX=function(i){Ir(e,i);function e(){for(var r,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return r=i.call.apply(i,[this].concat(s))||this,r.history=Cp(r.props),r}var t=e.prototype;return t.render=function(){return Be.createElement(cs,{history:this.history,children:this.props.children})},e}(Be.Component),aX=function(i){Ir(e,i);function e(){for(var r,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return r=i.call.apply(i,[this].concat(s))||this,r.history=mS(r.props),r}var t=e.prototype;return t.render=function(){return Be.createElement(cs,{history:this.history,children:this.props.children})},e}(Be.Component),Zv=function(e,t){return typeof e=="function"?e(t):e},Jv=function(e,t){return typeof e=="string"?br(e,null,null,t):e},Qv=function(e){return e},El=Be.forwardRef;typeof El>"u"&&(El=Qv);iB=El(function(i,e){var t=i.innerRef,r=i.navigate,n=i.onClick,s=vr(i,["innerRef","navigate","onClick"]),l=s.target,u=Nt({},s,{onClick:function(d){try{n&&n(d)}catch(f){throw d.preventDefault(),f}!d.defaultPrevented&&d.button===0&&(!l||l==="_self")&&!tB(d)&&(d.preventDefault(),r())}});return Qv!==El?u.ref=e||t:u.ref=t,Be.createElement("a",u)}),rB=El(function(i,e){var t=i.component,r=t===void 0?iB:t,n=i.replace,s=i.to,l=i.innerRef,u=vr(i,["component","replace","to","innerRef"]);return Be.createElement(us.Consumer,null,function(c){c||Pn(!1);var d=c.history,f=Jv(Zv(s,c.location),c.location),g=f?d.createHref(f):"",v=Nt({},u,{href:g,navigate:function(){var C=Zv(s,c.location),_=rr(c.location)===rr(Jv(C)),M=n||_?d.replace:d.push;M(C)}});return Qv!==El?v.ref=e||l:v.innerRef=l,Be.createElement(r,v)})}),RA=function(e){return e},eh=Be.forwardRef;typeof eh>"u"&&(eh=RA);lX=eh(function(i,e){var t=i["aria-current"],r=t===void 0?"page":t,n=i.activeClassName,s=n===void 0?"active":n,l=i.activeStyle,u=i.className,c=i.exact,d=i.isActive,f=i.location,g=i.sensitive,v=i.strict,S=i.style,C=i.to,_=i.innerRef,M=vr(i,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return Be.createElement(us.Consumer,null,function(T){T||Pn(!1);var F=f||T.location,H=Jv(Zv(C,F),F),L=H.pathname,z=L&&L.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),ie=z?oa(F.pathname,{path:z,exact:c,sensitive:g,strict:v}):null,X=!!(d?d(ie,F):ie),N=typeof u=="function"?u(X):u,ee=typeof S=="function"?S(X):S;X&&(N=nB(N,s),ee=Nt({},ee,l));var de=Nt({"aria-current":X&&r||null,className:N,style:ee,to:H},M);return RA!==eh?de.ref=e||_:de.innerRef=_,Be.createElement(rB,de)})})});function rh(i,e){if(Object.is(i,e))return!0;if(typeof i!="object"||i===null||typeof e!="object"||e===null)return!1;let t=Object.keys(i),r=Object.keys(e);if(t.length!==r.length)return!1;for(let n=0;n<t.length;n++)if(!hasOwnProperty.call(e,t[n])||!Object.is(i[t[n]],e[t[n]]))return!1;return!0}function Tn(i){if(se)return i;let e,t,r,n=()=>{e={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},t=!1,r=void 0};n();let s=function(){let u=arguments.length-1;if(u===-1)return t===!1&&(r=i.call(this),t=!0),r;let c=e;for(let S=0;S<u;S+=1){let C=arguments[S],_=C===null||typeof C!="object"&&typeof C!="function",M;_?c.primitiveArgs===null?M=c.primitiveArgs=new Map:M=c.primitiveArgs:c.referenceArgs===null?M=c.referenceArgs=new WeakMap:M=c.referenceArgs,M.has(C)===!1?(c={primitiveResults:null,referenceResults:null,primitiveArgs:null,referenceArgs:null},M.set(C,c)):c=M.get(C)}let d,f=arguments[u],g=f===null||typeof f!="object"&&typeof f!="function",v;return g?c.primitiveResults===null?v=c.primitiveResults=new Map:v=c.primitiveResults:c.referenceResults===null?v=c.referenceResults=new WeakMap:v=c.referenceResults,v.has(f)?d=v.get(f):(d=i.apply(this,arguments),v.set(f,d)),d};return s.clear=function(){let u=arguments.length-1;if(u===-1){n();return}let c=e;for(let g=0;g<u;g+=1){let v=arguments[g],C=v===null||typeof v!="object"&&typeof v!="function"?c.primitiveArgs:c.referenceArgs;if(C===null)return;c=C.get(v)}let d=arguments[u];d===null||typeof d!="object"&&typeof d!="function"?(c.primitiveArgs!==null&&c.primitiveArgs.delete(d),c.primitiveResults!==null&&c.primitiveResults.delete(d)):(c.referenceArgs!==null&&c.referenceArgs.delete(d),c.referenceResults!==null&&c.referenceResults.delete(d))},s}var gs,Il,oB,Pl,sB,th,kA,NA,ih,TA,DA,Al,Rr=B(()=>{gs=fe(Se(),1);Si();Ne();Ce();Il=(i={},e)=>{let t={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:i.hasOwnProperty("t")&&i.t=="webgl"};i=gs.default.extend(t,i),i.t==="original"&&(i.retina=!1),i.retina===!0&&!i.webgl&&(i.q==null&&(i.q=75),i.hasOwnProperty("w")&&(i.w=Math.min(i.w*2,e.width)),i.hasOwnProperty("h")&&(i.h=Math.min(i.h*2,e.height))),i.w&&i.w>e.width&&(i.w=e.width),i.h&&i.h>e.height&&(i.h=e.height);var r=oB(i.w,i.h,e);i.w=r.w,i.h=r.h;var n=["t","w","h","q","c"],s=[];return gs.default.each(i,function(l,u){n.indexOf(u)===-1||l===""||(u==="c"?s.push("c/"+l.x+"/"+l.y+"/"+l.w+"/"+l.h):s.push(u+"/"+l))},void 0),e.hash!==void 0&&e.name!==void 0&&r.w>0?i.url="https://freight.cargo.site/"+s.join("/")+"/i/"+e.hash+"/"+e.name:i.url="",i},oB=(i,e,t)=>{let r=i,n=e,s=parseInt(t.width),l=parseInt(t.height);if(s==l)r=i||e||s,n=r;else if(i&&!e){let u=s/i;n=Math.floor(l/u),r=i}else if(e&&!i){let u=l/e;r=Math.floor(s/u),n=e}else{let u=Math.min(l/e,s/i);r=Math.floor(s/u),n=Math.floor(l/u)}return{w:r,h:n}};Pl=(i,e,t,r,n=0,s={})=>{s.shared=s.shared||{};let l=(i.byParent[r.id]||[]).reduce((u,c)=>(u[i.indexById[c]]=c,u),{});for(;n>=0&&n<r.page_count&&s.shared.hasBreak!==!0;){let u=l[n],c=u&&(e.byId[u]||t.byId[u]);if(!(c?.page_type==="set"&&s.includeSets!==!0)&&s.callback?.(r.id,n,c)==="break"){s.shared.hasBreak=!0;break}c?.page_type==="set"&&Pl(i,e,t,c,s.reverse===!0?c.page_count-1:0,{...s,traverseUp:!1}),s.reverse===!0?n--:n++}if(s.traverseUp!==!1&&(s.reverse===!0&&n<0||s.reverse===!1&&n>r.page_count-1)){let u=t.byId[gs.default.findKey(i.byParent,d=>d.includes(r.id))],c=i.indexById[r.id];u&&c!==void 0&&Pl(i,e,t,u,c+(s.reverse===!0?-1:1),s)}};sB=Te.debounceRendering,th=null,kA=()=>{Te.debounceRendering=i=>{th=i}},NA=i=>{th&&!i&&th(),th=null,Te.debounceRendering=sB},ih=new WeakMap,TA=Te.diffed;Te.diffed=i=>{ih.has(i)&&ih.get(i)(i.__e),TA&&TA(i)};DA=(i,e)=>(ih.set(i,e),()=>{ih.delete(i)}),Al=(i,e)=>{if(!i)return null;let t="",r=(s,l)=>{let u=l.style?.getPropertyValue(s);return u!==""&&u!==void 0?u:null},n=[];return gs.default.each(i.rules,s=>{let l=s.selectorText,u={},c=!1,d=!1,f=!1;s.cssText&&s.cssText.includes("--text-style")&&(d=!0,n.push(l+" a"),n.push(l+" a:hover")),s.cssText&&gs.default.each(n,S=>{s.cssText.includes(S)&&(d=!0)}),s?.selectorText?.includes(".mobile")&&(f=!0),gs.default.each(e,S=>{let C=!1;Array.isArray(S.denyList)&&S.denyList.forEach(M=>{M.includes("match:")&&l?.match(M.replace("match:",""))&&(C=!0),l&&l===M&&(C=!0)});let _=!1;Array.isArray(S.allowList)?S.allowList.forEach(M=>{M.includes("match:")&&l?.match(M.replace("match:",""))&&(_=!0),l&&l===M&&(_=!0)}):_=!0,(d||f)&&(C=!0),!(C===!0||_===!1)&&(u=S.properties.reduce((M,T)=>(T&&(M[T]=r(T,s)),M),u))});let g=".mobile "+l,v=Array.from(i.rules).find(S=>S.selectorText===g);v&&Object.keys(u).forEach(S=>{r(S,v)&&(u[S]=null)}),!(Object.values(u).every(S=>S===null)||Object.values(u).length===0)&&(t+=g+" { ",gs.default.each(u,(S,C)=>{if(S){let _=S.split(" ").reduce((M,T,F)=>M+` calc(${T} * var(--mobile-padding-offset))`,"");t+=`${C}: ${_};`}}),t+=" } ")}),t}});function cB(i,e){let t=uB(i.pages.byId,Rl),r=lB(t),n=aB(t);return{renderedPages:t,renderedPins:r,nestingMap:n,sortMap:i.structure.bySort,adminMode:i.frontendState.adminMode}}var ci,va,tb,Rl,eb,aB,lB,uB,OA,yc=B(()=>{Ce();We();Si();ci=fe(Se(),1);ht();Rr();te();va=Gn(),tb=()=>{},Rl=[],eb=class extends xi{constructor(e){super(e),this.state={adjustPairs:[],levelData:{},pageHeights:{},renderedPins:[],renderedPages:[],nestingMap:{},onPageMount:t=>{Rl=[...Rl,t]},onPageUnmount:t=>{Rl=Rl.filter(r=>r!==t)}},tb=this.updateHeights}updateHeights=e=>{this.setState(t=>({pageHeights:{...t.pageHeights,...e}}))};getTallestOfAdjusterCandidates=e=>{let t=null,r=[];ci.default.each(e,s=>{r.push({pageID:s.id,pageName:s.title,pageHeight:this.getHeightById(s.id)})});let n=ci.default.maxBy(r,s=>s.pageHeight);return n!==void 0?ci.default.filter(e,s=>s.id===n.pageID)[0]:!1};componentDidUpdate=(e,t)=>{this.makePinAdjustments(e,t)};findTallestOverlayAdjusterPageInLevel=(e,t)=>{let r=e.filter(n=>n.pin_options?.overlay===!0&&n.pin_options.adjust===!0);return r.length>0?this.getTallestOfAdjusterCandidates(r):null};getAdjustOnlyPageHeights=(e,t)=>{let r=ci.default.filter(this.props.nestingMap[t][e],s=>s.pin_options?.adjust&&!s.pin_options?.overlay),n=0;return ci.default.each(r,s=>{n+=this.getHeightById(s.id)}),n};getAdjustOnlyPinsByLevel=(e,t)=>ci.default.filter(this.props.nestingMap[t][e],r=>!r?.pin_options?.overlay);getOverlayPinsByLevel=(e,t)=>ci.default.filter(this.props.nestingMap[t][e],r=>r?.pin_options?.overlay);getClosestPageByProximity=(e,t)=>e.sort((r,n)=>t==="top"?this.props.sortMap[r.id]-this.props.sortMap[n.id]:this.props.sortMap[n.id]-this.props.sortMap[r.id])[0];getPagesToAdjust=(e,t)=>{let r=[],n=null,s=this.getAdjustOnlyPinsByLevel(e,t);if(s.length>0?r.push(this.getClosestPageByProximity(s,e)):ci.default.each(this.props.nestingMap,(l,u)=>{if(parseInt(u)>t&&l[e].length>0){let c=l[e].filter(f=>f.pin_options?.overlay===!0),d=l[e].filter(f=>f.pin_options?.overlay===!1);if(r=c.length>0?c:[],r.length===0&&d?.length>0&&r.push(this.getClosestPageByProximity(d,e)),n=u,r.length>0)return!1}}),r[0]===void 0){let l=this.props.renderedPages.filter(c=>c.pin===!1).sort((c,d)=>this.props.sortMap[c.id]-this.props.sortMap[d.id]),u=e==="top"?0:l.length-1;l.length>0&&r.push(l[u])}return{adjustedPages:r,adjustedLevel:n}};getHeightById=e=>this.state.pageHeights[e]??Rl.find(t=>t.id===e)?.getBoundingClientRect().height;makePinAdjustments=(e,t)=>{if(!this.props.renderedPages||this.props.renderedPages.length===0||ci.default.isEqual(this.props.renderedPins,e.renderedPins)&&ci.default.isEqual(this.state.pageHeights,t.pageHeights)&&ci.default.isEqual(this.props.renderedPages,e.renderedPages))return;let r=[],n={levels:{},locations:{top:{totalHeight:0},bottom:{totalHeight:0}}};ci.default.each(this.props.nestingMap,(s,l)=>{let u={};l=parseInt(l),u.level=l,ci.default.each(s,(c,d)=>{if(d==="center")return;u[d]={adjustsSelf:!1,totalHeight:0,startingHeight:null,adjusterId:null,adjusterHeight:null,adjustedLevel:null,adjusteeIDs:null,hasOverlayPins:null};let f=u[d];f.hasOverlayPins=this.getOverlayPinsByLevel(d,l).length>0;let g=this.findTallestOverlayAdjusterPageInLevel(c,d);if(g){f.adjusterId=g.id,f.adjusterHeight=this.getHeightById(g.id),f.adjustsSelf=this.getAdjustOnlyPinsByLevel(d,l).length>0;let _=this.getPagesToAdjust(d,l).adjustedPages;_?.length>0&&(f.adjustedLevel=this.props.renderedPins[_[0].id]?.depth??"content",f.adjusteeIDs=ci.default.map(_,"id"),r[g.id]={adjusts:ci.default.map(_,"id"),location:d,adjustedHeight:this.getHeightById(g.id)})}let v=0,S=g?this.getHeightById(g.id):0,C=!0;f.totalHeight=(C?S:0)+this.getAdjustOnlyPageHeights(d,l),ci.default.each(n.levels,function(_,M){M<l&&(v+=_[d].totalHeight)}),f.startingHeight=v===0?null:v}),n.levels[l]=u}),(!ci.default.isEqual(t.adjustPairs,r)||!ci.default.isEqual(t.renderedPins,this.props.renderedPins)||!ci.default.isEqual(t.levelData,n))&&this.setState({adjustPairs:r,renderedPins:this.props.renderedPins,levelData:n})};getAdjustingLevelHeight=(e,t,r)=>{let n=null;return ci.default.each(e.levels,s=>{s[r].adjustedLevel===t&&(n=s[r].totalHeight)}),n};render(){return m(va.Provider,{value:this.state,children:this.props.children||null})}},aB=Tn(i=>{let e=store.getState();return i.reduceRight((t,r)=>{let n=it.getParentSetList(e,r.id).length-1;r.pin===!0&&r.pin_options.fixed===!0&&(n=0),t[n]||(t[n]={top:[],bottom:[],center:[]});let s=t[n],l=r.pin?r.pin_options.position:"center",u=s[l];return u.push(r),u.sort((c,d)=>e.structure.bySort[c.id]-e.structure.bySort[d.id]),t},{})}),lB=Tn(i=>{let e=store.getState(),t=i.map(r=>({depth:it.getParentSetList(e,r.id).length-1,pageListSort:e.structure.bySort[r.id],id:r.id,fixed:r.pin_options?.fixed&&r.pin_options?.fixed===!0})).sort((r,n)=>r.pageListSort-n.pageListSort).sort((r,n)=>{if(r.fixed||n.fixed)return r.depth-n.depth});return i.reduceRight((r,n,s)=>{if(n.pin===!0&&ci.default.isPlainObject(n.pin_options)){let l=it.getParentSetList(e,n.id).length-1;r[n.id]={depth:n.pin_options.fixed?0:it.getParentSetList(e,n.id).length-1,originalDepth:l,location:n.pin_options?.position,type:n.pin_options.fixed?"fixed":n.pin_options.overlay?"overlay":"adjust",adjusts:n.pin_options?.adjust,sort:e.structure.bySort[n.id],pinSort:t.findIndex(u=>u.id===n.id)+1}}return r},{})}),uB=Tn((i,e)=>e.map(t=>i[t.id]).filter(t=>t!==void 0&&t.overlay!==!0));OA=Oe(cB)(eb)});function Ht(i){class e extends oe{constructor(r){super(r)}render(r){return m(i,{...this.props,pageInfo:this.context})}}return e.contextType=LA,e}var nh,LA,ib,oh,Ni=B(()=>{Ce();ht();te();nh=new Map,LA=Gn({isEditing:!1,pid:null,filterIndexes:[],setPageData:()=>!1,getPageData:()=>!1},"PageInfoContext"),ib=class extends oe{constructor(e){super(e)}setPageData=(e={},t)=>{if(!this.props.pageRef.current)return;let n=Array.from(this.props.pageRef.current.querySelectorAll(t.tagName)).indexOf(t);if(n!==-1){let s=nh.get(this.props.value.pid+"-"+t.tagName+"-"+n);s?s={...s,...e}:s=e,nh.set(this.props.value.pid+"-"+t.tagName+"-"+n,s)}};getPageData=e=>{if(!this.props.pageRef.current)return null;let r=Array.from(this.props.pageRef.current.querySelectorAll(e.tagName)).indexOf(e);return r!==-1?nh.get(this.props.value.pid+"-"+e.tagName+"-"+r)||{}:{}};getContextObject=()=>(this.props.value!==this.lastProps?.value&&(this.currentContextValue={...this.props.value,setPageData:this.setPageData,getPageData:this.getPageData}),this.lastProps=this.props,this.currentContextValue);render(e){return m(LA.Provider,{value:this.getContextObject(),children:e.children})}componentDidUpdate(e){e.adminMode!==this.props.adminMode&&nh.clear()}};oh=Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(ib)});var sh,FA,zA=B(()=>{sh=()=>new Map,FA=(i,e,t)=>{let r=i.get(e);return r===void 0&&i.set(e,r=t()),r}});var HA,UA=B(()=>{HA=()=>new Set});var qA,AX,BA=B(()=>{qA=Array.from,AX=Array.isArray});var ah,WA=B(()=>{zA();UA();BA();ah=class{constructor(){this._observers=sh()}on(e,t){FA(this._observers,e,HA).add(t)}once(e,t){let r=(...n)=>{this.off(e,r),t(...n)};this.on(e,r)}off(e,t){let r=this._observers.get(e);r!==void 0&&(r.delete(t),r.size===0&&this._observers.delete(e))}emit(e,t){return qA((this._observers.get(e)||sh()).values()).forEach(r=>r(...t))}destroy(){this._observers=sh()}}});var VA,Ml,$A,rb,Ze,Ci=B(()=>{VA=fe(Se(),1);WA();Ne();rb=class extends ah{constructor(){super(),this.data={baseUnit:-1,mobile:{portrait:!0,active:!1,chrome:0,maxHeight:720},window:{w:1280,h:720}},se||(this.SvhSupported=CSS.supports("height","100svh"),this.SvhSupported&&(this.minHeightMeasuringStick=document.createElement("div"),this.minHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100svh;"),this.minHeightMeasuringStick.setAttribute("tabindex",-1),this.minHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.minHeightMeasuringStick)),this.maxHeightMeasuringStick=document.createElement("div"),this.maxHeightMeasuringStick.setAttribute("style","position: fixed; top: 0;left: 0;z-index: -99; visibility: hidden; height: 100vh;"),this.maxHeightMeasuringStick.setAttribute("tabindex",-1),this.maxHeightMeasuringStick.setAttribute("aria-hidden",!0),document.body.appendChild(this.maxHeightMeasuringStick),this.mobilePortraitMediaQuery=window.matchMedia("(max-aspect-ratio: 4/5)"),this.mobileLandscapeMediaQuery=window.matchMedia("(min-aspect-ratio: 2/3) and (max-height: 500px)"),this.setupMobileListener(),this.onWindowResize(),window._windowInfo=this,window.addEventListener("resize",this.onWindowResize,{passive:!0}))}setupStore(e){e.subscribe(()=>{let t=e.getState();t.frontendState&&t.frontendState.adminMode!==$A&&(setTimeout(()=>{this.onWindowResize()},150),$A=t.frontendState.adminMode),t.adminState&&t.adminState.viewport!==Ml&&(Ml=t.adminState.viewport,this.onMobileChange())})}setupMobileListener(){this.mobilePortraitMediaQuery.removeEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.removeEventListener("change",this.onMobileChange),this.onMobileChange(),this.mobilePortraitMediaQuery.addEventListener("change",this.onMobileChange),this.mobileLandscapeMediaQuery.addEventListener("change",this.onMobileChange)}onMobileChange=()=>{let e;Ml?e=Ml==="mobile":e=this.mobilePortraitMediaQuery.matches||this.mobileLandscapeMediaQuery.matches;let t=this.mobilePortraitMediaQuery.matches||Ml&&Ml==="mobile"||!1;(e!==this.data.mobile.active||e&&t!==this.data.mobile.portrait)&&(this.data.mobile.active=e,this.data.mobile.portrait=t,this.onWindowResize(),this.emit("mobile-change",[e]))};getBaseUnit(e){e=e||{};var t=0;return e=VA.default.extend(!0,{height:this.data.window.h,width:this.data.window.w,min:11,max:!1,weight:5},e),t=e.width<e.height?e.width:e.height,t/=100/e.weight,e.min&&t<e.min&&(t=e.min),e.max&&t>e.max&&(t=e.max),t}onWindowResize=()=>{let{data:e}=this,t=document.documentElement.clientWidth,r=window.innerHeight,n=0,s=0,l=this.maxHeightMeasuringStick.getBoundingClientRect().height;if(this.SvhSupported)s=this.minHeightMeasuringStick.getBoundingClientRect().height;else{let g=100;s=0;let v;for(;;){let S=window.matchMedia.call(window,"(min-height:"+s+"px)").matches;if(v!==void 0&&S!==v&&(g/=2,g*=-1),s+=g,v=S,Math.abs(g)<.01){s=Math.round(s);break}}}n=l-s;let u=0,c=5,d=0,f=9;s+n>t&&(u=(s+n)/t-1),u=u/.777777778,u>1&&(u=1),e.mobile.active&&!e.mobile.portrait&&(f=18),d=this.getBaseUnit({weight:f+c*u,min:20,width:t,height:s+n}),d!==e.size&&(document.documentElement.style.setProperty("--base-size",d*.16+"px"),document.documentElement.style.setProperty("--viewport-height",r+"px")),e.window.h=r,e.window.w=t,e.mobile.maxHeight=l,e.mobile.chrome=e.mobile.maxHeight-e.window.h,e.baseUnit=d,this.data=e,this.emit("window-resize",[])}},Ze=new rb});var Xn,jt,di,vi,Gr=B(()=>{Xn=new Map;typeof window<"u"&&(window.listeners=Xn);jt=(i,e,t,r={})=>{let n=i;for(;n&&(Xn.has(n)&&Xn.get(n).has(e)&&Xn.get(n).get(e).forEach(s=>s(t)),r.bubbles!==!1);)n=n.parentNode||n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.host},di=(i,e,t)=>{if(!i){console.error("Unable to subscribe to non-existing element");return}Xn.has(i)||Xn.set(i,new Map);let r=Xn.get(i);r.has(e)||r.set(e,[]);let n=r.get(e);n.includes(t)||n.push(t)},vi=(i,e,t)=>{if(!Xn.has(i))return;let r=Xn.get(i);if(r.has(e)){if(!t){r.delete(e);return}r.set(e,r.get(e).filter(n=>n!==t)),r.get(e).length===0&&r.delete(e),r.size===0&&Xn.delete(i)}}});function Zn(i){class e extends oe{constructor(r){super(r),this.lastScrollUIDRef=ve()}render(){return m(i,{...this.props,scrollContext:this.context})}componentDidMount(){this.context&&this.props.baseNode&&(this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid),this.props.baseNode}refreshScrollContext=r=>{r.element==this.props.baseNode&&this.props.baseNode&&(this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid),setTimeout(()=>{this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid},0))};componentWillUnmount(){this.props.baseNode&&this.context&&this.context.removeElementFromScrollContext(this.props.baseNode,this.context.scrollUid)}componentDidUpdate(r,n){this.props.baseNode!==r.baseNode?(r.baseNode&&this.context.removeElementFromScrollContext(r.baseNode,this.context.scrollUid),this.props.baseNode&&this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid):this.lastScrollUIDRef.current!==this.context.scrollUid&&this.props.baseNode&&(this.lastScrollUIDRef.current&&this.context.removeElementFromScrollContext(this.props.baseNode,this.lastScrollUIDRef.current),this.context.addElementToScrollContext(this.props.baseNode,this.context.scrollUid),this.lastScrollUIDRef.current=this.context.scrollUid)}}return e.contextType=ob,e}function mB(i){return Et({updateFrontendState:Fe.updateFrontendState},i)}var nb,fB,ob,Tl,kl,ba,wc,jA,lh,Nl,Jn=B(()=>{Ce();nb=fe(Se(),1);Ne();zt();Ce();We();ri();ht();Ci();Gr();te();fB={scrollUid:"default",scrollingElement:null,getScrollPosition:()=>({scrollHeight:0,scrollWidth:0,x:0,y:0,w:0,h:0}),scrollIntoView:()=>{},removeElementFromScrollContext:()=>{},addElementToScrollContext:()=>{},updateScrollPosition:()=>{}},ob=Gn(nb.default.cloneDeep(fB)),Tl={},kl={},ba={default:new Set};se||(wc=new ResizeObserver(function(i){i.forEach(function(e){jt(e.target,"elementResize",null,{bubbles:!1})})}));jA=(i,e)=>{i.forEach(function(t){let r="inside";t.boundingClientRect.bottom<0&&!t.isIntersecting?r="above":t.boundingClientRect.top>=0&&!t.isIntersecting&&(r="below"),jt(t.target,e,{hasLayout:t.boundingClientRect.width>0&&t.boundingClientRect.height>0,visible:t.isIntersecting,position:r},{bubbles:!1})})},lh=class extends xi{constructor(e){super(e),this.state={scrollUid:"default",scrollingElement:null,getScrollPosition:this.getScrollPosition,scrollIntoView:this.scrollIntoView,updateScrollPosition:this.updateScrollPosition,addElementToScrollContext:this.addElementToScrollContext,removeElementFromScrollContext:this.removeElementFromScrollContext},this.scrollData={x:0,y:0,w:0,h:0}}addElementToScrollContext=(e,t)=>{if(t=="default")return;let r=e.classList.contains("quick-view-item"),n=e.parentNode?.nodeName==="GALLERY-SLIDESHOW",s=e.parentNode?.nodeName==="MARQUEE-INNER",l=e.hasAttribute("uses")&&e.getAttribute("uses").includes("flying-object");r||n||s||l?(r||l)&&(jt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1}),jt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})):ba[t].has(e)||(ba[t].add(e),kl[t].observe(e),Tl[t].observe(e))};removeElementFromScrollContext=(e,t)=>{kl[t]?.unobserve(e),Tl[t]?.unobserve(e),ba[t]?.delete(e)};updateScrollPosition=e=>{if(se||!this.state.scrollingElement)return;let t=e.x||this.scrollData.x,r=e.y||this.scrollData.y;this.state.scrollingElement===window?document.scrollingElement.scrollTo(t,r):this.state.scrollingElement.scrollTo(t,r)};onScrollRequest=e=>{e.defaultPrevented||(e.stopPropagation(),e.preventDefault(),this.scrollIntoView(e.target,e.detail?.transitionTime,e.detail?.preventQuickViewClose,e.detail?.lazyScroll,e.detail.callback||null,e.detail.verticalAlign))};scrollIntoView=(e,t=1e3,r=!0,n=!1,s=null,l="center")=>{if(!(this.state.scrollingElement===window?document.scrollingElement:this.state.scrollingElement).contains(e)||!e){s&&s();return}let c=e.getBoundingClientRect();for(;c.width===0&&c.height==0&&e;)e=e.parentElement,c=e.getBoundingClientRect();let d=c.left+c.width*.5,f=c.top+c.height*.5;switch(l){case"center":f=c.top+c.height*.5;break;case"bottom":f=c.top+c.height;break;case"top":f=c.top;break}let g=document.documentElement.clientWidth,v=document.documentElement.clientHeight;if(n&&c.bottom>=20&&c.right>=20&&c.top<=v-20&&c.left<=g-20){s&&s();return}let S=this.scrollData.x,C=this.scrollData.y,_=Math.max(0,Math.min(this.scrollData.scrollHeight-v,C-(v*.5-f))),M=Math.max(0,Math.min(this.scrollData.scrollWidth-g,S-(g*.5-d))),T=_-C,F=M-S,H=0,L=0;cancelAnimationFrame(this.scrollAnimationFrame);var z=()=>{cancelAnimationFrame(this.scrollAnimationFrame),this.state.scrollingElement.removeEventListener("mousewheel",z),this.props.updateFrontendState({quickView:{autoScrolling:!1}}),s&&s()};this.state.scrollingElement.addEventListener("mousewheel",z);let ie=X=>{let N=L===0?0:X-L;L=X,H=H+N;let ee=zS(H/t);H<=t?(this.updateScrollPosition({x:S+F*ee,y:C+T*ee}),this.scrollAnimationFrame=requestAnimationFrame(ie)):(this.updateScrollPosition({x:S+F,y:C+T}),z())};this.props.updateFrontendState({quickView:{autoScrolling:r}}),requestAnimationFrame(()=>{requestAnimationFrame(ie)})};render(){return m(ob.Provider,{value:this.props.passthrough?this.context:this.state,children:this.props.children})}componentDidUpdate(e,t,r){se||(this.checkScrollElement(),this.state.scrollingElement!=t.scrollingElement&&this.removeListeners(t))}setNewElement=e=>{let t=nb.default.uniqueId();ba[t]=new Set,e==window?(di(document.scrollingElement,"elementResize",this.onResize),wc.observe(document.scrollingElement),window.addEventListener("scroll",this.onScroll,{passive:!1}),window.addEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(di(e,"elementResize",this.onResize),e.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),wc.observe(e),e.addEventListener("scroll",this.onScroll,{passive:!1})),kl[t]=new IntersectionObserver(r=>jA(r,"viewportIntersectionChange"),{root:e==window?document:e,rootMargin:"0px",threshold:0}),Tl[t]=new IntersectionObserver(r=>jA(r,"lazyLoadIntersectionChange"),{root:e==window?document:e,rootMargin:window.screen.height*1.5+"px "+window.screen.width*1.5+"px",threshold:0}),this.setState({scrollUid:t,scrollingElement:e},()=>{this.onResize()})};removeListeners=e=>{e.scrollingElement&&(e.scrollingElement==window?(window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.onScroll,{passive:!0}),wc.unobserve(document.scrollingElement),window.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1})):(vi(e.scrollingElement,"elementResize",this.onResize),e.scrollingElement.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),e.scrollingElement.removeEventListener("scroll",this.onScroll,{passive:!0}),wc.unobserve(e.scrollingElement)),Object.keys(ba[e.scrollUid]).forEach(t=>{Tl[e.scrollUid].unobserve(t),kl[e.scrollUid].unobserve(t),ba[e.scrollUid].delete(t)})),e.scrollUid!="default"&&(Tl[e.scrollUid].disconnect(),kl[e.scrollUid].disconnect(),delete Tl[e.scrollUid],delete kl[e.scrollUid],delete ba[e.scrollUid])};checkScrollElement=()=>{!se&&this.props.scrollingElement.current&&this.props.scrollingElement.current!=this.state.scrollingElement&&!this.props.passthrough?this.setNewElement(this.props.scrollingElement.current):this.state.scrollingElement!==null&&this.props.passthrough&&this.setState({scrollingElement:null,scrollUid:"default"})};componentDidMount(){se||this.checkScrollElement()}componentWillUnmount(){se||(cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.onScrollFrame),this.removeListeners(this.state))}onResize=e=>{se||!this.state.scrollingElement||(e&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault()),this.state.scrollingElement===window?(this.scrollData.scrollHeight=document.scrollingElement.scrollHeight,this.scrollData.scrollWidth=document.scrollingElement.scrollWidth,this.scrollData.h=document.documentElement.clientHeight,this.scrollData.w=document.documentElement.clientWidth):(this.scrollData.scrollHeight=this.state.scrollingElement.scrollHeight,this.scrollData.scrollWidth=this.state.scrollingElement.scrollWidth,this.scrollData.h=this.state.scrollingElement.clientHeight,this.scrollData.w=this.state.scrollingElement.clientWidth),this.onScroll())};onScroll=()=>{se||!this.state.scrollingElement||this.props.passthrough||(this.state.scrollingElement===window?(this.scrollData.x=window.pageXOffset||document.scrollingElement.scrollLeft||document.documentElement.scrollLeft||0,this.scrollData.y=window.pageYOffset||document.scrollingElement.scrollTop||document.documentElement.scrollTop||0):(this.scrollData.x=this.state.scrollingElement.scrollLeft,this.scrollData.y=this.state.scrollingElement.scrollTop))};getScrollPosition=()=>({...this.scrollData})};lh.contextType=ob;Nl=Oe((i,e)=>({quickView:i.frontendState.quickView}),mB)(lh)});function gB(i,e,t,r){if(se)return;t=t||i.observedAttributes||Object.keys(i.propTypes||{});function n(){let l=Reflect.construct(HTMLElement,[],n);l.__observedAttributes=t,l._editorProperties={},l._vdomComponent=i,l.attachShadow({mode:"open",delegatesFocus:r&&r.delegatesFocus}),l._customSlots=r&&r.customSlots?r.customSlots:[],l._replaceChild=r&&r.replaceChild,l._props={},l._uid=Dl.default.uniqueId(),l._initialMount=!0;let u=c=>{let d=new WeakMap;c.forEach(f=>{switch(f.type){case"childList":l._customElementComponent&&(d.has(l.children)||d.set(l.children,Array.from(l.children)),l._customElementComponent.setState({childArray:d.get(l.children)}));break;case"attributes":let g=f.target.getAttribute(f.attributeName);f.attributeName!=="style"&&f.attributeName!=="class"&&g!==l[f.attributeName]&&(l.__observedAttributes?.indexOf(f.attributeName)>-1?l[f.attributeName]=g:l._customElementComponent&&l._customElementComponent.setState(v=>{let S={...v.baseNodeProps};if(S[f.attributeName]!==g)return S[f.attributeName]=g,{baseNodeProps:S}}),l._props[f.attributeName]=g);break}})};return l.__observer=new MutationObserver(u),l.flushMutationQueue=function(){let c=l.__observer.takeRecords();c.length>0&&u(c)},t.forEach(c=>{let d=Dl.default.camelCase(c),f=function(){return l._customElementComponent?l._customElementComponent.state.baseNodeProps[c]:l._props?.[c]||void 0},g=function(v){let S=v;S=S==null||S===""?void 0:S,S=S==="true"?!0:S,S=S==="false"?!1:S;let C=!1,_=typeof S;if((S==null||_==="string"||_==="boolean"||_==="number")&&(C=!0),l._customElementComponent&&l._customElementComponent.setState(M=>{let T={...M.baseNodeProps};if(T[c]!==S)return T[c]=S,{baseNodeProps:T}}),l._props[c]=S,C){let M=c.toLowerCase();v===""&&l._customElementComponent.props.baseNode.hasAttribute(M)?l.removeAttribute(M):v!==""&&v!==l.getAttribute(M)&&l.setAttribute(M,v)}};Object.defineProperty(l,c,{get:f,set:g,configurable:!0}),Object.defineProperty(l,d,{get:f,set:g,configurable:!0})}),l}n.prototype=Object.create(HTMLElement.prototype),n.prototype.constructor=n,n.prototype.connectedCallback=vB,n.prototype.disconnectedCallback=yB,n.prototype.adoptedCallback=bB;let s=e||i.tagName||i.displayName||i.name;return r?.extends?customElements.get(s)||customElements.define(s,n,{extends:r.extends}):customElements.get(s)||customElements.define(s,n)}function vB(){if(this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component"))return;let i=this.nodeName=="TEXT-ICON";if(this._initialMount){let t=document.createElement("style");t.id="space-filler",i?t.innerHTML=`:host {
				height: 1.2em;
				width: 1.2em;
				contain: layout;
				cursor: text;

				margin-top: -1em;
				margin-bottom: -.25em;
				display: inline-block;
				vertical-align: baseline;
			
				position: relative;
			}`:t.innerText=":host { display: block; opacity: 0; }",this.shadowRoot.appendChild(t)}delete this._initialMount,this.__observer.observe(this,{attributes:!0,childList:!0,subtree:!1});let e={element:this,portalHost:null};i?e.component=m(uh,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid):e.component=m(wB,{baseNode:this,customElementComponent:this._vdomComponent,observedAttributes:this.__observedAttributes},"custom-element-"+this._uid),jt(this,"custom-element-connected",e),this._portalHost=e.portalHost,this._portalHost===null&&sb.push(this)}function bB(){}function yB(){this.ownerDocument?.defaultView?.frameElement?.id=="contentEditableStyleTester"||this.hasAttribute("no-component")||(this.__observer.disconnect(),this._portalHost&&jt(this._portalHost,"custom-element-disconnected",{component:null,element:this}),this._portalHost=null,this._selectState=null)}var Dl,sb,uh,wB,Qn,Jt,Ki=B(()=>{Ce();We();Rr();Dl=fe(Se(),1);Ne();ht();Jn();Gr();te();sb=[];uh=class extends oe{constructor(e){super(e);let t=this.getPropsFromAttributes();this.state={baseNodeProps:{...t,...e.baseNode._props},childArray:Array.from(e.baseNode.children)},e.baseNode._customElementComponent=this}getPropsFromAttributes=()=>{let e=this.props.baseNode.attributes,t=0,r={};for(t=e.length;t--;){let n=e[t].value==="true"?!0:e[t].value;n=n==="false"?!1:n,r[e[t].name]=n}return{...r,...this.props.baseNode._props}};componentDidMount(){if(se)return;let e=this.getPropsFromAttributes();this.setState(t=>Dl.default.isEqual(e,this.state.baseNodeProps)?null:{baseNodeProps:e}),di(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}componentWillUnmount(){vi(this.props.baseNode,"custom-element-connected",this.refreshAttributes)}refreshAttributes=e=>{if(e.element==this.props.baseNode){let t=this.getPropsFromAttributes();this.setState(r=>Dl.default.isEqual(t,this.state.baseNodeProps)?null:{baseNodeProps:t})}};render(e,t){let{baseNodeProps:r,childArray:n}=t;return Vt(this.props.customElementComponent,{...e,...r,childArray:n})}},wB=Zn(uh),Qn=class extends xi{constructor(e){super(e),this.state={portals:[]},!se&&(Lu(this.props.portalHost)?this.stopListeningToVnodeDiff=DA(this.props.portalHost,this.onPortalHostMounted):this.props.portalHost instanceof Node&&this.onPortalHostMounted(this.props.portalHost))}render(e){return m(Q,{children:this.state.portals.map(([t,r],n)=>t&&r?Ge(t,r):Ge(null,null))},"portal-map")}addPortal=e=>{if(e.portalHost)return;let{component:t,element:r}=e;if(!t||!r)return;e.portalHost=this.portalHostElement;let n=!1;this.setState(s=>{let l=s.portals.findIndex(([c,d])=>d===r&&c!==null),u=[...s.portals];return l===-1?u.push([t,r]):(u[l]=[null,null],n=!0),{portals:u}},()=>{n&&this.addPortal(e)})};removePortal=e=>{e.element&&this.setState(t=>{let r=[...t.portals],n=r.findIndex(([s,l])=>l===e.element);return n!==-1?(r[n]=[null,null],{portals:[...r]}):null},()=>{})};onElementHostConnected=e=>{let t=e.element,r=[];this.setState(n=>{let s=[...n.portals];return s.forEach(([l,u],c)=>{t.contains(u)&&(r.push(u),s[c]=[null,null])}),{portals:s}},()=>{r.forEach(n=>{n.connectedCallback()})})};onPortalHostMounted=e=>{this.portalHostElement!==e&&(this.portalHostElement=e,jt(this.portalHostElement,"element-host-connected",{element:this.portalHostElement}),di(this.portalHostElement,"custom-element-connected",this.addPortal),di(this.portalHostElement,"custom-element-disconnected",this.removePortal),di(this.portalHostElement,"element-host-connected",this.onElementHostConnected));let t=sb.filter(r=>this.portalHostElement.contains(r));t.forEach(r=>r.connectedCallback()),Dl.default.pullAll(sb,t)};componentDidMount(){}componentDidUpdate(e,t){se||this.state.portals.forEach(r=>{if(r[1]?.shadowRoot.children){let n=Array.from(r[1].shadowRoot.children).find(s=>s.id==="space-filler");n&&n.remove()}})}componentWillUnmount(){se||(this.portalHostElement&&(vi(this.portalHostElement,"element-host-connected",this.onElementHostConnected),vi(this.portalHostElement,"custom-element-disconnected",this.removePortal),vi(this.portalHostElement,"custom-element-connected",this.addPortal),delete this.portalHostElement),this.stopListeningToVnodeDiff?.())}},Jt=gB});var GA,ab,YA,KA=B(()=>{Ce();Ot();Di();Jn();Si();GA=fe(Se(),1);te();ab=class extends oe{constructor(e){super(e),this.state={dragPos:{x:0,y:0},referenceDragPos:{x:0,y:0},swapTarget:null,readyForDrop:!1,draggingOverItem:!1,rect:{top:0,left:0,width:0,height:0}},this.dropRef=ve(),this.onDragOver=GA.default.throttle(this.onDragOver,80)}showDropTarget=()=>{if(Math.abs(this.state.dragPos.x-this.state.referenceDragPos.x)>10||Math.abs(this.state.dragPos.y-this.state.referenceDragPos.y)>10){this.setState({swapTarget:null});return}ye.globalDragEventController.customDropTarget!==this.dropRef.current&&(ye.globalDragEventController.releaseCustomDropTarget(ye.globalDragEventController.customDropTarget),ye.globalDragEventController.setCustomDropTarget(this.dropRef.current)),this.setState({readyForDrop:!0})};getRect=()=>{this.state.swapTarget&&this.setState({rect:this.state.swapTarget.getBoundingClientRect()})};render(e,t){let{draggingOverItem:r,readyForDrop:n,rect:s}=t,l={frame:{display:n?"flex":"none",alignItems:"center",justifyContent:"center",background:"rgba(255, 255, 255, 0.6)",position:"fixed",top:s.top+"px",left:s.left+"px",width:s.width+"px",height:s.height+"px",pointerEvents:"none",zIndex:999},replace:{pointerEvents:"none",position:"relative",top:"unset",left:"unset"}};return m("div",{ref:this.dropRef,style:l.frame,children:m("button",{className:"media-options-button multiple",style:l.replace,children:"Replace"})})}onDragEnd=(e,t,r)=>{this.onDragOver.cancel(),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:!1})};onDragDrop=(e,t,r)=>{clearTimeout(this.showDropTargetTimer),this.onDragOver.cancel(),!(this.dropRef.current!==r.customDropTarget||!this.state.swapTarget||r.inAdmin)&&(CargoEditor.mutationManager.execute(()=>{let n=window.store.getState(),s=this.state.swapTarget,l=r.draggedMediaItems[0],u=s.closest("[thumbnail-index]"),c=s.getAttribute("hash"),d=l.getAttribute("hash"),f=s.closest("[id]")?.getAttribute("id");if(u){let M=s.getAttribute("href");f=it.getContentByPurl(n,M)?.id||null}if(!f||!d)return;let g=it.getMediaByHash(n)[d]||null,v=it.getMediaByHash(n)[c]||null;if(!g)return;let{CRDTItem:S}=ye.getCRDTItem({reducer:"pages.byId",item:f});if(!(n.pages.byId[f].media||[]).find(M=>M.hash==g.hash)){if(!(S.get("media")instanceof ye.adminWindow.Y.Array)){let T=new ye.adminWindow.Y.Array;T.insert(0,S.get("media")||[]),S.set("media",T)}let M=ye.convertStateToSharedType(g,new ye.adminWindow.Y.Map);S.get("media").push([M])}if(u)ye.applyChangesToYType(S,{thumb_media_id:g.id});else{let M=g&&v&&(g.is_video!==v.is_video||g.is_image!==v.is_image||g.is_video!==v.is_video);v&&M&&(s.removeAttribute("autoplay"),s.removeAttribute("loop"),s.removeAttribute("muted"),s.removeAttribute("poster"),s.removeAttribute("browser-default"),g.is_video?(!g.has_audio_track||g.duration<15?(s.setAttribute("autoplay",!0),s.setAttribute("muted",!0),s.setAttribute("loop",!0)):(s.setAttribute("browser-default",!0),s.setAttribute("disable-zoom",!0),g.duration<20&&s.setAttribute("loop",!0)),s.setAttribute("autoplay",!0),s.setAttribute("loop",!0),s.setAttribute("muted",!0)):g.is_url&&(g.url_type=="vimeo"||g.url_type=="youtube")&&(s.setAttribute("browser-default",!0),s.setAttribute("disable-zoom",!0),s.setAttribute("muted",!1),s.setAttribute("loop",!1))),s.removeAttribute("src"),s.setAttribute("hash",d),s.removeAttribute("width"),s.removeAttribute("height")}}),this.setState({readyForDrop:!1,swapTarget:null,draggingOverItem:!1}))};onBeforeDrop=(e,t,r)=>{!r.fromAdmin&&!r.fromOutside||this.state.readyForDrop&&this.state.swapTarget?.nodeName==="MEDIA-ITEM"&&r.draggedMediaItems.length===1&&(ye.globalDragEventController.releaseCustomDropTarget(r.customDropTarget),ye.globalDragEventController.setCustomDropTarget(this.dropRef.current))};onDragOver=(e,t,r)=>{let n=t.target.closest("MEDIA-ITEM"),s=r.draggedMediaItems.length===1&&r.draggedMediaItems[0]!==n&&!r.draggedMediaItems.some(u=>u.getAttribute("hash")==="placeholder"),l=!r.inAdmin&&r.fromAdmin;if(n&&l&&s){let u=Math.abs(this.state.dragPos.x-r.cursorPosition.x)>2||Math.abs(this.state.dragPos.y-r.cursorPosition.y)>2;this.state.swapTarget!==n||u?(ye.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({dragPos:{...r.cursorPosition},referenceDragPos:{...r.cursorPosition},readyForDrop:!1,draggingOverItem:!0,swapTarget:n}),this.showDropTargetTimer=setTimeout(this.showDropTarget,400)):this.setState({dragPos:{...r.cursorPosition}}),this.getRect()}else ye.globalDragEventController.releaseCustomDropTarget(this.dropRef.current),clearTimeout(this.showDropTargetTimer),this.setState({readyForDrop:!1,draggingOverItem:!1,swapTarget:null,dragPos:{...r.cursorPosition}})};componentDidMount(){this.findDragController().then(()=>{ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("before-drop",this.onBeforeDrop)})}componentWillUnmount(){this.onDragOver.cancel(),this.getRect.cancel(),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("before-drop",this.onBeforeDrop)}componentDidUpdate(e,t){(this.state.swapTarget!==t.swapTarget||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&this.state.swapTarget?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=()=>{this.ticking||(this.rectFrame=requestAnimationFrame(()=>{this.getRect(),this.ticking=!1}),this.ticking=!0)};findDragController=()=>new Promise((e,t)=>{let r=0,n=null,s=()=>{let l=ye.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),t())};n=setInterval(s,300),s()})},YA=Zn(ab)});var ch,lb,XA,ZA=B(()=>{Ce();ta();Ot();Di();Jn();Ne();ch=fe(Se(),1);te();lb=class extends oe{constructor(e){super(e),this.state={rect:{top:null,left:null},initialRect:{top:null,left:null},initialScrollY:0,isClickable:!0,visible:!1,parentFontInfo:{fontSize:null,lineHeight:null}},this.maxButtonHeight=20,this.minButtonHeight=10,this.clonedRange=null,this.ticking=!1,this.isDebug=!1,Xp.contentWindow?.CargoEditor&&Object.keys(Xp.contentWindow?.CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}componentWillUnmcount(){CargoEditor&&(CargoEditor.events.off("cursor-activity",this.onSelectionChange),CargoEditor.events.off("editor-keydown",this.onEditorKeydown)),window.removeEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("selectionchange",this.onSelectionChange),window.removeEventListener("blur",this.onEditorBlur),this.props?.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)}bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),window.addEventListener("insert-context-menu-closed",this.restoreTextCursorPosition),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousedown",this.onMouseDown),document.addEventListener("selectionchange",this.onSelectionChange),window.addEventListener("blur",this.onEditorBlur),CargoEditor.events.on("cursor-activity",this.onSelectionChange),CargoEditor.events.on("editor-keydown",this.onEditorKeydown),this.props?.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)};componentDidUpdate(e,t){this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement&&(this.props.scrollContext.scrollingElement?this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),this.onScroll())}onScroll=e=>{if(!this.state.visible||this.ticking)return;let t=window.pageYOffset,r=window.pageYOffset-this.state.initialScrollY,n=Math.round(this.state.initialRect.top-r);this.setState({rect:{top:n,left:this.state.initialRect.left}})};onEditorBlur=()=>{this.setState({visible:!1})};onEditorKeydown=()=>{this.setState({visible:!1})};onMouseUp=e=>{this.setState({clickable:!0}),e.target.closest("[editing]")&&this.checkAndSetVisiblity()};onMouseDown=()=>{this.setState({visible:!1,clickable:!0})};onSelectionChange=ch.default.debounce(e=>{if(this.ticking)return;if(this.ticking=!0,this.setState({visible:!1}),!CargoEditor.getActiveRange())return null;let r=document.querySelector('[editing="true"] bodycopy');if(!r)return null;let n,s=window.getComputedStyle(r);n=s.getPropertyValue("font-size"),n=Number(n.match(/[\d\.]+/));let l=s.getPropertyValue("line-height");l=Number(l.match(/[\d\.]+/)),this.setState({parentFontInfo:{fontSize:n,lineHeight:l}},()=>{this.setButtonPosition()})},50);checkAndSetVisiblity=ch.default.debounce((e,t)=>{e=CargoEditor.getActiveRange(),t=CargoEditor?.getActiveEditor();let r=t?.checkIfEmpty(),n=this.isEligibleEmptyLine(e),s=!!(r||n);this.isDebug&&console.log("checkAndSetVisible",s),this.setVisible(s)},400);setVisible=e=>{this.isDebug&&console.log("set visible",e),this.setState({initialScrollY:window.pageYOffset,visible:e},()=>{this.ticking=!1})};isEligibleEmptyLine=e=>{if(!e)return!1;let t=e.endContainer.childNodes[e.endOffset-1],r=e.endContainer.childNodes[e.endOffset],n=e.endContainer.childNodes[e.endOffset-2];for(;t&&CargoEditor.helpers.isWhitespaceNode(t);)t=t.previousSibling;for(;r&&CargoEditor.helpers.isWhitespaceNode(r);)r=r.nextSibling;for(;n&&CargoEditor.helpers.isWhitespaceNode(n);)n=n.previousSibling;return!!(e.collapsed&&e.endContainer&&e.endContainer.nodeType==Node.ELEMENT_NODE&&(e.endContainer.nodeName==="BODYCOPY"||e.endContainer.nodeName==="COLUMN-UNIT")&&(e.endOffset===0&&e.endContainer.childNodes.length==0||this.checkNodeContent(t)&&this.checkNodeContent(n)||this.checkNodeContent(r)&&!t))};restoreTextCursorPosition=e=>{e.detail.cachedRange&&window.requestAnimationFrame(()=>{CargoEditor.helpers.setActiveRange(e.detail.cachedRange),CargoEditor?.getActiveEditor().getElement().focus()})};checkNodeContent=e=>!!(e&&e.nodeName==="BR"||e?.nodeType===Node.ELEMENT_NODE&&window.getComputedStyle(e)?.getPropertyValue("display")==="block");getTextCursorRect=(e,t,r)=>{if(!e)return!1;if(this.clonedRange===e)return null;this.clonedRange=e.cloneRange();let n=rc(),s=r.fontSize*.15*-1,l=r.lineHeight*.15*-1,u=document.createElement("input");u.style.display="inline-block",u.style.fontSize=r.fontSize+"px",u.style.border="0",u.style.background="blue",u.style.outline="none",u.style.width="2px",n?(u.style.height=r.lineHeight+"px",u.style.lineHeight=r.lineHeight+"px",u.style.margin=`${l}px 0 0 0`,u.style.padding="0",u.style.verticalAlign="text-bottom"):(u.style.height=r.fontSize+"px",u.style.verticalAlign="middle",u.style.margin=`${s}px 0 0 0`,u.style.padding="0"),u.setAttribute("data-ignore-changes",""),u.setAttribute("data-prevent-copy",""),u.setAttribute("disabled",""),u.setAttribute("readonly",""),u.setAttribute("test-delete-visible",""),u.setSaveable(!1),e.insertNode(u);let c=CargoEditor?.getActiveEditor()?.getElement?.()?.getBoundingClientRect(),d=u.getBoundingClientRect();u.nextSibling&&u.nextSibling.nodeType===Node.TEXT_NODE&&u.nextSibling.setSaveable(!0),u.remove();let f=c.height-t.height;return this.clonedRange&&CargoEditor.helpers.setActiveRange(this.clonedRange),{bottom:d.bottom-f,height:d.height,center:d.bottom-f-(d.top-f),left:d.left,right:d.right,top:d.top-f,width:d.width,x:d.x-f,y:d.y}};setButtonPosition=()=>{this.isDebug&&console.log("set button position");let e=CargoEditor.getActiveRange(),t=!1,r=!1,n=null,s=null,l=null,u=null,c=null,d=null,f=0,g=0,v=this.state.parentFontInfo?.fontSize;if(!this.state.parentFontInfo){this.ticking=!1;return}if(v>20&&(v=20),v<10&&(v=10),!ch.default.isEmpty(CargoEditor)&&(n=CargoEditor?.getActiveEditor(),n&&(s=n.getElement()),t=n?.checkIfEmpty(),r=this.isEligibleEmptyLine(e)),d=s?s.getBoundingClientRect():null,r||t){let C=this.getTextCursorRect(e,d,this.state.parentFontInfo),_=0,M=0;if(!C){this.ticking=!1;return}let T=this.state.parentFontInfo,F=1-T.fontSize/T.lineHeight,H=T.lineHeight,L=T.fontSize;rc()?_=C.bottom-T.lineHeight*.5:_=C.bottom-C.height*.5,u=_,c=Math.ceil(C.left)}g=c?4:0,c=c+g,this.isDebug&&console.log("coordinate state set..."),this.setState({initialRect:{top:u,left:c},rect:{top:u,left:c}},()=>{this.checkAndSetVisiblity()})};callContextMenu=e=>{e.preventDefault(),e.stopPropagation(),this.setState({visible:!1});let t=CargoEditor.getActiveRange().nativeRange;document.activeElement.blur(),ye.adminWindow.ContextMenuOpener.openContextMenu(e,"insert-content",{cachedRange:t})};render(){let e=this.state.parentFontInfo.fontSize?this.state.parentFontInfo.fontSize:20,t=e>20?20:e;t=t<10?10:t;let r=t/2,n={frame:{transform:`translate3d(${this.state.rect.left}px, ${this.state.rect.top}px, 0px)`,zIndex:999,display:"flex",position:"fixed",top:0,left:0,pointerEvents:"none",height:0,width:0},button:{display:"flex",visibility:this.state.visible&&this.state.rect.top!==0&&this.state.rect.left!==0?"visible":"hidden",position:"relative",top:"unset",left:"unset",height:t+"px",width:t+"px",pointerEvents:this.state.isClickable?"all":"none",transform:`translate(0, -${r}px)`},svg:{pointerEvents:"none",height:t+"px",width:t+"px",maxHeight:this.maxButtonHeight+"px",maxWidth:this.maxButtonHeight+"px",minHeight:this.minButtonHeight+"px",minWidth:this.minButtonHeight+"px"}};return m("div",{style:n.frame,children:m("button",{className:"insert-content-button",style:n.button,onContextMenu:s=>{s.preventDefault(),this.callContextMenu(s)},onMouseDown:s=>{this.callContextMenu(s)},children:m("svg",{style:n.svg,id:"insert-ineditor",className:"plus-icon",width:t+"px",height:t+"px",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{cx:"10",cy:"10",r:"8"}),m("g",{children:[m("line",{x1:"10",y1:"5",x2:"10",y2:"15"}),m("line",{x1:"5",y1:"10",x2:"15",y2:"10"})]})]})})})}},XA=Zn(lb)});var eo,ze,ub,JA,Di=B(()=>{Ce();We();ht();eo=fe(Se(),1);Ot();Ne();KA();ZA();Rr();te();ze={},ub=class extends oe{constructor(e){super(e),this.sR=document.createElement("div"),this.testHover=eo.default.throttle(this.testHover,60),this.lockedElements=[],this.state={selecting:!1,unattachedOverlayContainer:null,active:!1,locked:!1,loaded:!1,hoveredElements:[]},this.onContentChange=eo.default.throttle(this.onContentChange,80,{leading:!0,tailing:!0}),window.addEventListener("scroll",this.onScroll),this.resizeObserver=new ResizeObserver(t=>{t.forEach(r=>{this.updateElementRect(r.target)})}),this.dragController=null,this.portalMap=new Map,this.noPointerEventsArray=[],this.editorOverlayRef=ve(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),this.findDragController().then(t=>{this.dragController=t,this.dragController.on("dragstart",this.onDragStart),this.dragController.on("dragend",this.unlock),this.dragController.on("drop",this.unlock)}).catch(t=>{console.warn("Editor overlay failed to find drag controller.",t)}),ze.lock=this.lock,ze.unlock=this.unlock,ze.lockItem=this.lockItem,ze.unlockItem=this.unlockItem,ze.setHoveredElements=this.setHoveredElements,ze.deactivateHoverElement=this.deactivateHoverElement,ze.activateHoverElement=this.activateHoverElement,ze.getPortal=this.getPortal,ze.removePortal=this.removePortal,ze.portalMap=this.portalMap,ze.testHover=this.testHover,ze.updateElementRect=this.updateElementRect,this.pointerPosition={x:-9e9,y:-9e9}}render(){var e=localStorage.getItem("c3-plus-button")==="true";return m("div",{className:this.state.selecting?"selecting":"",id:"editor-overlay",ref:this.editorOverlayRef,style:{display:this.state.loaded?"":"none"},children:this.state.unattachedOverlayContainer&&Ge(m(Q,{children:[m(YA,{}),e?m(XA,{}):null]}),this.state.unattachedOverlayContainer)})}componentDidMount(){if(!this.editorOverlayRef.current.shadowRoot){this.editorOverlayRef.current.attachShadow({mode:"open"}),this.editorOverlayRef.current.shadowRoot.innerHTML='<link rel="stylesheet" href="https://build.cargo.site/frontend/ff2e39/css/front-end/editor-ui.css"><div id="unattached-editor-overlays"></div>',Array.from(this.sR.children).forEach(r=>{this.editorOverlayRef.current.shadowRoot.appendChild(r)}),this.editorOverlayRef.current.shadowRoot.querySelector("link").addEventListener("load",()=>{this.setState({loaded:!0})});let t=this.editorOverlayRef.current.shadowRoot.querySelector("#unattached-editor-overlays");this.setState({unattachedOverlayContainer:t})}this.sR=this.editorOverlayRef.current.shadowRoot,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("mousedown",this.onPointerDown),window.addEventListener("mouseup",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerLeave),this.findAdminWindow().then(e=>{ye.adminWindow.addEventListener("pointermove",this.onAdminPointerMove)}).catch(e=>{console.warn("Editor Overlay failed to find Editor.",e)})}componentDidUpdate(e,t){let{hoveredElements:r}=t,{hoveredElements:n}=this.state,s=eo.default.difference(n,r);eo.default.difference(r,n).forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerOut?.()})}),s.forEach(u=>{let c=this.portalMap.get(u);c&&c.portalHosts.forEach((d,f)=>{d?.pointerIn?.()})}),this.updatePageButtonPositions(),this.props.adminMode!==e.adminMode&&(this.props.adminMode?(this.unlock(),this.afterAdminTimeout=setTimeout(()=>{this.testHover()},80)):(this.setHoveredElements([]),this.lock()))}componentWillUnmount(){clearTimeout(this.afterAdminTimeout),this.onContentChange.cancel(),this.dragController&&(this.dragController.off("dragstart",this.onDragStart),this.dragController.off("dragend",this.unlock),this.dragController.off("drop",this.unlock)),this.CargoEditor&&(this.CargoEditor.events.off("mutation-start",this.onMutationStart),this.CargoEditor.events.off("mutation-end",this.onMutationEnd),this.CargoEditor.events.off("editor-keyup",this.onContentChange),this.CargoEditor.events.off("editor-summary-created",this.onContentChange)),this.portalMap.forEach((e,t,r)=>{this.removePortal(t)}),this.noPointerEventsArray=[],window.removeEventListener("mousedown",this.onPointerDown),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("pointermove",this.onPointerMove),document.body.removeEventListener("pointerleave",this.onPointerLeave),ye.adminWindow?.removeEventListener("pointermove",this.onAdminPointerMove)}findAdminWindow=()=>new Promise((e,t)=>{let r=0,n=null,s=()=>{let l=ye.adminWindow;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),t("not found."))};n=setInterval(s,300),s()});onMutationStart=()=>{kA()};onMutationEnd=()=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{NA(),this.ticking=!1}))};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("mutation-start",this.onMutationStart),this.CargoEditor.events.on("mutation-end",this.onMutationEnd),this.CargoEditor.events.on("editor-keyup",this.onContentChange),this.CargoEditor.events.on("editor-summary-created",this.onContentChange)};findDragController=()=>new Promise((e,t)=>{let r=0,n=null,s=()=>{let l=ye.globalDragEventController||null;l?(clearInterval(n),e(l)):r++,r>200&&(clearInterval(n),t())};n=setInterval(s,300),s()});updateElementRect=e=>{let r=this.portalMap.get(e);if(r){let n={x:0,y:0,top:0,left:0,right:0,bottom:0,width:0,height:0},s=e.getBoundingClientRect();Object.keys(n).forEach(l=>{n[l]=Math.round(s[l])}),n.height<10&&(n.height=10,n.bottom=n.top+10),r.extraMargins.forEach((l,u)=>{if(!(l===void 0||l===0))switch(u){case 0:n.top=n.y=n.top-l,n.height=n.height+l;break;case 1:n.right=n.right+l,n.width=n.width+l;break;case 2:n.height=n.height+l,n.bottom=n.bottom+l;break;case 3:n.left=n.x=n.left-l,n.width=n.width+l;break}}),this.portalMap.set(e,{portalHosts:r.portalHosts,rect:n,extraMargins:r.extraMargins}),r.portalHosts.forEach((l,u)=>{l?.updatePosition?.(n)})}};onContentChange=(e,t)=>{this.state.hoveredElements.forEach(r=>{this.updateElementRect(r)})};onScroll=()=>{this.noPointerEventsArray.forEach(this.updateElementRect),this.updatePageButtonPositions()};updatePageButtonPositions=()=>{let t=Array.from(this.portalMap).map(([u,c])=>{let d=null,f=Array.from(c?.portalHosts??[]).find(([C,_])=>_.props?.name=="EditPageButton"&&!_.props.isEditingPage?(d=C,!0):!1);if(!d?.querySelector("button.edit-page"))return!1;let g=d.querySelector("button.edit-page").getBoundingClientRect(),S=g.top<c.rect.top?{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top,height:g.height*2+1}:{left:g.left+-f[1].state.shiftButtonX,width:g.width+1,top:g.top-g.height+-2,height:g.height*2+1};return{mapRect:c.rect,portalHost:d,proposedRect:S,rect:S,component:f[1]}}).filter(u=>!!u),r=eo.default.sortBy(t,u=>u.mapRect.left),n=!0,s=4,l=0;for(;n&&l<s;)n=!1,r.forEach((u,c,d)=>{if(c===0)return;let f=u.rect,g=d.filter(v=>{if(v==u)return!1;let S=v.proposedRect;return f.left<S.left+S.width&&f.left+f.width>S.left&&f.top<S.top+S.height&&f.top+f.height>S.top});if(g.length>0){n=!0;let v=d[c-1],S=eo.default.sortBy(g,C=>-(C.proposedRect.left+C.proposedRect.width))[0];u.proposedRect={left:S.proposedRect.left+S.proposedRect.width,width:f.width,top:f.top,height:f.height},u.component.setState({shifted:!0,shiftButtonX:u.proposedRect.left-f.left}),c==1&&r[0].component.setState({shifted:!0,shiftButtonX:0})}else u.component.setState({shifted:!1,shiftButtonX:0}),c==1&&r[0].component.setState({shifted:!1,shiftButtonX:0})}),l++};onDragStart=()=>{this.setState({hoveredElements:[],locked:!0}),this.dragContentChangeTimeout=setTimeout(()=>{this.onContentChange()},30)};getPortal=(e,t={})=>{if(e)if(this.portalMap.has(e)){var r=this.portalMap.get(e),n=null;if(r.portalHosts.forEach((s,l)=>{t.component===s&&(n=l)}),n)return n;{let s=document.createElement("div");return this.sR.appendChild(s),r.portalHosts.set(s,t.component),s}}else{let s=document.createElement("div");this.sR.appendChild(s);let l={portalHosts:new Map,rect:{width:0,height:0,top:0,left:0,bottom:0,right:0},extraMargins:t.extraMargins||[]};return s.setAttribute("editor-overlay-tag-name",e.tagName),s._editorBaseNode=e,l.portalHosts.set(s,t.component),this.portalMap.set(e,l),t.trackResize&&this.resizeObserver.observe(e),t.noPointerEvents&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),t.extraMargins&&this.noPointerEventsArray.indexOf(e)===-1&&this.noPointerEventsArray.push(e),s}};removePortal=(e,t)=>{if(this.portalMap.has(e)){let r=this.portalMap.get(e);r.portalHosts.has(t)&&(r.portalHosts.delete(t),t.parentNode.removeChild(t)),r.portalHosts.size===0&&(this.resizeObserver.unobserve(e),this.noPointerEventsArray.indexOf(e)>-1&&this.noPointerEventsArray.splice(this.noPointerEventsArray.indexOf(e),1),this.portalMap.delete(e))}};lock=()=>{this.setState({locked:!0})};unlock=()=>{this.setState({locked:!1})};lockItem=e=>{this.lockedElements.indexOf(e)===-1&&this.lockedElements.push(e)};unlockItem=e=>{let t=this.lockedElements.indexOf(e);t>-1&&this.lockedElements.splice(t,1)};deactivateHoverElement=e=>{e&&this.setState(t=>{let{hoveredElements:r}=t,n=[...r],s=r.indexOf(e);if(s>-1)n=n.splice(s,1);else return null;return{...t,hoveredElements:n}})};activateHoverElement=e=>{e&&this.setState(t=>{let{hoveredElements:r}=t,n=[...r];if(n.indexOf(e)==-1)n.push(e);else return null;return{...t,hoveredElements:n}})};setHoveredElements=e=>{let t=Array.isArray(e)?e:[e];t=t.filter(r=>!!r),eo.default.isEqual(this.state.hoveredElements,t)||this.setState({hoveredElements:t})};testHover=()=>{let{locked:e}=this.state;if(e)return;let t=Array.from(document.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[],r=Array.from(this.editorOverlayRef.current.shadowRoot.elementsFromPoint(this.pointerPosition.x,this.pointerPosition.y))||[];r=r.map(c=>c.closest("[editor-overlay-tag-name]")?._editorBaseNode).filter(c=>!!c),r=eo.default.difference(r,t),r.forEach(c=>{c&&t.indexOf(c)==-1&&t.push(c)}),this.noPointerEventsArray.forEach(c=>{let d=this.portalMap.get(c);d&&d.rect&&this.pointerPosition.x<=d.rect.left+d.rect.width&&this.pointerPosition.x>=d.rect.left&&this.pointerPosition.y<=d.rect.top+d.rect.height&&this.pointerPosition.y>=d.rect.top&&t.indexOf(c)==-1&&t.push(c)}),t=eo.default.uniq(t);let n=[...this.state.hoveredElements];this.lockedElements.forEach(c=>{let d=n.indexOf(c),f=t.indexOf(c);f===-1&&d>-1?t.push(c):d===-1&&f>-1&&t.splice(f,1)});let s=CargoEditor?.getActiveEditor?.()?.getElement(),l=s?s.closest(".overlay-content"):null,u=l&&t.some(c=>c.tagName==="BODYCOPY"&&l.contains(c));s&&l&&u&&(t=t.filter(c=>l.contains(c))),this.setHoveredElements(t)};onAdminPointerMove=e=>{e.target.tagName==="IFRAME"?(this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY+-40):(this.pointerPosition.x=-9e9,this.pointerPosition.y=-9e9),this.testHover()};onPointerLeave=e=>{this.setState({selecting:!1}),setTimeout(()=>{this.setHoveredElements([])},100)};onFirstSelectionChange=()=>{this.setState({selecting:!0})};onPointerDown=e=>{this.selectionWaitTimeout=setTimeout(()=>{document.addEventListener("selectionchange",this.onFirstSelectionChange,{once:!0})},60)};onPointerUp=e=>{clearTimeout(this.selectionWaitTimeout),document.removeEventListener("selectionchange",this.onFirstSelectionChange,{once:!0}),this.setState({selecting:!1})};onPointerMove=e=>{this.pointerPosition.x=e.clientX,this.pointerPosition.y=e.clientY,this.testHover()}},JA=Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(ub)});var cb,xc,xB,dh,Oi,to=B(()=>{Ce();Di();cb=fe(Se(),1);te();xc=[],xB=cb.default.debounce(()=>{if(CargoEditor&&Object.keys(CargoEditor).length>0){var i=CargoEditor.getActiveRange(),e=CargoEditor.helpers.normalizeRangeAroundShadowDom(i);let r=[],n=[];if(i&&!i.collapsed){var t=CargoEditor.helpers.getAllEffectivelyContainedNodes(i);t=t.filter(s=>s.shadowRoot),xc.forEach(s=>{t.includes(s.props.baseNode)?r.push(s):n.push(s)})}else n=xc;if(n.forEach(s=>{s.setState({selected:!1})}),r.forEach(s=>{s.setState({selected:!0}),CargoEditor.plugins.shadowDom.shadowDomSelectedElements.indexOf(s.props.baseNode)==-1&&CargoEditor.plugins.shadowDom.shadowDomSelectedElements.push(s.props.baseNode)}),e.shadowDomElementAdjacentToCollapsedRange){let s=xc.find(l=>l.props.baseNode===e.shadowDomElementAdjacentToCollapsedRange);s&&s.setState({selected:!0,collapseDirection:e.collapseDirection})}xc.length=0}},30),dh=class extends oe{constructor(e){super(e),this.state={resetAnimation:!1,selected:!1,collapseDirection:!1,currentColor:"black"},this.uniqueClassName=this.props.overlayMode?"selection-status-"+cb.default.uniqueId():"selection-status"}render(e,t){let r=t.collapseDirection?" "+t.collapseDirection+" collapsed-range":"";return m(Q,{children:[m("style",{id:"selection-status",children:`
		${this.state.selected&&!this.props.onlyAllowCollapsedRange?`
		::slotted(*) {
			--selection-color: transparent;
		}
		`:""}

		${this.props.onlyAllowCollapsedRange?"":`::selection{
			background-color:transparent;
		}
		:host(::selection) {
			background-color:transparent;
		}`}

		.${this.uniqueClassName} {
			${this.props.overlayMode?`
				transform: translate3d(${this.props.overlayPosition.x}px, ${this.props.overlayPosition.y}px, 0);
				width: ${this.props.overlayPosition.width}px;
				height: ${this.props.overlayPosition.height}px;
				position: fixed;
				top: 0;
				left: 0;
			`:`
				inset: 0px;
				position: absolute;
			`}
			padding: 0;
			margin: 0;
			opacity: 1;
		    background-color: var(--selection-color);
			overflow:hidden;

			z-index: ${this.props.inFront?"99999":"-1"};
			pointer-events:none;
			display:none;
		}

		.${this.uniqueClassName}.selected {
			display:block;
		}

      
		@keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}
		}
		@-webkit-keyframes blink-animation {
			0%, 49.99% {
			  visibility: visible;
			}
			50%, 100% {
				visibility: hidden;
			}			
		}		

		.${this.uniqueClassName}.collapsed-range {
			width: 1px;
		    mix-blend-mode: unset;
			background-color: ${this.props.overlayMode?this.state.currentColor:"currentColor"};

		    ${this.state.resetAnimation?`
		    visibility: visible;
		    -webkit-animation:none;
		    animation: none;`:`-webkit-animation: blink-animation 1s steps(4, start) infinite;
	        animation: blink-animation 1s steps(4, start) infinite;`}
	        z-index: 9999;
		}

		.${this.uniqueClassName}.before.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+-1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 auto 0 -1px;
			`}
				
		}
		.${this.uniqueClassName}.after.collapsed-range {
			${this.props.overlayMode?`
			transform: translate3d(${this.props.overlayPosition.x+this.props.overlayPosition.width+1}px, ${this.props.overlayPosition.y}px, 0);			
			`:`
			inset: 0 -1px 0 auto;
			`}
		}		

		`}),m("div",{className:`${this.uniqueClassName}${this.state.selected?" selected":""}${r}`})]},"selection-status-fragment")}componentDidMount(){CargoEditor?.getActiveEditor?.()&&(xc.push(this),xB()),this.props.baseNode.__shadow_selection=!0,this.props.baseNode.addEventListener("selected-in-editor",this.select),this.props.baseNode.addEventListener("unselected-in-editor",this.unselect)}componentDidUpdate(e,t){this.state.collapseDirection!==t.collapseDirection&&this.setState({resetAnimation:!0},()=>{this.resetTimeout=setTimeout(()=>{this.setState({resetAnimation:!1})},100)})}componentWillUnmount(){clearTimeout(this.resetTimeout),delete this.props.baseNode.__shadow_selection,this.props.baseNode.removeEventListener("unselected-in-editor",this.unselect),this.props.baseNode.removeEventListener("selected-in-editor",this.select)}select=e=>{if(e.target!==this.props.baseNode)return;this.props.overlayMode&&!this.state.selected&&(ze.updateElementRect(this.props.baseNode),this.updateCurrentColor());let t=e?.detail?.collapsed||!1,r=!0;this.props.onlyAllowCollapsedRange&&(r=t),this.setState({selected:r,collapseDirection:t}),this.props.onSelectionChange&&(t?this.props.onSelectionChange(!1):this.props.onSelectionChange(!0))};unselect=()=>{this.setState(e=>({selected:!1,collapseDirection:!1})),this.props.onSelectionChange&&this.props.onSelectionChange(!1)};updateCurrentColor=()=>{if(this.props.baseNode.shadowRoot){let e=document.createElement("span");e.style.color="currentColor",e.style.position="absolute",this.props.baseNode.shadowRoot.appendChild(e);let r=window.getComputedStyle(e).getPropertyValue("color");e.remove(),this.setState({currentColor:r})}}};dh.defaultProps={inFront:!0,overlayMode:!1};Oi=dh});var ph,Sc,QA,_c,eR,tR=B(()=>{Ce();ph=fe(Se(),1);te();Sc=new Map,QA=i=>{let e=[],t=[],r=[];Sc.forEach((s,l)=>{s.locateEyeball();let{rect:u}=s.state;if(s.props["roll-independently"]==!0){let c=Math.atan2(i.clientY-(u.top+u.height*.5),i.clientX-(u.left+u.width*.5))*(180/Math.PI)+90;s.setState({eyeRotation:c})}else t.push(u.left+u.width*.5),r.push(u.top+u.height*.5),e.push(s)});let n={x:ph.default.mean(t),y:ph.default.mean(r)};e.forEach(s=>{let l=Math.atan2(i.clientY-n.y,i.clientX-n.x)*(180/Math.PI)+90;s.setState({eyeRotation:l})})},_c=class extends oe{constructor(e){super(e),this.state={eyeRotation:0,rect:{top:0,left:0,width:0,height:0},centerPoint:{x:0,y:0}},this.locateEyeball=ph.default.debounce(this.locateEyeball,120,{leading:!0,trailing:!1})}render(e,t){return m(Q,{children:[e.children,m("style",{children:`
					:host { 
						pointerEvents: ${e.lowestLevel?"auto":"none"};
						transformOrigin: center center;
						--rotate-transform: rotate( ${this.state.eyeRotation}deg);
					}
				`})]})}locateEyeball=()=>{this.setState({rect:this.props.baseNode.getBoundingClientRect()})};componentDidMount(){Sc.size==0&&window.addEventListener("pointermove",QA),Sc.set(this.props.baseNode,this)}componentWillUnmount(){Sc.delete(this.props.baseNode),Sc.size===0&&window.removeEventListener("pointermove",QA)}};_c.defaultProps={"roll-independently":!0};_c.transformSlot="--rotate-transform";eR=_c});var iR,Cc,rR,nR=B(()=>{Ce();iR=fe(Se(),1);te();Cc=class extends oe{constructor(e){super(e),this.state={suppressTransition:!1,rotation:parseFloat(this.props.rotation)}}render(e,t){let{animate:r}=e,n=Number(r)!==0,s=n?50/Number(r):1,l="var(--base-translate, translate(0))",u=l;return e.transformSlots.forEach(c=>{c==="--rotate-transform"?(l+=` rotate(${parseFloat(e.rotation)}deg)`,u+=` rotate(${parseFloat(e.rotation)+360}deg)`):(l+=` var(${c}, translate(0))`,u+=` var(${c}, translate(0))`)}),m(Q,{children:[e.children,m("style",{id:"rotating-item",children:n?`
				@keyframes rotate {
                    from {
                        transform: ${l};
                    }
                    to {
                        transform: ${u};
                    }
                }

                :host {
                	animation: rotate ${Math.abs(s)}s linear ${Math.sign(Number(r))===-1?"reverse":""} infinite;
					will-change: transform;
                }
				`:`
				:host { 
					--rotate-transform: rotate( ${e.rotation}deg);
                }
            `})]})}allowTransition=iR.default.debounce(()=>{this.setState({suppressTransition:!1},()=>{})},120);componentDidUpdate(e){(this.props.animate!==e.animate||this.props.rotation!==e.rotation)&&this.setState({suppressTransition:!0},()=>{this.allowTransition()})}componentWillUnmount(){this.allowTransition.cancel()}};Cc.defaultProps={rotation:0,animate:0};Cc.transformSlot="--rotate-transform";rR=Cc});var oR,sR=B(()=>{oR={speed:"90",rotation:"66",scale:"18.4vmax","flight-path":"387",delay:"2"}});var aR,kn,db,hh,lR,uR=B(()=>{aR=fe(Se(),1);Ce();We();sR();Gr();te();db=new Set,hh=class extends oe{constructor(e){super(e),this.flierID="-"+(0,aR.uniqueId)(),this.flierRef=ve();let t=this.generateRandomIntInclusive(1,1e4);this.state={portalElement:null,currentAnimation:"fly1",flightCount:t,calculatedAnimations:{fly1:this.calculateFlyAnimation(t,1),fly2:this.calculateFlyAnimation(t,2),fly3:this.calculateFlyAnimation(t,3),fly4:this.calculateFlyAnimation(t,4)}}}generateRandomIntInclusive(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}calculateDuration(e){return 100*(Math.max(100-Math.abs(e),5)*.01)}generateRandomIntFromSeed(e){var t=Math.sin(e)*1e4;return t-Math.floor(t)}shuffleFromSeed(e,t){for(var r=e.length,n,s;r;)s=Math.floor(this.generateRandomIntFromSeed(t)*r--),n=e[r],e[r]=e[s],e[s]=n,++t;return e}calculateFlyAnimation(e,t){let r=e%2==0,n=this.shuffleFromSeed(["ltr","rtl","ttb","btt"],e),s=Number(this.props.scale.replace("vmax","")),l=this.props.rotation/5*180,u=[{x:`calc(0vw - ${1.4*s}vmax)`,y:`${this.generateRandomIntInclusive(r?0-1.4*s:60,r?40:100+1.4*s)}vh`},{x:`calc(100vw + ${1.4*s}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*s,r?100+1.4*s:40)}vh`}],c=[{x:`calc(100vw + ${1.4*s}vmax)`,y:`${this.generateRandomIntInclusive(r?60:0-1.4*s,r?100+1.4*s:40)}vh`},{x:`calc(0vw - ${1.4*s}vmax)`,y:`${this.generateRandomIntInclusive(r?0:60,r?40:100+1.4*s)}vh`}],d=[{x:`${this.generateRandomIntInclusive(r?0-1.4*s:60,r?40:100+1.4*s)}vw`,y:`calc(0vh - ${1.4*s}vmax)`},{x:`${this.generateRandomIntInclusive(r?60:0-1.4*s,r?100+1.4*s:40)}vw`,y:`calc(100vh + ${1.4*s}vmax)`}],f=[{x:`${this.generateRandomIntInclusive(r?60:0-1.4*s,r?100+1.4*s:40)}vw`,y:`calc(100vh + ${1.4*s}vmax)`},{x:`${this.generateRandomIntInclusive(r?0-1.4*s:60,r?40:100+1.4*s)}vw`,y:`calc(0vh - ${1.4*s}vmax)`}],g=n.reduce((v,S)=>{switch(S){case"ltr":return v.concat(u);case"rtl":return v.concat(c);case"ttb":return v.concat(d);case"btt":return v.concat(f);default:return v}},[]);switch(t){case 1:return`
					0% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 0;
					}
					0.001% {
						transform: translateX(${g[0].x}) translateY(${g[0].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[1].x}) translateY(${g[1].y});
						opacity: 0;
					}
				`;case 2:return`
					0% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 0;
					}
				
					0.001% {
						transform: translateX(${g[2].x}) translateY(${g[2].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[3].x}) translateY(${g[3].y});
						opacity: 0;
					}
				`;case 3:return`
					0% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[4].x}) translateY(${g[4].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[5].x}) translateY(${g[5].y});
						opacity: 0;
					}
				`;case 4:return`
					0% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 0;
					}
		
					0.001% {
						transform: translateX(${g[6].x}) translateY(${g[6].y});
						opacity: 1;
					}
				
					99.999% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 1;
					}
		
					100% {
						transform: translateX(${g[7].x}) translateY(${g[7].y});
						opacity: 0;
					}
				`}}onAnimationEnd(e){let t=Number(e.animationName.substr(3,1)),r=t<4?t+1:1;this.setState({currentAnimation:`fly${r}`,...r===1&&{flightCount:this.state.flightCount+1,calculatedAnimations:{fly1:this.calculateFlyAnimation(this.state.flightCount+1,1),fly2:this.calculateFlyAnimation(this.state.flightCount+1,2),fly3:this.calculateFlyAnimation(this.state.flightCount+1,3),fly4:this.calculateFlyAnimation(this.state.flightCount+1,4)}}})}componentDidMount(){if(kn||(kn=document.createElement("media-item"),kn.setAttribute("no-component",""),kn.shadowRoot||kn.attachShadow({mode:"open"}),kn.shadowRoot.innerHTML=`
			<style>
				:host {
					all:unset!important;
					border:none!important;
					padding: 0!important;
					position: fixed!important;
					z-index: 5000!important;
					pointer-events:none!important;
					background:none!important;
					inset: 0!important;
					overflow: hidden!important;
				}

				.spinner [part="media"] {
					pointer-events: none;
					border-radius:0!important;
					padding: 0!important;
					border: none !important;
					position: absolute;
					width: 100%;
					height: 100%;
					inset: 0;
				}

				.spinner img,
				.spinner video {
					object-fit: contain;
				}
				.spinner .frame,
				.spinner .sizing-frame {
					display: contents;
				}				
			</style>
			`,document.body.appendChild(kn)),!this.state.portalElement){let e=document.createElement("div");e.style.display="contents",kn.shadowRoot.appendChild(e),this.setState({portalElement:e},()=>{this.flierRef.current&&this.flierRef.current.addEventListener("animationend",t=>this.onAnimationEnd(t))})}db.add(this)}componentWillUnmount(){this.flierRef.current&&this.flierRef.current.removeEventListener("animationend",e=>this.onAnimationEnd(e)),this.state.portalElement&&this.state.portalElement.remove(),db.delete(this),db.size==0&&kn&&(kn.remove(),kn=null)}render(e,t){let{speed:r,rotation:n,scale:s,delay:l,adminMode:u}=e,{currentAnimation:c,flightCount:d,calculatedAnimations:f,portalElement:g}=t;return g?m(Q,{children:[m("style",{children:":host {display:none!important;}"}),Ge(m(Q,{children:[m("style",{children:`

					.flier${this.flierID} {
						pointer-events: none !important;
						top: 0;
						left: 0;
						position: absolute;
						z-index:9995;
						transform: translateX(-100%) translateY(-100%);
						animation-delay: ${l}s;
						animation-duration: ${this.calculateDuration(r)/4}s;
						animation-timing-function: linear;
						animation-direction: ${Math.sign(r)===1?"normal":"reverse"};
					}

					.fly1${this.flierID} {
						animation-name: fly1${this.flierID};
					}

					.fly2${this.flierID} {
						animation-name: fly2${this.flierID};
					}

					.fly3${this.flierID} {
						animation-name: fly3${this.flierID};
					}

					.fly4${this.flierID} {
						animation-name: fly4${this.flierID};
					}

					.flier${this.flierID} .spinner {
						${Number(n)!==0?`animation: spin ${this.calculateDuration(n)}s ${Math.sign(Number(n))===-1?"reverse":"normal"} linear infinite;`:""}
						width: ${s};
						height: ${s};
						display: flex;
						align-items: center;
						justify-content: center;
					}

					.flier${this.flierID} .spinner figure {
						padding: 0;
						margin: 0;
						width: ${s};
						height: ${s};
					}

				
					/* Keyframe values control where the element will begin
						and end its trajectory across the screen. Each rule
						represents a path the element follows across the screen. */
					
				
					@keyframes fly1${this.flierID} {
						${f.fly1}
					}

					@keyframes fly2${this.flierID} {
						${f.fly2}
					}

					@keyframes fly3${this.flierID} {
						${f.fly3}
					}

					@keyframes fly4${this.flierID} {
						${f.fly4}
					}

					@keyframes spin {
						0% {
							transform: rotateZ(0deg);
						}
						100% {
							transform: rotateZ(3600deg);
						}
					}
				`}),m("div",{className:`flier${this.flierID} ${c}${this.flierID}`,ref:this.flierRef,children:m("div",{className:"spinner",children:e.children})})]}),g)]}):null}};hh.defaultProps=oR;lR=hh});var cR,Ec,dR,pR=B(()=>{Ce();We();cR=fe(Se(),1);Gr();te();Ec=class extends xi{constructor(e){super(e),this.uid=cR.default.uniqueId(),this.state={inited:!1,viewportIntersection:"neutral",isVisible:!1,hasLayout:!1,inTransition:{},suppressTransition:!0}}render(e,t){let r=this.state.viewportIntersection,n=this.props["scroll-variables"].split(" ").filter(c=>c!=="").map(c=>"--scroll-"+c);n.push("--scroll-translate","--scroll-transition","--scroll-opacity"),n=n.map(c=>c+": var("+(c.startsWith("--")?"":"--")+c+"-"+r+"); ").join(" ");let s=this.props["scroll-animation-duration"]||"1000",l=Object.values(this.state.inTransition).some(c=>c==!0),u=!!this.props.baseNode.closest(".overlay-animating");return m(Q,{children:[e.children,m("style",{id:"scroll-transition",children:`
				:host {
					--scroll-opacity-above: 1;
				    --scroll-opacity-inside: 1;
				    --scroll-opacity-below: 0;
					opacity: var(--scroll-opacity, 1);
					${l||this.state.waitingForTransition?"will-change: opacity, transform;":""}

					--scroll-transition-above: 0s transform ease-in-out, 0s opacity ease-in-out;
				    --scroll-transition-inside: ${s}ms transform ease-in-out, ${s}ms opacity ease-in-out;
				    --scroll-transition-below: 0s transform ease-in-out, 0s opacity ease-in-out;
					${this.state.suppressTransition||u?"":"transition: var(--scroll-transition);"}

					--scroll-translate-below: translateY(40px);
					--scroll-translate-inside: translateY(0px);
					--scroll-translate-above: translateY(0px);

					${n}
				}

				:host-context(.overlay-content.overlay-animating) {
					transition: none !important;
				}
			`})]})}onViewportIntersectionChange=e=>{this.setState({isVisible:e.visible,viewportIntersection:e.position,hasLayout:e.hasLayout})};onTransitionStart=e=>{e.target===this.props.baseNode&&this.setState(t=>({...t,waitingForTransition:!1,inTransition:{...t.inTransition,[e.propertyName]:!0}}))};onTransitionEnd=e=>{e.target===this.props.baseNode&&this.setState(t=>{let r={...t.inTransition,[e.propertyName]:!1},n=Object.values(r).every(s=>s==!1);return{...t,suppressTransition:n,inTransition:r}})};componentDidMount(){if(this.props.baseNode.addEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.addEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.addEventListener("transitioncancel",this.onTransitionEnd),this.props.customElementMode){let e=this.props.visibility?.visible??!1,t=this.props.visibility?.position??"below",r=this.props.visibility?.hasLayout??!1;this.setState({isVisible:e,viewportIntersection:t,hasLayout:r})}else di(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}componentDidUpdate(e,t){if(this.state.viewportIntersection!==t.viewportIntersection&&(this.state.isVisible?this.setState({waitingForTransition:!0,suppressTransition:!1}):this.state.waitingForTransition||this.setState({suppressTransition:!0})),this.props.customElementMode&&this.props.visibility?.position!==e.visibility?.position){let r=this.props.visibility?.visible?this.props.visibility.visible:!1,n=this.props.visibility?.position||"below",s=this.props.visibility?.hasLayout||!1;this.setState({isVisible:r,viewportIntersection:n,hasLayout:s})}}componentWillUnmount(){clearTimeout(this.transitionCheckTimeout),cancelAnimationFrame(this.viewportAnimFrame),cancelAnimationFrame(this.lazyloadFrame),clearTimeout(this.initTimeout),this.props.baseNode.removeEventListener("transitionstart",this.onTransitionStart),this.props.baseNode.removeEventListener("transitionend",this.onTransitionEnd),this.props.baseNode.removeEventListener("transitioncancel",this.onTransitionEnd),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange)}};Ec.defaultProps={"scroll-variables":""};Ec.transformSlot="--scroll-translate";dR=Ec});var wJ,Pc,fh,SB,hR,fR=B(()=>{Ce();ht();Ni();wJ=fe(Se(),1);te();Pc=new Map,fh=class extends oe{constructor(e){switch(super(e),this.state={z:0,x:0,y:0,interacted:!1,dragging:!1},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}this.preventClick=!1,this.inSlideshow=this.props.baseNode.parentElement.tagName==="GALLERY-SLIDESHOW"}render(e,t){if(e.adminMode)return e.children;let{x:r,y:n,z:s}=t;return m(Q,{children:[e.children,this.inSlideshow?null:m("style",{id:"draggable-item",children:`
				:host {
					${this.props.adminMode?"":`
						pointer-events: auto!important;
						-webkit-user-select: none; 
						-webkit-touch-callout: none;
					`}
					${t.dragging?"--scroll-transition: 0s all!important; cursor: grabbing;":"cursor: grab;"}
					${this.displayInlineBlock?"display: inline-block;":""}
					--drag-transform: ${t.interacted?`translate3d(${r}px, ${n}px, ${s+100}px)`:`translate(${r}px, ${n}px)`};
					${!this.props.adminMode&&t.interacted?`z-index: ${s+100};`:""}					
				}
			`})]})}onDragStart=e=>{e.preventDefault(),e.stopPropagation()};onTouchMove=e=>{e.preventDefault()};onPointerDown=e=>{if(this.props.adminMode||e.button==2||this.inSlideshow)return;this.preventClick=!1;let t=this.state.z;Pc.forEach((r,n)=>{n!==this.props.baseNode&&r.state.z>t&&r.setState(s=>({z:s.z-1}))}),this.setState({x:this.state.x,y:this.state.y,z:Pc.size+10,interacted:!0,dragging:!0}),this.initialPosition={x:e.clientX+-this.state.x,y:e.clientY+-this.state.y},this.mousePosition={x:e.clientX,y:e.clientY},this.accumulatedDelta=0,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{e.preventDefault();let t=e.clientX,r=e.clientY,n=Math.sqrt(Math.pow(this.mousePosition.x-t,2)+Math.pow(this.mousePosition.y-r,2));this.accumulatedDelta+=n,this.accumulatedDelta>4&&(this.preventClick=!0),this.mousePosition={x:e.clientX,y:e.clientY},this.setState({x:e.clientX-this.initialPosition.x,y:e.clientY-this.initialPosition.y})};onPointerUp=e=>{this.setState({dragging:!1}),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onClickCapture=e=>{this.preventClick&&(e.preventDefault(),e.stopPropagation())};bindListeners=()=>{this.props.adminMode||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.props.baseNode.addEventListener("pointerdown",this.onPointerDown),this.props.baseNode.addEventListener("touchmove",this.onTouchMove),this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}))};unbindListeners=()=>{this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("pointerdown",this.onPointerDown),this.props.baseNode.removeEventListener("touchmove",this.onTouchMove),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0})};componentDidMount(){this.bindListeners(),Pc.set(this.props.baseNode,this),this.setState({z:Pc.size+10})}componentDidUpdate(e,t){e.adminMode!==this.props.adminMode&&(this.setState({x:0,y:0,z:0,interacted:!1}),this.unbindListeners(),this.bindListeners())}componentWillUnmount(){this.unbindListeners(),Pc.delete(this.props.baseNode)}};fh.transformSlot="--drag-transform";SB=Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(fh),hR=SB});var mR,pb=B(()=>{mR={"dropshadow-offset":"0rem","dropshadow-color":"rgba(0,0,0,.85)","dropshadow-blur-radius":"0rem"}});var PJ,mh,gR,vR=B(()=>{Ce();PJ=fe(Se(),1);pb();te();mh=class extends oe{constructor(e){super(e)}render(e,t){let r=this.props["dropshadow-offset"].split(" "),n=r[0],s=r.length>1?r[1]:r[0];return m(Q,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            filter: drop-shadow(${s} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}):m("style",{children:`
                        :host {
                            filter: drop-shadow(${s} ${n} ${this.props["dropshadow-blur-radius"]} ${this.props["dropshadow-color"]});
                        }
                    `}),e.children]})}};mh.defaultProps=mR;gR=mh});var kJ,gh,bR,yR=B(()=>{Ce();kJ=fe(Se(),1);te();gh=class extends oe{constructor(e){super(e)}render(e,t){return m(Q,{children:[e.baseNode.tagName==="MEDIA-ITEM"?m("style",{children:`
                        img {
                            background-color: ${this.props["background-color"]};
                        }
                    `}):m("style",{children:`
                        :host {
                            background-color: ${this.props["background-color"]};
                        }
                    `}),e.children]})}};gh.defaultProps={"background-color":"rgba(0,0,0,0)"};bR=gh});var FJ,vh,wR,xR=B(()=>{Ce();FJ=fe(Se(),1);pb();te();vh=class extends oe{constructor(e){super(e)}render(e,t){let r=Object.keys(e).reduce((n,s)=>{if(s.includes("-style")){let l=s.replace("-style","");n.push({part:l,styles:e[s]?e[s].replaceAll(";","!important;"):""})}return n},[]);return m(Q,{children:[m("style",{children:r.map(({part:n,styles:s})=>`[part*="${n}"] { ${s} }`)}),e.children]})}};vh.defaultProps={};wR=vh});var SR=B(()=>{});var VJ,bh,_R,CR=B(()=>{Ce();VJ=fe(Se(),1);SR();te();bh=class extends oe{constructor(e){super(e)}calculateDuration(e){return 5*(Math.max(100-Math.abs(e),5)*.01)}render(e,t){let r=this.calculateDuration(Number(this.props["blink-speed"])),n=Math.max(99.9-this.props["blink-pulse"],.1),s="steps(1)";switch(!0){case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="linear"):s="linear";break;case(isNaN(Number(this.props["blink-transition"]))&&this.props["blink-transition"]=="ease"):s="ease";break;case Number(this.props["blink-transition"])>0:s="ease";break}return m(Q,{children:[e.children,m("style",{children:`
					:host {
						animation: ${r}s infinite ${s} blink;
						-webkit-animation: ${r}s infinite ${s} blink;
					}
					
					@keyframes blink {
						0% {
							opacity: 0;
						}
						50% {
							opacity: 1;
						}
						100% {
							opacity: 0;
						}
					}
				`})]})}};bh.defaultProps={"blink-transition":"0","blink-speed":"75","blink-pulse":"50"};_R=bh});var Ic,yh,dn,hb,wh,ya=B(()=>{Ce();We();Ic=fe(Se(),1);Ne();to();Gr();tR();nR();uR();pR();fR();vR();yR();xR();CR();Jn();te();yh=new Set,dn=class extends oe{constructor(e){switch(super(e),se||(this.observer=new MutationObserver(this.onAttributeChange)),this.usesOrder=["blink","dropshadow","drag","rotation","eye-roll","scroll-animate","flying-object","inline-part-styles"],this.state={attributes:this.getAttributes()},this.usesKeys={rotation:rR,"eye-roll":eR,drag:hR,"scroll-transition":dR,"flying-object":lR,dropshadow:gR,background:bR,"inline-part-styles":wR,blink:_R},this.props.baseNode.tagName){case"DIV":case"SPAN":case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"H7":case"H8":case"H9":this.displayInlineBlock=!0;break;default:this.displayInlineBlock=!1;break}}render(e,t){let r=e.customElementMode?this.props.children:m("slot",{});if(t.attributes.uses.length==0)return m(Q,{children:[m("style",{id:"uses-host",children:`
			:host {
				transform-origin: center center;
				transform: var(--base-translate, translate(0));
			}
			`}),r]},"uses-fragment");let n=[];t.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&this.usesKeys[l].transformSlot&&n.push(this.usesKeys[l].transformSlot)}),t.attributes.uses.forEach((l,u)=>{this.usesKeys[l]&&(r=Vt(this.props.customElementMode?this.usesKeys[l]:Zn(this.usesKeys[l]),{...this.state.attributes,...this.props,lowestLevel:u==0,baseNode:this.props.baseNode,children:r,transformSlots:n}))});let s=m(Q,{children:[this.props.adminMode&&!e.customElementMode&&m(Oi,{baseNode:this.props.baseNode}),m("style",{id:"uses-host",children:`
			:host(span){
				display: inline-block;
			}

			:host {
				position: relative;
				transform-origin: center center;
				transform: var(--base-translate, translate(0)) ${n.map(l=>`var(${l}, translate(0))`).join(" ")};
				${this.displayInlineBlock?"display: inline-block;":""}
			}

			${this.props.adminMode&&!e.customElementMode?`:host::selection {
				background: none;
			}`:""}
			`}),r]},"uses-fragment");return e.customElementMode?s:Ge(s,this.props.baseNode.shadowRoot)}componentDidMount(){this.observer?.observe(this.props.baseNode,{attributes:!0})}componentDidUpdate(e,t){e.uses!==this.props.uses&&this.setState({attributes:this.getAttributes()})}componentWillUnmount(){this.observer?.disconnect()}getAttributes=()=>{let e={};for(let[r,n]of Object.entries(this.state?.attributes||{}))e[r]=void 0;let t=[...this.props.baseNode.attributes].reduce((r,n)=>(r[n.name]=n.value,r),{});for(let[r,n]of Object.entries(t))n==="false"?t[r]=!1:n==="true"&&(t[r]=!0);return this.props.customElementMode&&(t.uses=(t.uses||"")+" "+this.props.uses),t.uses=t.uses?.split(" ")||[],t.uses=Ic.default.uniq(t.uses),t.uses.sort((r,n)=>this.usesOrder.indexOf(r)<this.usesOrder.indexOf(n)?-1:1),{...e,...t}};onAttributeChange=e=>{if(!e.some(n=>n.attributeName!=="style"&&n.attributeName!=="class"))return;let r=this.getAttributes();if(r.uses.length===0){if(this.props.removeFromUseList&&!this.props.customElementMode){this.props.removeFromUseList(this.props.baseNode);return}}else Ic.default.isEqual(this.state.attributes,r)||this.setState({attributes:r})}};dn.defaultProps={uses:[]};hb=class extends oe{constructor(e){super(e),this.mutationsList=[],this.hasRunFirstMutationSummary=!1,!se&&!this.props.customElementMode&&(this.observer=new MutationObserver(this.onMutation))}render(){return this.props.children}componentDidMount(){let e=Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]"));e=e.filter(t=>!window.customElements.get(t.tagName.toLowerCase())),e.forEach(this.addToUseList),this.observer?.observe(this.props.bodycopyRef.current,{attributes:!0,subtree:!0,childList:!0,attributeFilter:["uses"],attributeOldValue:!0})}componentWillUnmount(){this.observer?.disconnect(),Array.from(this.props.bodycopyRef.current.querySelectorAll("[uses]")).forEach(this.removeFromUseList)}onMutation=e=>{this.mutationsList.push(...e),cancelAnimationFrame(this.onSummaryAnimationFrame),this.hasRunFirstMutationSummary?this.onSummaryAnimationFrame=requestAnimationFrame(this.onSummary):(this.onSummary(),this.hasRunFirstMutationSummary=!0)};onSummary=()=>{let e=this.mutationsList,t=[],r=[];e.forEach(n=>{let s=Array.from(n.addedNodes),l=Array.from(n.removedNodes);s.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(t=[...t,...Array.from(u.querySelectorAll("[uses]"))])}),l.forEach(u=>{u.nodeType===Node.ELEMENT_NODE&&(r=[...r,...Array.from(u.querySelectorAll("[uses]"))])}),t=[...t,...s.filter(u=>u.hasAttribute?.("uses"))],r=[...r,...l.filter(u=>u.hasAttribute?.("uses"))],n.type==="attributes"&&(n.oldValue===null?t.push(n.target):n.target.getAttribute("uses")===null&&r.push(n.target))}),t=Ic.default.uniq(t),r=Ic.default.uniq(r),t=t.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),r=r.filter(n=>!window.customElements.get(n.tagName.toLowerCase())),t=t.filter(n=>n.hasAttribute("uses")),r=r.filter(n=>!n.hasAttribute("uses")),t.forEach(this.addToUseList),r.forEach(this.removeFromUseList),this.mutationsList=[]};addToUseList=e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;if(!e.shadowRoot)try{e.attachShadow({mode:"open"})}catch{CargoEditor?.mutationManager?.execute(()=>{let n={};e.hasAttribute("uses")&&(n.uses=e.getAttribute("uses")),e.hasAttribute("rotation")&&(n.rotation=e.getAttribute("rotation")),e.hasAttribute("animate")&&(n.animate=e.getAttribute("animate")),e.hasAttribute("scroll-transition")&&(n["scroll-transition"]=e.getAttribute("scroll-transition"));let s=document.createElement("span");for(let u in n)s.setAttribute(u,n[u]);e.parentNode.insertBefore(s,e);let l=CargoEditor?.getActiveRange();CargoEditor.helpers.movePreservingRanges(e,s,-1,l),s.attachShadow({mode:"open"}),e.removeAttribute("scroll-transition"),e.removeAttribute("uses"),e.removeAttribute("animate"),e.removeAttribute("rotation"),e=s});return}yh.has(e)||yh.add(e);let t={component:m(dn,{customElementMode:!1,baseNode:e,adminMode:this.props.adminMode,removeFromUseList:this.removeFromUseList}),element:e,portalHost:null};jt(e,"custom-element-connected",t),this.portalHost=t.portalHost};removeFromUseList=e=>{if(jt(e,"custom-element-disconnected",{component:null,element:e,portalHost:this.portalHost}),yh.has(e)&&(yh.delete(e),e.shadowRoot&&document.body.contains(e)))if(CargoEditor?.mutationManager)CargoEditor?.mutationManager?.execute(()=>{let t=document.createElement("div");t.innerHTML=e.outerHTML,e.replaceWith(t.childNodes[0])});else{let t=document.createElement("div");t.innerHTML=e.outerHTML,e.replaceWith(t.childNodes[0])}}},wh=hb});var Ac={};ii(Ac,{default:()=>_B});var fb,_B,ER=B(()=>{Ne();fb={name:"wallpaper",excludeFromShuffle:!0,options:[{labelName:"Image",name:"activeImage",type:"image",value:"default"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"image-fit",type:"radio",value:"fill",values:[{labelName:"Fill Window",value:"fill"},{labelName:"Fit Window",value:"fit"}]},{labelName:"Display as Slideshow",name:"cycle-group",type:"details-menu",toggle:{name:"cycle-images",type:"check-box",value:!1},children:[{labelName:void 0,name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"range-input",value:3,min:0,max:20,step:.1},{labelName:"Transition Speed",name:"transition-speed",type:"range-input",value:.8,min:0,max:10,step:.1},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!1},{labelName:"Navigation",name:"navigation",type:"check-box",value:!1}]},{labelName:"Opacity",name:"opacity",type:"range-input",value:1,min:0,max:1,step:.01,excludeFromShuffle:!0},{type:"color",labelName:"Background Color",name:"bg-color",value:"transparent",showField:!0},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{name:"alignments",type:"custom",value:null}]};fb.defaults=at(fb.options);_B=fb});var Rc={};ii(Rc,{default:()=>CB});var xh,CB,PR=B(()=>{Ne();xh={name:"gradient",options:[{type:"custom",name:"gradient-preset"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{name:"gradient-type",type:"radio",value:"linear",values:[{labelName:"Linear",value:"linear"},{labelName:"Radial",value:"radial"}]},{type:"checkbox-color",checkbox:{labelName:"Color One",name:"color-one-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color One",name:"color-one",value:"#f2c409",requirements:[{option:"color-one-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Two",name:"color-two-active",type:"check-box",value:!1},color:{type:"color",labelName:"Color Two",name:"color-two",value:"#02ff00",requirements:[{option:"color-two-active",shouldBe:!0}]}},{type:"checkbox-color",checkbox:{labelName:"Color Three",name:"color-three-active",type:"check-box",value:!0},color:{type:"color",labelName:"Color Three",name:"color-three",value:"#fe2201",requirements:[{option:"color-three-active",shouldBe:!0}]}},{type:"spacer"},{type:"group",className:"grid-columns-even",requirements:[{option:"gradient-type",shouldBe:"radial"}],children:[{labelName:"X",name:"pos-x",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5},{labelName:"Y",name:"pos-y",type:"scrubber",numberOnlyMode:!0,suffix:"%",requirements:[{option:"gradient-type",shouldBe:"radial"}],value:0,min:-150,max:150,step:.5}]},{labelName:"Rotation",name:"rotation",type:"scrubber",suffix:"\xB0",requirements:[{option:"gradient-type",shouldBe:"linear"}],loopValues:!0,numberOnlyMode:!0,value:0,min:0,max:360,step:1},{labelName:"Smoothness",name:"smoothness",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:0,max:100,step:.1},{labelName:"Scale",name:"scale",type:"scrubber",numberOnlyMode:!0,suffix:"%",value:50,min:.1,max:100,step:.1},{type:"group",className:"grid-columns-even",children:[{labelName:"Repeat",name:"repeat",type:"check-box",value:!1},{labelName:"Animation",name:"animation-speed",type:"range-input",requirements:[{option:"repeat",shouldBe:!0}],renderWhenDisabled:!0,value:0,min:-100,max:100,step:1}]}]};xh.defaults=at(xh.options);xh.customShuffle=i=>{let e={...i},t=Math.floor(Math.random()*256),r=Math.floor(Math.random()*256),n=Math.floor(Math.random()*256);switch(Math.floor(Math.random()*20)){case 0:t=r=n=0;break;case 1:t=r=n=255;break;case 2:case 3:t=r=n;break}e["color-one"]="rgb("+t+", "+r+", "+n+")";let l=[];if(Math.random()>.3)for(var u=0;u<3;u++)l.push(Math.random()*240+-120);else l[0]=l[1]=l[2]=Math.random()*240+-120;let c=Math.floor(t+l[0]+1024)%256,d=Math.floor(r+l[1]+1024)%256,f=Math.floor(n+l[2]+1024)%256;e["color-two"]="rgb("+c+", "+d+", "+f+")";let g=Math.floor((t+l[0]+1024)*2)%256,v=Math.floor((r+l[1]+1024)*2)%256,S=Math.floor((n+l[2]+1024)*2)%256;return e["color-three"]="rgb("+g+", "+v+", "+S+")",e["color-one-active"]=!0,Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!0):Math.random()>.4?(e["color-two-active"]=!0,e["color-three-active"]=!1):e["color-three-active"]=!0,Math.random()>.5&&(e["animation-speed"]=0),Math.random()>.5&&(e.rotation=Math.round(e.rotation/45)*45),Math.random()>.5&&(e["pos-x"]=0),Math.random()>.5&&(e["pos-y"]=0),Math.random()>.8&&(e.smoothness=100),e};CB=xh});var gb={};ii(gb,{default:()=>PB,onChangeCustom:()=>EB});var wQ,EB,mb,PB,IR=B(()=>{Ne();wQ=fe(Se()),EB=(i,e,t)=>{let r={};for(let[s,l]of Object.entries(e))i[s]!=l&&(r[s]=l);let n=JSON.parse(e.filters);for(let[s,l]of Object.entries(r))switch(s){case"filters":t.UpdateFilters(n);break;case"rgb":case"film":case"badtv":t.ToggleComponent(n);break;case"image":t.UpdateImage(l);break;default:t.UpdateSettings(e)}},mb={name:"badtv",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Bad TV",name:"badtv-group",type:"details-menu",toggle:{name:"badtv",type:"check-box",value:!0},children:[{name:"distortion",labelName:"Thick Distortion",type:"range-input",value:3,min:.1,max:10,step:.1,interactive:!0,noisePosn:1,randMin:2.8,randMax:3.2,randRange:"low"},{name:"distortion2",labelName:"Fine Distortion",type:"range-input",value:1,min:.1,max:10,step:.1,noisePosn:20,randMin:1,randMax:5,automate:!0},{name:"speed",labelName:"Distortion Speed",type:"range-input",value:.1,min:0,max:.3,step:.01,noisePosn:40,randMin:0,randMax:.1,randRange:"low"},{name:"rollSpeed",labelName:"Roll Speed",type:"range-input",value:.05,min:0,max:.2,step:.01,noisePosn:50,randMin:0,randMax:.6,randRange:"low"}]},{labelName:"RGB Shift",name:"rgb-group",type:"details-menu",toggle:{name:"rgb",type:"check-box",value:!0},children:[{name:"amount",labelName:"Amount",type:"range-input",value:.005,min:0,max:.1,step:.001,interactive:!0,noisePosn:60,randMin:0,randMax:.025,randRange:"low"},{name:"angle",labelName:"Angle",type:"range-input",value:0,min:0,max:6.28,step:.01,noisePosn:80,randMin:0,randMax:6.28,automate:!0}]},{labelName:"Scanlines",name:"film-group",type:"details-menu",toggle:{name:"film",type:"check-box",value:!0},children:[{name:"sCount",labelName:"Amount",value:800,type:"range-input",min:400,max:1e3,step:1,noisePosn:90,randMin:650,randMax:1e3,randRange:"high"},{name:"sIntensity",labelName:"Strength",value:.95,type:"range-input",min:0,max:2,step:.01},{name:"nIntensity",labelName:"Noise",value:.28,type:"range-input",min:0,max:2,step:.01}]},{type:"spacer"},{labelName:"Automate",name:"automate",type:"check-box",value:!1},{labelName:"Interactive",name:"interactive",type:"check-box",value:!1}]};mb.defaults=at(mb.options);PB=mb});function Sh(i){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(i)}function Me(i,e){if(i=i||"",e=e||{},i instanceof Me)return i;if(!(this instanceof Me))return new Me(i,e);var t=RB(i);this._originalInput=i,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}function RB(i){var e={r:0,g:0,b:0},t=1,r=null,n=null,s=null,l=!1,u=!1;return typeof i=="string"&&(i=KB(i)),Sh(i)=="object"&&(Uo(i.r)&&Uo(i.g)&&Uo(i.b)?(e=MB(i.r,i.g,i.b),l=!0,u=String(i.r).substr(-1)==="%"?"prgb":"rgb"):Uo(i.h)&&Uo(i.s)&&Uo(i.v)?(r=Mc(i.s),n=Mc(i.v),e=kB(i.h,r,n),l=!0,u="hsv"):Uo(i.h)&&Uo(i.s)&&Uo(i.l)&&(r=Mc(i.s),s=Mc(i.l),e=TB(i.h,r,s),l=!0,u="hsl"),i.hasOwnProperty("a")&&(t=i.a)),t=DR(t),{ok:l,format:i.format||u,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function MB(i,e,t){return{r:Qt(i,255)*255,g:Qt(e,255)*255,b:Qt(t,255)*255}}function AR(i,e,t){i=Qt(i,255),e=Qt(e,255),t=Qt(t,255);var r=Math.max(i,e,t),n=Math.min(i,e,t),s,l,u=(r+n)/2;if(r==n)s=l=0;else{var c=r-n;switch(l=u>.5?c/(2-r-n):c/(r+n),r){case i:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-i)/c+2;break;case t:s=(i-e)/c+4;break}s/=6}return{h:s,s:l,l:u}}function TB(i,e,t){var r,n,s;i=Qt(i,360),e=Qt(e,100),t=Qt(t,100);function l(d,f,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?d+(f-d)*6*g:g<1/2?f:g<2/3?d+(f-d)*(2/3-g)*6:d}if(e===0)r=n=s=t;else{var u=t<.5?t*(1+e):t+e-t*e,c=2*t-u;r=l(c,u,i+1/3),n=l(c,u,i),s=l(c,u,i-1/3)}return{r:r*255,g:n*255,b:s*255}}function RR(i,e,t){i=Qt(i,255),e=Qt(e,255),t=Qt(t,255);var r=Math.max(i,e,t),n=Math.min(i,e,t),s,l,u=r,c=r-n;if(l=r===0?0:c/r,r==n)s=0;else{switch(r){case i:s=(e-t)/c+(e<t?6:0);break;case e:s=(t-i)/c+2;break;case t:s=(i-e)/c+4;break}s/=6}return{h:s,s:l,v:u}}function kB(i,e,t){i=Qt(i,360)*6,e=Qt(e,100),t=Qt(t,100);var r=Math.floor(i),n=i-r,s=t*(1-e),l=t*(1-n*e),u=t*(1-(1-n)*e),c=r%6,d=[t,l,s,s,u,t][c],f=[u,t,t,l,s,s][c],g=[s,s,u,t,t,l][c];return{r:d*255,g:f*255,b:g*255}}function MR(i,e,t,r){var n=[Dn(Math.round(i).toString(16)),Dn(Math.round(e).toString(16)),Dn(Math.round(t).toString(16))];return r&&n[0].charAt(0)==n[0].charAt(1)&&n[1].charAt(0)==n[1].charAt(1)&&n[2].charAt(0)==n[2].charAt(1)?n[0].charAt(0)+n[1].charAt(0)+n[2].charAt(0):n.join("")}function NB(i,e,t,r,n){var s=[Dn(Math.round(i).toString(16)),Dn(Math.round(e).toString(16)),Dn(Math.round(t).toString(16)),Dn(OR(r))];return n&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function TR(i,e,t,r){var n=[Dn(OR(r)),Dn(Math.round(i).toString(16)),Dn(Math.round(e).toString(16)),Dn(Math.round(t).toString(16))];return n.join("")}function DB(i,e){e=e===0?0:e||10;var t=Me(i).toHsl();return t.s-=e/100,t.s=_h(t.s),Me(t)}function OB(i,e){e=e===0?0:e||10;var t=Me(i).toHsl();return t.s+=e/100,t.s=_h(t.s),Me(t)}function LB(i){return Me(i).desaturate(100)}function FB(i,e){e=e===0?0:e||10;var t=Me(i).toHsl();return t.l+=e/100,t.l=_h(t.l),Me(t)}function zB(i,e){e=e===0?0:e||10;var t=Me(i).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Me(t)}function HB(i,e){e=e===0?0:e||10;var t=Me(i).toHsl();return t.l-=e/100,t.l=_h(t.l),Me(t)}function UB(i,e){var t=Me(i).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,Me(t)}function qB(i){var e=Me(i).toHsl();return e.h=(e.h+180)%360,Me(e)}function kR(i,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Me(i).toHsl(),r=[Me(i)],n=360/e,s=1;s<e;s++)r.push(Me({h:(t.h+s*n)%360,s:t.s,l:t.l}));return r}function BB(i){var e=Me(i).toHsl(),t=e.h;return[Me(i),Me({h:(t+72)%360,s:e.s,l:e.l}),Me({h:(t+216)%360,s:e.s,l:e.l})]}function WB(i,e,t){e=e||6,t=t||30;var r=Me(i).toHsl(),n=360/t,s=[Me(i)];for(r.h=(r.h-(n*e>>1)+720)%360;--e;)r.h=(r.h+n)%360,s.push(Me(r));return s}function $B(i,e){e=e||6;for(var t=Me(i).toHsv(),r=t.h,n=t.s,s=t.v,l=[],u=1/e;e--;)l.push(Me({h:r,s:n,v:s})),s=(s+u)%1;return l}function jB(i){var e={};for(var t in i)i.hasOwnProperty(t)&&(e[i[t]]=t);return e}function DR(i){return i=parseFloat(i),(isNaN(i)||i<0||i>1)&&(i=1),i}function Qt(i,e){GB(i)&&(i="100%");var t=YB(i);return i=Math.min(e,Math.max(0,parseFloat(i))),t&&(i=parseInt(i*e,10)/100),Math.abs(i-e)<1e-6?1:i%e/parseFloat(e)}function _h(i){return Math.min(1,Math.max(0,i))}function Yr(i){return parseInt(i,16)}function GB(i){return typeof i=="string"&&i.indexOf(".")!=-1&&parseFloat(i)===1}function YB(i){return typeof i=="string"&&i.indexOf("%")!=-1}function Dn(i){return i.length==1?"0"+i:""+i}function Mc(i){return i<=1&&(i=i*100+"%"),i}function OR(i){return Math.round(parseFloat(i)*255).toString(16)}function NR(i){return Yr(i)/255}function Uo(i){return!!Nn.CSS_UNIT.exec(i)}function KB(i){i=i.replace(IB,"").replace(AB,"").toLowerCase();var e=!1;if(vb[i])i=vb[i],e=!0;else if(i=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=Nn.rgb.exec(i))?{r:t[1],g:t[2],b:t[3]}:(t=Nn.rgba.exec(i))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=Nn.hsl.exec(i))?{h:t[1],s:t[2],l:t[3]}:(t=Nn.hsla.exec(i))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=Nn.hsv.exec(i))?{h:t[1],s:t[2],v:t[3]}:(t=Nn.hsva.exec(i))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=Nn.hex8.exec(i))?{r:Yr(t[1]),g:Yr(t[2]),b:Yr(t[3]),a:NR(t[4]),format:e?"name":"hex8"}:(t=Nn.hex6.exec(i))?{r:Yr(t[1]),g:Yr(t[2]),b:Yr(t[3]),format:e?"name":"hex"}:(t=Nn.hex4.exec(i))?{r:Yr(t[1]+""+t[1]),g:Yr(t[2]+""+t[2]),b:Yr(t[3]+""+t[3]),a:NR(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=Nn.hex3.exec(i))?{r:Yr(t[1]+""+t[1]),g:Yr(t[2]+""+t[2]),b:Yr(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function XB(i){var e,t;return i=i||{level:"AA",size:"small"},e=(i.level||"AA").toUpperCase(),t=(i.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}var IB,AB,vb,VB,Nn,io=B(()=>{IB=/^\s+/,AB=/\s+$/;Me.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,n,s,l,u;return t=e.r/255,r=e.g/255,n=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),r<=.03928?l=r/12.92:l=Math.pow((r+.055)/1.055,2.4),n<=.03928?u=n/12.92:u=Math.pow((n+.055)/1.055,2.4),.2126*s+.7152*l+.0722*u},setAlpha:function(e){return this._a=DR(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=RR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=RR(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=AR(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=AR(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),n=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return MR(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return NB(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(Qt(this._r,255)*100)+"%",g:Math.round(Qt(this._g,255)*100)+"%",b:Math.round(Qt(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(Qt(this._r,255)*100)+"%, "+Math.round(Qt(this._g,255)*100)+"%, "+Math.round(Qt(this._b,255)*100)+"%)":"rgba("+Math.round(Qt(this._r,255)*100)+"%, "+Math.round(Qt(this._g,255)*100)+"%, "+Math.round(Qt(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:VB[MR(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+TR(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var s=Me(e);r="#"+TR(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0,s=!t&&n&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Me(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(FB,arguments)},brighten:function(){return this._applyModification(zB,arguments)},darken:function(){return this._applyModification(HB,arguments)},desaturate:function(){return this._applyModification(DB,arguments)},saturate:function(){return this._applyModification(OB,arguments)},greyscale:function(){return this._applyModification(LB,arguments)},spin:function(){return this._applyModification(UB,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(WB,arguments)},complement:function(){return this._applyCombination(qB,arguments)},monochromatic:function(){return this._applyCombination($B,arguments)},splitcomplement:function(){return this._applyCombination(BB,arguments)},triad:function(){return this._applyCombination(kR,[3])},tetrad:function(){return this._applyCombination(kR,[4])}};Me.fromRatio=function(i,e){if(Sh(i)=="object"){var t={};for(var r in i)i.hasOwnProperty(r)&&(r==="a"?t[r]=i[r]:t[r]=Mc(i[r]));i=t}return Me(i,e)};Me.equals=function(i,e){return!i||!e?!1:Me(i).toRgbString()==Me(e).toRgbString()};Me.random=function(){return Me.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};Me.mix=function(i,e,t){t=t===0?0:t||50;var r=Me(i).toRgb(),n=Me(e).toRgb(),s=t/100,l={r:(n.r-r.r)*s+r.r,g:(n.g-r.g)*s+r.g,b:(n.b-r.b)*s+r.b,a:(n.a-r.a)*s+r.a};return Me(l)};Me.readability=function(i,e){var t=Me(i),r=Me(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};Me.isReadable=function(i,e,t){var r=Me.readability(i,e),n,s;switch(s=!1,n=XB(t),n.level+n.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Me.mostReadable=function(i,e,t){var r=null,n=0,s,l,u,c;t=t||{},l=t.includeFallbackColors,u=t.level,c=t.size;for(var d=0;d<e.length;d++)s=Me.readability(i,e[d]),s>n&&(n=s,r=Me(e[d]));return Me.isReadable(i,r,{level:u,size:c})||!l?r:(t.includeFallbackColors=!1,Me.mostReadable(i,["#fff","#000"],t))};vb=Me.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},VB=Me.hexNames=jB(vb);Nn=function(){var i="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+i+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}()});var bb={};ii(bb,{default:()=>JB,onChangeCustom:()=>ZB});var CQ,ZB,Tc,JB,LR=B(()=>{Ne();CQ=fe(Se());io();ZB=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);r.hasOwnProperty("color_r")&&(t.Update("color_r",r.color_r),delete r.color_r),r.hasOwnProperty("color_g")&&(t.Update("color_g",r.color_g),delete r.color_g),r.hasOwnProperty("color_b")&&(t.Update("color_b",r.color_b),delete r.color_b);for(let[n,s]of Object.entries(r))t.Update(n,s)},Tc={name:"parallax",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Knockout Mask",name:"knockout_shape",type:"radio",value:"triangle",values:[{customLabel:"RectangleIcon",value:"rectangle"},{customLabel:"SquareIcon",value:"square"},{customLabel:"TriangleIcon",value:"triangle"},{customLabel:"CircleIcon",value:"circle"}]},{labelName:"Knockout Blur",name:"knockout_blur",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Size",name:"knockout",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Knockout Rotation",name:"knockout_rotation",type:"range-input",loopValues:!0,value:171,suffix:"\xB0",min:0,max:360,step:1},{type:"spacer"},{labelName:void 0,name:"movement_direction",type:"radio",value:"xy",values:[{labelName:"X/Y Axes",value:"xy"},{labelName:"Z Axis",value:"z"}]},{labelName:"Movement Direction",name:"xy_direction",type:"range-input",loopValues:!0,value:285,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:"Layers",name:"layers",type:"range-input",value:3,min:2,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"xy"}]},{labelName:void 0,name:"z_direction",type:"radio",value:"inwards",values:[{labelName:"Inwards",value:"inwards"},{labelName:"Outwards",value:"outwards"}],requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Layers",name:"z_layers",type:"range-input",value:4,min:4,max:15,step:1,requirements:[{option:"movement_direction",shouldBe:"z"}]},{labelName:"Speed",name:"speed",type:"range-input",value:30,suffix:"%",min:0,max:100,step:1},{labelName:"Depth",name:"depth",type:"range-input",value:35,suffix:"%",min:0,max:100,step:.5},{labelName:"Base Rotation",name:"base_rotation",type:"range-input",loopValues:!0,value:50,suffix:"\xB0",min:0,max:360,step:1},{labelName:"Skew",name:"skew",type:"range-input",loopValues:!0,value:-50,suffix:"\xB0",min:-1080,max:1080,step:1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",name:"mouse_speed",type:"range-input",value:68,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{type:"spacer"},{labelName:"Background Color",name:"background_color",type:"color",value:"#FFFFFF00"},{labelName:"See-Through",name:"see_through",type:"check-box",value:!1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#FFFFFF00",excludeFromShuffle:!0}]};Tc.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.hasOwnProperty("background_color")&&e?.background_color===null&&(e.background_color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.overlay_hex=t.toHexString(),e.overlay_alpha=t.getAlpha()}if(e.background_color){let t=Me(e.background_color),r=t.toRgb();e.color_r=r.r,e.color_g=r.g,e.color_b=r.b,e.alpha=r.a,e.hex_color=t.toHexString()}return e};Tc.defaults=at(Tc.options);Tc.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";JB=Tc});var yb={};ii(yb,{default:()=>eW,onChangeCustom:()=>QB});var AQ,QB,Ol,eW,FR=B(()=>{Ne();AQ=fe(Se());io();QB=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Ol={name:"refraction",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"reflection_type",type:"radio",value:"reflection",values:[{labelName:"Reflection",value:"reflection"},{labelName:"Refraction",value:"refraction"}]},{labelName:"Flip Image",name:"flip",type:"check-box",value:!0},{labelName:"Refraction Ratio",name:"refraction_ratio",type:"range-input",requirements:[{option:"reflection_type",shouldBe:"refraction"}],value:19,min:0,max:100,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Range",name:"mouse_speed",type:"range-input",value:63,min:0,max:100,step:.1},{labelName:"Dynamic Image Refraction",name:"refract_interaction",type:"check-box",value:!1,requirements:[{option:"reflection_type",shouldBe:"refraction"}]},{labelName:null,name:"refract_motion",type:"radio",value:"speed",requirements:[{option:"reflection_type",shouldBe:"refraction"},{option:"refract_interaction",shouldBe:!0}],values:[{labelName:"Gather",value:"gather"},{labelName:"Disperse",value:"disperse"},{labelName:"Speed",value:"speed"}]},{type:"spacer"},{labelName:"Geometry: ",name:"geometry",type:"select",values:[{labelName:"Fullerene",value:"buckyball_3"},{labelName:"Compound Eye",value:"compoundeye_2"},{labelName:"Shattered Glass",value:"shattered"},{labelName:"Shard",value:"shard"},{labelName:"Warped Glass",value:"warped_glass_3"},{labelName:"Tube",value:"tube"},{labelName:"Cubic",value:"cubic"},{labelName:"Turbine",value:"turbine"},{labelName:"Icosahedron",value:"icosahedron_small"},{labelName:"Geodesic",value:"icosahedron_2"}]},{labelName:"Geometry Zoom",name:"zoom",type:"range-input",value:100,min:100,max:300,step:1},{labelName:"Rotation X",name:"rot_x",type:"range-input",value:145,min:0,max:360,step:1},{labelName:"Rotation Y",name:"rot_y",type:"range-input",value:195,min:0,max:360,step:1},{labelName:"Rotation Z",name:"rot_z",type:"range-input",value:115,min:0,max:360,step:1},{labelName:"Rotation Speed X",name:"rot_speed_x",type:"range-input",value:3.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Y",name:"rot_speed_y",type:"range-input",value:-1.5,min:-20,max:20,step:.1},{labelName:"Rotation Speed Z",name:"rot_speed_z",type:"range-input",value:2,min:-20,max:20,step:.1},{type:"spacer"},{labelName:"Color Overlay",name:"color",type:"color",value:"#ffffff00"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Multiply",value:"multiply_color"},{labelName:"Screen",value:"screen_color"}]}]};Ol.defaults=at(Ol.options);Ol.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";Ol.defaults.rgb={value:"rgb(255,255,255)"};Ol.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgb(255,255,255)"),e.color){let t=Me(e.color);e.rgb=t.toRgbString(),e.color=t.toRgbString(),e.alpha=t.getAlpha()}return e};eW=Ol});var wb={};ii(wb,{default:()=>iW,onChangeCustom:()=>tW});var kQ,tW,Ll,iW,zR=B(()=>{Ne();kQ=fe(Se());io();tW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Ll={name:"ripples",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Distortion X",name:"scaleX",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Distortion Y",name:"scaleY",type:"range-input",value:20,min:0,max:100,step:1},{labelName:"Scale",name:"scale",type:"range-input",value:1,min:1,max:10,step:.01},{labelName:"Speed",name:"target_speed",type:"range-input",value:9,min:0,max:100,step:.1},{labelName:"Direction",name:"direction",type:"scrubber",numberOnlyMode:!0,value:245,min:0,max:360,loopValues:!0,suffix:"\xB0",step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Sensitivity",requires:"mouse_sensitivity",name:"mouse_sensitivity",type:"range-input",value:100,min:0,max:100,step:1},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0}]};Ll.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};Ll.defaults=at(Ll.options);Ll.defaults.alpha={value:0};Ll.defaults.hex={value:"#fff"};iW=Ll});var xb={};ii(xb,{default:()=>nW,onChangeCustom:()=>rW});var LQ,rW,Fl,nW,HR=B(()=>{Ne();LQ=fe(Se());io();rW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Fl={name:"slitscan",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"orientation",type:"radio",value:"horizontal",values:[{labelName:"Horizontal",value:"horizontal"},{labelName:"Vertical",value:"vertical"}]},{labelName:"Scan Size",name:"scan_size",type:"range-input",value:90,min:0,max:100,step:.1},{labelName:"Short Wave",name:"scan_cycles",type:"range-input",value:1,min:0,max:20,step:.1},{labelName:"Wiggle",name:"wiggle",type:"range-input",value:20,min:0,max:100,step:.1},{labelName:"Speed",name:"target_speed",type:"range-input",value:17,min:-100,max:100,step:1},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Scroll Interaction",name:"scroll_interaction",type:"check-box",value:!1},{labelName:"Overlay Color",name:"color",type:"color",value:"transparent",excludeFromShuffle:!0}]};Fl.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};Fl.defaults=at(Fl.options);Fl.defaults.alpha={value:0};Fl.defaults.hex={value:"#000000"};nW=Fl});var Sb={};ii(Sb,{default:()=>sW,onChangeCustom:()=>oW});var UQ,oW,wa,sW,UR=B(()=>{Ne();UQ=fe(Se());io();oW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},wa={name:"pixelation",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"layout_mode",type:"radio",value:"grid_mode",values:[{labelName:"Grid",value:"grid_mode"},{labelName:"Rows",value:"row_mode"},{labelName:"Columns",value:"column_mode"}]},{labelName:"Rows",name:"rows",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"row_mode"}]},{labelName:"Columns",name:"columns",type:"range-input",value:44,min:1,max:64,step:1,requirements:[{option:"layout_mode",shouldBe:"column_mode"}]},{labelName:"Subdivisions",name:"grid_size",type:"range-input",value:44,min:1,max:100,step:1,requirements:[{option:"layout_mode",shouldBe:"grid_mode"}]},{labelName:"Cell Image Zoom",name:"zoom",type:"range-input",value:100,suffix:"%",min:1,max:100,step:1},{labelName:"Flip Alternate Cells",name:"flip_it",type:"check-box",value:!1},{type:"spacer"},{labelName:"Turbulence",name:"stir_grid",type:"check-box",value:!0},{labelName:"Stir Frequency",name:"stir_freq",type:"range-input",value:74,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Stir Strength",name:"stir_strength",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Disorder",name:"stir_disorder",type:"range-input",value:4,suffix:"%",min:0,max:100,step:1,requirements:[{option:"stir_grid",shouldBe:!0}]},{labelName:"Motion Elasticity",name:"elasticity",type:"range-input",value:35,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#ffffff00",excludeFromShuffle:!0},{type:"spacer"},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0},{labelName:"Mouse Movement Force",name:"mouse_sensitivity",type:"range-input",value:6,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouse Radius",name:"tolerance",type:"range-input",value:50,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]},{labelName:"Mouseover Zoom",name:"mouse_zoom",type:"range-input",value:0,suffix:"%",min:0,max:100,step:1,requirements:[{option:"mouse_interaction",shouldBe:!0}]}]};wa.defaults=at(wa.options);wa.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";wa.defaults.rgb={value:"rgb(255,255,255)"};wa.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};wa.customShuffle=i=>(Math.random()>.5&&(i.zoom=100),i);sW=wa});var _b={};ii(_b,{default:()=>lW,onChangeCustom:()=>aW});var $Q,aW,kc,lW,qR=B(()=>{Ne();$Q=fe(Se());io();aW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r)){let l=!0;if(n==="image"&&(s!==void 0&&s?t.obj.loadImage(s):l=!1),n!==void 0&&l===!0){let u={};u[n]=s,t.Update(n,s),t.obj.updateSettings(u)}}},kc={name:"kaleidoscope",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Slices",name:"slices",type:"range-input",value:18,min:2,max:256,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:217,suffix:"%",min:1,max:500,step:1},{labelName:"Rotation",name:"baseRotation1",type:"range-input",value:61,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Rotation Speed",name:"rotationSpeed1",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation",name:"baseRotation2",type:"range-input",value:-148,suffix:"\xB0",min:-180,max:180,step:1},{labelName:"Image Rotation Speed",name:"rotationSpeed2",type:"range-input",value:-8,suffix:"\xB0/sec",min:-100,max:100,step:1},{labelName:"Image Rotation Anchor X",name:"rotationCenterX",type:"range-input",value:21,suffix:"\xB0/sec",min:-300,max:300,step:1},{labelName:"Image Rotation Anchor Y",name:"rotationCenterY",type:"range-input",value:66,suffix:"\xB0/sec",min:-300,max:300,step:1},{type:"spacer"},{labelName:"Mirror Slices",name:"mirrorSlices",type:"check-box",value:!0},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0}]};kc.transformChanges=(i,e)=>{if(e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};kc.defaults=at(kc.options);kc.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";lW=kc});var Cb={};ii(Cb,{default:()=>cW,onChangeCustom:()=>uW});var YQ,uW,Nc,cW,BR=B(()=>{Ne();YQ=fe(Se());io();uW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Nc={name:"polygon_engine",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{labelName:"Style:",name:"style",type:"select",value:"delaunay",values:[{labelName:"Random 1",value:"random1"},{labelName:"Random 2",value:"random2"},{labelName:"Iso",value:"iso"},{labelName:"Rectangular 1",value:"straight1"},{labelName:"Rectangular 2",value:"straight2"},{labelName:"Voronoi",value:"voronoi"},{labelName:"Delaunay",value:"delaunay"}]},{labelName:"Cuts",name:"subdivisionCount",type:"range-input",value:421,min:3,max:500,step:1},{labelName:"Animation Speed",name:"animationSpeed",type:"range-input",value:1,min:0,max:20,step:.1},{type:"spacer"},{labelName:"Mouse Interaction",name:"hasMouseInteraction",type:"check-box",value:!0},{labelName:"Interaction Speed",name:"interactionSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{labelName:"Interaction Radius",name:"interactionRadius",type:"range-input",value:300,suffix:"px",min:0,max:500,step:1,requirements:[{option:"hasMouseInteraction",shouldBe:!0}]},{type:"spacer"},{excludeFromShuffle:!0,labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"}]};Nc.defaults=at(Nc.options);Nc.defaults.image_url="//static.cargo.site/assets/backdrop/default_256.jpg";Nc.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.overlay_hex=t.toHexString(),e.overlay_alpha=t.getAlpha()}return e};cW=Nc});var Eb={};ii(Eb,{default:()=>pW,onChangeCustom:()=>dW});var JQ,dW,Dc,pW,WR=B(()=>{Ne();JQ=fe(Se());io();dW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Dc={name:"morphovision",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Transition Duration",name:"transition_time",type:"range-input",value:4,suffix:" sec",min:.5,max:10,step:.1},{labelName:"Intensity",name:"transition_alpha",type:"range-input",value:76,suffix:"%",min:10,max:100,step:1},{labelName:"Zoom",name:"zoom",type:"range-input",value:14,suffix:"%",min:-100,max:100,step:1},{labelName:"Cycle Images",name:"cycle_images",type:"check-box",value:!0},{labelName:"Randomize Order",name:"shuffle",type:"check-box",value:!0,renderWhenDisabled:!0,requirements:[{option:"cycle_images",shouldBe:!0}]},{type:"spacer"},{labelName:"Morph Size",name:"morph_size",type:"range-input",value:85,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Movement",name:"morph_speed",type:"range-input",value:15,suffix:"%",min:0,max:100,step:1},{labelName:"Morph Amplitude",name:"amplitude",type:"range-input",value:22,suffix:"%",min:0,max:100,step:1},{labelName:"Phase Shift",name:"phase",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Movement Jitter",name:"jitter",type:"range-input",value:18,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Image Warp",name:"small_warp",type:"range-input",value:40,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"blend",type:"radio",value:"MULTIPLY",values:[{labelName:"Normal",value:"NORMAL"},{labelName:"Screen",value:"SCREEN"},{labelName:"Multiply",value:"MULTIPLY"}]}]};Dc.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};Dc.defaults=at(Dc.options);Dc.defaults.image_url="/_jsapps/backdrop/morphovision/morph_default.jpeg";pW=Dc});var Pb={};ii(Pb,{default:()=>fW,onChangeCustom:()=>hW});var iee,hW,Ch,fW,$R=B(()=>{Ne();iee=fe(Se()),hW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);for(let[n,s]of Object.entries(r))t.Update(n,s)},Ch={name:"wave",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Waves",name:"ripples.on",type:"check-box",value:!0},{labelName:"Wave Speed",name:"ripples.noiseSpeed",type:"range-input",value:15,min:0,max:20,step:.1,requirements:[{option:"ripples.on",shouldBe:!0}]}]};Ch.defaults=at(Ch.options);Ch.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";fW=Ch});var Ib={};ii(Ib,{default:()=>gW,onChangeCustom:()=>mW});var oee,mW,zl,gW,VR=B(()=>{Ne();oee=fe(Se());io();mW=(i,e,t)=>{let r={};for(let[s,l]of Object.entries(e))i[s]!=l&&(r[s]=l);let n=[];for(let[s,l]of Object.entries(r))t.Update(s,l)},zl={name:"halftone",options:[{labelName:"Image",name:"image",type:"image",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:"Screen Size",name:"dot_scale",type:"range-input",value:53,suffix:"%",min:0,max:100,step:.5},{labelName:"Dot Gain",name:"dot_gain",type:"range-input",value:48,suffix:"%",min:-100,max:200,step:1},{labelName:"Under-Color Removal",name:"dot_gain",type:"range-input",value:95,suffix:"%",min:0,max:100,step:1},{labelName:"Registration Accuracy",name:"color_offset",type:"range-input",value:94,suffix:"%",min:0,max:100,step:1},{type:"spacer"},{labelName:"Cyan",name:"cyan",type:"check-box",value:!0},{labelName:"Halftone",name:"cyan_halftone",type:"check-box",value:!0,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Opacity",name:"c_opacity",type:"range-input",value:70,suffix:"%",min:0,max:100,step:1,requirements:[{option:"cyan",shouldBe:!0}]},{labelName:"Rotation",name:"c_rotation",type:"range-input",value:140,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"c_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"cyan",shouldBe:!0},{option:"cyan_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Magenta",name:"magenta",type:"check-box",value:!0},{labelName:"Halftone",name:"magenta_halftone",type:"check-box",value:!0,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Opacity",name:"m_opacity",type:"range-input",value:69,suffix:"%",min:0,max:100,step:1,requirements:[{option:"magenta",shouldBe:!0}]},{labelName:"Rotation",name:"m_rotation",type:"range-input",value:42,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"m_rot_speed",type:"range-input",value:1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"magenta",shouldBe:!0},{option:"magenta_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Yellow",name:"yellow",type:"check-box",value:!0},{labelName:"Halftone",name:"yellow_halftone",type:"check-box",value:!0,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Opacity",name:"y_opacity",type:"range-input",value:99,suffix:"%",min:0,max:100,step:1,requirements:[{option:"yellow",shouldBe:!0}]},{labelName:"Rotation",name:"y_rotation",type:"range-input",value:59,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"y_rot_speed",type:"range-input",value:-1,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"yellow",shouldBe:!0},{option:"yellow_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Black",name:"black",type:"check-box",value:!0},{labelName:"Halftone",name:"black_halftone",type:"check-box",value:!0,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Opacity",name:"k_opacity",type:"range-input",value:100,suffix:"%",min:0,max:100,step:1,requirements:[{option:"black",shouldBe:!0}]},{labelName:"Rotation",name:"k_rotation",type:"range-input",value:45,suffix:"\xB0",min:0,max:360,step:1,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{labelName:"Rotation Speed",name:"k_rot_speed",type:"range-input",value:0,suffix:"\xB0/sec",min:-10,max:10,step:.5,requirements:[{option:"black",shouldBe:!0},{option:"black_halftone",shouldBe:!0}]},{type:"spacer"},{labelName:"Overlay Color",name:"color",type:"color",value:"#33333300"},{labelName:void 0,name:"overlay_type",type:"radio",value:"multiply_color",values:[{labelName:"Normal",value:"normal_color"},{labelName:"Screen",value:"screen_color"},{labelName:"Multiply",value:"multiply_color"}]},{labelName:"Mouse Interaction",name:"mouse_interaction",type:"check-box",value:!0}]};zl.transformChanges=(i,e)=>{if(e.hasOwnProperty("color")&&e?.color===null&&(e.color="rgba(0,0,0,0)"),e.color){let t=Me(e.color);e.hex=t.toHexString(),e.alpha=t.getAlpha()}return e};zl.customShuffle=i=>{switch(i.overlay_type=Math.random()>.5?"multiply_color":"screen_color",Math.floor(Math.random()*4)){case 0:i.black=!0,i.c_opacity=Math.max(75,i.c_opacity);break;case 1:i.cyan=!0,i.c_opacity=Math.max(75,i.c_opacity);break;case 2:i.yellow=!0,i.y_opacity=Math.max(100,i.y_opacity),i.black=!0,i.c_opacity=Math.max(50,i.c_opacity);break;case 3:i.magenta=!0,i.m_opacity=Math.max(75,i.m_opacity);break}return i};zl.defaults=at(zl.options);zl.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";gW=zl});var Ab={};ii(Ab,{default:()=>bW,onChangeCustom:()=>vW});var uee,jR,vW,Oc,bW,GR=B(()=>{Ne();uee=fe(Se()),jR={checkerboard:{preset_image:"https://static.cargo.site/assets/backdrop/video/checkerboard_64.png",preset_width:"16px",preset_height:"16px"},hexed:{preset_image:"https://static.cargo.site/assets/backdrop/video/hexed_16.png",preset_width:"8px",preset_height:"8px"},noise:{preset_image:"https://static.cargo.site/assets/backdrop/video/noise.png",preset_width:"512px",preset_height:"512px"},interlace:{preset_image:"https://static.cargo.site/assets/backdrop/video/interlace.png",preset_width:"1px",preset_height:"3px"}},vW=(i,e,t)=>{let r={};for(let[n,s]of Object.entries(e))i[n]!=s&&(r[n]=s);r.hasOwnProperty("color")&&r?.color===null&&(r.color="rgba(0,0,0,0)");for(let[n,s]of Object.entries(r))t.Update(n,s)},Oc={name:"video",excludeFromShuffle:!0,options:[{labelName:"Video URL:",name:"video_url",type:"text-input",value:"",className:"hover",config:"noBars"},{type:"spacer"},{name:"pageSplit",type:"custom",value:null},{labelName:"Clip when scrolling",name:"clipScroll",type:"check-box",value:!1},{type:"spacer"},{labelName:void 0,name:"scale_option",type:"radio",value:"cover",values:[{labelName:"Fill Window",value:"cover"},{labelName:"Fit Window",value:"contain"}]},{labelName:"Margin",name:"margin",type:"scrubber",value:"0",addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",allowedUnits:["px","%","em","rem","vmin","vmax","vw","vh"],excludeFromShuffle:!0,min:0,max:{"%":50,vh:50,vw:50,vmin:100,vmax:50}},{type:"spacer"},{labelName:"Overlay",name:"preset_pattern",type:"radio",value:"blank",values:[{labelName:void 0,value:"checkerboard"},{labelName:void 0,value:"hexed"},{labelName:void 0,value:"noise"},{labelName:void 0,value:"interlace"},{labelName:void 0,value:"blank"}]},{labelName:"Video Opacity",name:"alpha",type:"range-input",value:100,min:0,max:100,step:1,excludeFromShuffle:!0},{labelName:"Background Color",name:"color",type:"color",value:"#FFFFFF00"},{type:"spacer"},{labelName:"Display Still Image In Mobile Devices",name:"use_mobile_image",type:"check-box",value:!1},{name:"image",type:"custom",value:"7e333180710e85119b159e6bf7711aed653bf5ee8339ed26c74cae1f031548bc",renderWhenDisabled:!1,requirements:[{option:"use_mobile_image",shouldBe:!0}]}]};Oc.transformChanges=(i,e)=>(e.preset_pattern&&(jR[e.preset_pattern]?(e.using_preset=!0,e.image_active=!0,e={...e,...jR[e.preset_pattern]}):(e.using_preset=!1,e.image_active=!1)),e);Oc.defaults=at(Oc.options);Oc.defaults.image_url="//static.cargo.site/assets/backdrop/default_1024.jpg";bW=Oc});var Lc={};ii(Lc,{badtv:()=>gb,gradient:()=>Rc,halftone:()=>Ib,kaleidoscope:()=>_b,morphovision:()=>Eb,parallax:()=>bb,pixelation:()=>Sb,polygon_engine:()=>Cb,refraction:()=>yb,ripple:()=>wb,slitscan:()=>xb,video:()=>Ab,wallpaper:()=>Ac,wave:()=>Pb});var Eh=B(()=>{ER();PR();IR();LR();FR();zR();HR();UR();qR();BR();WR();$R();VR();GR()});var On,yW,YR,Rb,KR,wW,XR=B(()=>{Ce();Si();Ci();Eh();Ne();On=fe(Se(),1);te();yW={"legacy/slitscan":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/slitscan/main.js"),"legacy/refraction":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/refraction/main.js"),"legacy/badtv":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/badtv/main.js"),"legacy/gmaps":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/gmaps/main.js"),"legacy/halftone":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/halftone/main.js"),"legacy/kaleidoscope":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/kaleidoscope/main.js"),"legacy/morphovision":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/morphovision/main.js"),"legacy/parallax":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/parallax/main.js"),"legacy/pixelation":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/pixelation/main.js"),"legacy/polygon_engine":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/polygon_engine/main.js"),"legacy/ripple":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/ripple/main.js"),"legacy/video":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/video/main.js"),"legacy/wave":()=>import("https://build.cargo.site/frontend/ff2e39/_jsapps/backdrop/wave/main.js")},YR=On.default.memoize(i=>new Promise(async(e,t)=>{if(se)return t();await wW();let{default:r}=await yW[i]();e(r)})),Rb=class extends oe{constructor(e){super(e),this.ref=ve(),YR(this.props.path).catch(t=>{})}componentDidMount(){this.initView()}initView=async()=>{delete this.backboneView;let e=await YR(this.props.path).catch(n=>{});if(!this.ref.current){console.log("No element to render backbone view to...");return}let t=Lc[this.props.path.replace("legacy/","")],r={page_id:this.props.id};On.default.each(t?.default.defaults,(n,s)=>{r[s]=n.value}),this.onChangeCustom=t?.onChangeCustom?t.onChangeCustom.bind(this):null,this.ref.current.innerHTML="",this.backboneView=new e({el:this.ref.current,model:new Backbone.Model({data:{...r,...this.props.settings}}),...this.props.viewOptions||{}}),this.backboneView.id&&(this.ref.current.id=this.backboneView.id),this.backboneView.className&&(this.ref.current.className=this.backboneView.className),this.backboneView.defaults={...this.backboneView.defaults,...this.props.defaults},this.backboneView.deferredLoadEventName&&(this.backboneView.deferredLoadEventName+="_"+On.default.uniqueId(),Cargo.Event.once(this.backboneView.deferredLoadEventName,()=>{this.ref.current&&this.ref.current.dispatchEvent(new CustomEvent("legacy-backdrop-loaded",{bubbles:!0,composed:!0,detail:{}}))})),this.backboneView.render(),typeof this.backboneView.Init=="function"&&this.backboneView.Init(),this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):this.backboneView.in_viewport=!1};destroyView=()=>{this.backboneView&&(typeof this.backboneView.destroy=="function"&&this.backboneView.destroy(),this.backboneView.undelegateEvents(),this.backboneView.$el.removeData().unbind(),this.backboneView.remove(),delete this.backboneView)};componentWillUnmount(){this.destroyView()}componentDidUpdate(e){if(this.backboneView&&!On.default.isEqual(e.settings,this.props.settings)&&(this.onChangeCustom?this.onChangeCustom(e.settings,this.props.settings,this.backboneView):console.log("custom backdrop update failed")),this.props.path!=e.path){this.destroyView(),this.initView();return}this.backboneView&&((e.dimensions.width!=this.props.dimensions.width||e.dimensions.height!=this.props.dimensions.height)&&this.backboneView.SetSizeFromMainView?.(this.props.dimensions.width,this.props.dimensions.height),this.props.visibility.visible!=e.visibility.visible&&(this.props.visibility.visible?(this.backboneView.in_viewport=!0,this.backboneView.Resume?.()):(this.backboneView.in_viewport=!1,this.backboneView.Pause?.())))}render(){let e=this.props.path?.replace("legacy/","")||"";return m("div",{"data-backdrop":e,ref:this.ref,dangerouslySetInnerHTML:{__html:""}})}},KR=Rb,wW=On.default.once(async()=>{if(se)return;let{Backbone:i,underscore:e,jQuery:t}=await import("https://static.cargo.site/assets/C3/legacy/backbone-packaged.min.js");window.$=t,window.Backbone=i,window._=e,window.Cargo={o:{collection:{},model:{}},Collection:{},Helper:{isMobile:()=>Ze.data.mobile.active,IsAdminEdit:()=>Gi},Event:On.default.extend({},i.Events),Core:{Handlebars:{Render:()=>""}}},window.Backdrop={Data:{}},Cargo.o.collection.images=i.Collection.extend({model:function(r,n){return r&&r.type==="local"?new Cargo.o.model.localImage(r,n):new Cargo.o.model.image(r,n)},fetchImage:function(r,n){let s=window.store.getState(),l=it.getMediaByHash(s)[r],u=new Cargo.o.model.image({...l});if(l&&u)return u.getImageWithOptions({w:n})},fetchWebGLImage:function(r,n){let s=window.store.getState(),l=it.getMediaByHash(s)[r];return l?{w:l.width,h:l.height,url:"https://freight.cargo.site/w/"+n+"/t/webgl/i/"+l.hash+"/"+l.name,id:r}:null}}),Cargo.o.model.image=i.Model.extend({initialize:function(){On.default.bindAll(this,"getImageByWidth")},urlRoot:function(){return"/_api/v0/image"},getImageByWidth:function(r){var n={};return r>this.get("width")&&(r=this.get("width")),n.w=r,this.getImageWithOptions(n).url},getImageByWidth2x:function(r){return this.getImageByWidth(r*2)},getImageWithOptions:function(r){var n={retina:window.devicePixelRatio?window.devicePixelRatio>=1.2:!1,square:!1,url:"",webgl:r.hasOwnProperty("t")&&r.t=="webgl"};if(On.default.extend(n,r),n.t==="original"&&(n.retina=!1),n.retina===!0&&!n.webgl&&(n.q==null&&(n.q=75),n.hasOwnProperty("w")&&(n.w=Math.min(n.w*2,this.get("width"))),n.hasOwnProperty("h")&&(n.h=Math.min(n.h*2,this.get("height")))),n.w&&n.w>this.get("width")&&(n.webgl?n.w=this.getValidWebGLSize(n.w):n.w=this.get("width")),n.h&&n.h>this.get("height")&&(n.h=this.get("height")),n.square===!0){var s=this.getSquareCrop();n.c={x:s.x,y:s.y,w:s.w,h:s.h}}var l=["t","w","h","q","c"],u=[],c=!1,d=!1;On.default.each(n,function(g,v){l.indexOf(v)===-1||g===""||(v==="c"?u.push("c/"+g.x+"/"+g.y+"/"+g.w+"/"+g.h):u.push(v+"/"+g),c=v=="w"?g:v=="c"&&g.w?g.w:c,d=v=="h"?g:v=="c"&&g.h?g.h:d)},this);var f=this.getScaleSize(c,d);return n.w=f.w,n.h=f.h,this.get("hash")!==void 0&&this.get("name")!==void 0?n.url="https://freight.cargo.site/"+u.join("/")+"/i/"+this.get("hash")+"/"+this.get("name"):n.url="",n},getSquareCrop:function(){var r=y=w=h=diff=0;return this.get("height")>this.get("width")?(w=h=this.get("width"),diff=this.get("height")-this.get("width"),y=Math.floor(diff/2),r=0):this.get("width")>this.get("height")?(w=h=this.get("height"),diff=this.get("width")-this.get("height"),r=Math.floor(diff/2),y=0):(w=this.get("width"),h=this.get("height"),r=y=0),{w,h,x:r,y}},getOriginalImage:function(){return this.getImageWithOptions({t:"original",retina:!1})},urlBelongsToImage:function(r){return typeof r!="string"?!1:r.indexOf(this.get("hash")+"/"+this.get("name"))!==-1},getValidWebGLSize:function(r){var n=[128,256,512,1024,2048,4096];return r>this.get("width")&&On.default.each(n,function(s){s<1e3&&(r=s)}),r},getScaleSize:function(r,n){var s,l,u=r,c=n;if(s=parseInt(this.get("width")),l=parseInt(this.get("height")),!(r&&n)){if(s==l)u=r||n||s,c=u;else if(r)var d=s/r,c=Math.floor(l/d),u=r;else if(n)var d=l/n,u=Math.floor(s/d),c=n}return{w:u,h:c}},getFitSize:function(r,n,s,l){if(r=parseInt(r),n=parseInt(n),n>r)var u=r/s,c=Math.floor(n/u),d=s;else if(r>n)var u=n/l,d=Math.floor(r/u),c=l;else var d=r,c=n;return[d,c]}}),Cargo.Collection.Images=new Cargo.o.collection.images})});var Hl,Ul,xa=B(()=>{Ce();Hl=function(i,e,t={}){if(i.nodeType===3)return i.data;if(i.nodeType!==1)return null;let r={},n=[],s=0,l=i.attributes,u=i.childNodes;for(s=l.length;s--;)r[l[s].name]=l[s].value;for(t={...r,...t},s=u.length;s--;){let c=Hl(u[s],null);n[s]=c}return Vt(e||i.nodeName,t,n)},Ul=(i,e,t)=>{let r=window.devicePixelRatio>1,n=t/i-e*((i-1)/i);n=Math.max(n,1);let s=[];n*i+e*(i-1)>t+.001&&(e=Math.floor(t/(i-1)-n));let u=r?Math.round(e*2)/2:Math.round(e);for(let c=0;c<i;c++){let d={left:n*c+e*c,right:n*c+e*c+n};c<i-1?d.right=r?Math.round(d.right*2)/2:Math.round(d.right):d.right=t,c>0&&(d.left=s[c-1].right+u),s.push(d)}return{columnAndGutterMap:s,columnWidth:n,gutterPixelWidth:u,halfPixels:r}}});var wee,Mb,Ph,Mr,vs=B(()=>{Ce();Ne();wee=fe(Se(),1);te();se||(Mb=new ResizeObserver(function(i){i.forEach(function(e){e.target.dispatchEvent(new CustomEvent("reference-resize",{detail:{width:e.contentRect.width},bubbles:!1,cancelable:!0,composed:!0}))})}));Ph=class extends oe{constructor(e){super(e),this.elementRef=ve(),this.elementRef.current={},this.saveRef=t=>r=>{this.elementRef.current[t]=r}}render(){let{values:e={elWidth:"100%"}}=this.props;return m("div",{tabIndex:"-1","data-nosnippet":!0,style:{height:0,width:"100%",minWidth:"100%",overflow:"hidden",display:"block",alignSelf:"flex-start",visibility:"hidden",pointerEvents:"none",boxSizing:"border-box",zIndex:-1,...this.props.style},children:Object.keys(e).map(t=>{let r=e[t];return m("div",{tabIndex:"-1",ref:this.saveRef(t),style:typeof r=="object"?r:{width:r}})})})}componentDidUpdate(e,t){}onResize=e=>{let t=Object.keys(this.elementRef.current).find(r=>this.elementRef.current[r]===e.target);this.props.onResize&&this.props.onResize(t,e.detail.width)};componentDidMount(){Object.keys(this.elementRef.current).forEach(e=>{let t=this.elementRef.current[e];t.addEventListener("reference-resize",this.onResize),Mb?.observe(t)})}componentWillUnmount(){Object.keys(this.elementRef.current).forEach(e=>{let t=this.elementRef.current[e];Mb?.unobserve(t)})}};Ph.defaultProps={values:{elWidth:"100%"}};Mr=Ph});var Tee,Ih,Tr,bs=B(()=>{Ce();We();Jn();Di();Tee=fe(Se(),1);te();Ih=class extends oe{constructor(e){super(e),this.state={scrollIncrement:0,pointerAttention:!1,shiftButtonX:0,shifted:!1,overlayPosition:{x:0,y:0,width:0,height:0}},this.attachToBaseNode()}render(e,t){return this.renderElement?Ge(m(Q,{children:e.render({...t,...e})}),this.renderElement):null}pointerIn=e=>{this.requestTick(),this.setState(t=>({pointerAttention:!0,scrollIncrement:t.scrollIncrement+1})),this.props.onPointerIn&&this.props.onPointerIn()};pointerOut=()=>{this.setState({pointerAttention:!1}),this.props.onPointerOut&&this.props.onPointerOut()};updatePosition=e=>{let t=this.props.buttonHeight||0,r=0,n=e.height,s=e.top;this.props.buttonMode=="inside",n=e.height,this.setState({overlayPosition:{x:e.left,y:s,width:e.width,height:n}})};componentWillUnmount(){this.props.baseNode._wasFocused=this.state.pointerAttention,this.props.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),ze.removePortal(this.props.baseNode,this.renderElement)}requestTick=()=>{this.ticking||(ze.updateElementRect(this.props.baseNode),this.ticking=!0,requestAnimationFrame(()=>{this.ticking=!1}))};attachToBaseNode(){this.props.baseNode&&(this.renderElement=ze.getPortal(this.props.baseNode,{noPointerEvents:this.props.noPointerEvents||!1,trackResize:this.props.trackResize||!1,extraMargins:this.props.buttonMode=="inside"?[0,0,0,0]:[0,0,0,0],component:this}))}onScroll=e=>{this.requestTick();let t=this.props.scrollContext.getScrollPosition().y,r=t-this.scrollPos;this.scrollPos=t,this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(r)};componentDidMount(){this.props.baseNode&&this.props.baseNode._wasFocused&&(this.setState({pointerAttention:!0}),this.requestTick()),ze.testHover()}componentDidUpdate(e,t){this.props.baseNode&&e.baseNode!==this.props.baseNode&&this.attachToBaseNode(),(this.state.pointerAttention!==t.pointerAttention||this.state.noPointerEvents!==t.noPointerEvents||this.props.hasFocus!==e.hasFocus||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.props.hasFocus||this.state.pointerAttention||this.state.noPointerEvents)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll),ze.testHover(),this.requestTick())}};Ih.defaultProps={buttonMode:"inside",buttonHeight:0};Tr=Zn(Ih)});var kr,Ah,ro,ql=B(()=>{Ce();We();Ot();bs();Di();to();ht();kr=fe(Se(),1);Si();te();Ah=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,galleryIsEmpty:!1,showInsertionIndicator:!1,adjacentIndexes:{above:-1,below:-1,left:-1,right:-1}},this.dragMap=new Map,this.onDragOver=kr.default.throttle(this.onDragOver,80)}mutationObserverOptions={attributes:!0,childList:!0,subtree:!0,characterData:!0};render(e,t){let{galleryInstance:r}=e,{initialShowOutlines:n,showTransition:s,draggingOver:l,adjacentIndexes:u,showInsertionIndicator:c,galleryIsEmpty:d,buttonHovered:f,UIWindow:g}=t,v=this.props["thumbnail-index"]!==void 0,S=23;return m(Q,{children:[m(Oi,{onlyAllowCollapsedRange:!0,baseNode:r}),m("style",{children:c&&`
					::slotted(media-item) {
						--base-translate: translate(0, 0);						
						transition: .08s transform cubic-bezier(0, 0, 0.01, 1);
					}

					::slotted(media-item:nth-child(${u.left+1})) {
						z-index: 1001;
						--base-translate: translateX(-15px);
					}

					::slotted(media-item:nth-child(${u.right+1})) {
						z-index: 1001;
						--base-translate: translateX(15px);
					}

					::slotted(media-item:nth-child(${u.above+1})) {
						z-index: 1001;
						--base-translate: translateY(-15px);
					}

					::slotted(media-item:nth-child(${u.below+1})) {
						z-index: 1001;
						--base-translate: translateY(15px);
					}
				`}),m(Tr,{...this.props,hasFocus:!!g,onScrollWhileHovered:this.onScrollWhileHovered,trackResize:!0,buttonHeight:S,buttonMode:"inside",baseNode:this.props.galleryInstance,render:C=>{let{pointerAttention:_,overlayPosition:M}=C,T=0;return M.y<=1&&(T=Math.min(-M.y+1,M.height+-S+1)),m(Q,{children:m("div",{className:`editor-overlay editor-outline${_||g?" hover":""}${_||g?" button-hover":""}${g?" focus":""}`,style:{transform:`translate3d(${M.x}px, ${M.y}px, 0)`,width:M.width+"px",height:M.height+"px",display:_||g?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons gallery",style:{transform:`translateY(${T}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("button",{onMouseDown:F=>{this.launchUIWindow(F)},ref:this.galleryButtonRef,className:"text",children:v?"Thumbnail Index":"Gallery"})}),e.otherUI]})})}})]})}launchUIWindow=(e,t)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.galleryInstance.getBoundingClientRect(),n={x:r.x+-10,y:r.y,left:r.right+-10,right:r.right+-10,top:r.top+0,bottom:r.top+27,width:r.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"imagegallery-ineditor",windowAlias:"imagegallery",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!0,props:{activeGallery:this.props.galleryInstance}})};onMutate=e=>{if(this.props.suppressMutation)return;this.observer.disconnect();let t=[],r=[],n=[],s=!1,l=!1,u=this.props["thumbnail-index"],c=!1;e.forEach(f=>{if(f.target.tagName=="MEDIA-ITEM"){if(t.indexOf(f.target)>-1||f.type!=="attributes"||f.attributeName==="slot"||this.props.disabledMediaItemOptions.indexOf(f.attributeName)>-1)return;u&&t.push(f.target),!(f.attributeName==="style"||f.attributeName==="class")&&this.props.gallerySpecificAttributes&&this.props.gallerySpecificAttributes.includes(f.attributeName)&&t.push(f.target)}else f.target==this.props.galleryInstance&&(f.removedNodes.length>0||f.addedNodes.length>0)?(this.props.allowedElements&&(l=[...Array.from(f.addedNodes),...Array.from(f.removedNodes)].some(this.props.allowedElements)),s=f.addedNodes.length>0||s,r=[...r,...Array.from(f.addedNodes).filter(g=>g.tagName==="MEDIA-ITEM")],n=[...n,...Array.from(f.removedNodes).filter(g=>g.tagName==="MEDIA-ITEM")]):f.type==="characterData"&&(c=f.target)}),r=kr.default.uniq(r),n=kr.default.uniq(n),t=kr.default.uniq(t),n.forEach(f=>{f.itemResize=null,f.itemDragStart=null});let d=Array.from(this.props.galleryInstance.childNodes).filter(f=>f?.nodeName!=="MEDIA-ITEM");this.props.allowedElements&&kr.default.remove(d,this.props.allowedElements),d.forEach(f=>{f.remove()}),(r.length>0||n.length>0)&&(Array.from(this.props.galleryInstance.children).some(f=>f.tagName==="MEDIA-ITEM")||this.removeEmptyGallery()),(r.length>0||n.length>0||t.length>0||l||this.props["thumbnail-index"]&&c)&&this.props.onCleanUp&&this.props.onCleanUp(r,n,t,c),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)};removeEmptyGallery=kr.default.debounce(()=>{if(!Array.from(this.props.galleryInstance.children).some(e=>e.tagName==="MEDIA-ITEM")){if(this.state.isDraggingInEditor)this.setState({galleryIsEmpty:!0});else if(this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}}},0);scrollIntoView=()=>{let e=this.props.galleryInstance.getBoundingClientRect();this.props.galleryInstance.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:120,lazyScroll:!0}}))};onDragOver=(e,t,r)=>{if(!this.props.disableDragOver)if((!r.customDropTarget||r.customDropTarget===this.props.galleryInstance)&&(r.draggedMediaItems.length>0||r.fromOutside)&&!r.inAdmin&&this.props.galleryInstance.contains(r.dropTarget)){this.state.showInsertionIndicator||this.dragMap.clear();let s=this.props.galleryInstance.getBoundingClientRect(),l=60,u=1.033,c=2.399827721492203,d=Array.from(this.props.galleryInstance.children),f=[],g=t.clientX+-s.left,v=t.clientY+-s.top,S=15,C,_=0,M,T=0,F=null;for(C=0;C<l;C++)if(F=null,_=_+c,S=S*u+2,M=t.clientX+Math.cos(_)*S,T=t.clientY+Math.sin(_)*S,F=document.elementFromPoint(M,T),F&&(F=F.closest("MEDIA-ITEM")||null),this.props.galleryInstance.contains(F)||(F=null),F&&f.indexOf(F)===-1)if(this.dragMap.has(F)){let G=this.dragMap.get(F);M<=G.x2+s.left&&M>=G.x1+s.left&&T<=G.y2+s.top&&T>=G.y1+s.top&&f.push(F)}else f.push(F);let H=f.map(G=>{let K;if(this.dragMap.has(G))K=this.dragMap.get(G);else{let Ve=G.getBoundingClientRect();K={w:Ve.width+-(15*2),h:Ve.height+-(15*2),x1:Ve.left+-s.left+15,x2:Ve.left+Ve.width+-s.left+-15,y1:Ve.top+-s.top+15,y2:Ve.top+Ve.height+-s.top+-15},this.dragMap.set(G,K)}let ne=!1,W=!1,U=!1,J=!1,ae=!1,ue=!1,he=0,me=0,Ae=0;g>=K.x1&&g<=K.x2?(W=!0,g<K.x1+K.w*.5?ue=!0:ae=!0,Ae=0):K.x1>g?(ue=!0,Ae=K.x1-g):g>K.x2&&(Ae=K.x2-g,ae=!0),v>=K.y1&&v<=K.y2?(ne=!0,v<K.y1+K.h*.5?J=!0:U=!0,me=0):K.y1>v?(J=!0,me=K.y1-v):v>K.y2&&(U=!0,me=K.y2-v),he=Math.sqrt(me*me+Ae*Ae);let Ie=d.indexOf(G),De=G.getAttribute("slot"),He=0,ut=0;return this.props.dragIndicationType==="columns"&&(He=Array.from(G.assignedSlot.parentElement.children).indexOf(G.assignedSlot)),{inX:W,inY:ne,distance:he,rise:me,run:Ae,above:U,below:J,toRight:ue,toLeft:ae,index:Ie,slotIndex:He,el:G,rect:K}}),L={el:null,index:-1},z=L,ie=L,X=L,N=L,ee=[],de=[],Z=[],Y=[];H.forEach(G=>{G.above&&Z.push(G),G.below&&Y.push(G),G.toRight&&de.push(G),G.toLeft&&ee.push(G)});let D=null,V=!1;if(this.props.dragIndicationType==="columns"){let G=kr.default.minBy(Z,U=>Math.abs(U.distance)),K=kr.default.minBy(Y,U=>Math.abs(U.distance)),ne=kr.default.minBy(ee.filter(U=>U.inY),U=>Math.abs(U.distance)),W=kr.default.minBy(de?.filter(U=>U.inY),U=>Math.abs(U.distance));G&&K?Math.abs(K.run)<Math.abs(G.run)?(N=K,X=Z.find(U=>U.rect.x1<N.rect.x2&&U.rect.x2>N.rect.x1)||L):(X=G,N=Y.find(U=>U.rect.x1<X.rect.x2&&U.rect.x2>X.rect.x1)||L):G?X=G:K&&(N=K),ne&&W?V=W.rect.y1!==ne.rect.y1:(ne?.rect?.y1>15||W?.rect?.y1>15||X?.index>-1)&&(V=!0)}if(V){if(z=L,ie=L,X=X,N=N,N?.el)D=N.el;else for(D=X.el?.nextElementSibling?.assignedElements?.()[0]||null;D&&D.tagName!=="MEDIA-ITEM";)D=D?.nextElementSibling||null;r.draggedMediaItems.length===1&&d.indexOf(r.draggedMediaItems[0])>-1&&d.indexOf(D)>d.indexOf(r.draggedMediaItems[0])&&(D=D.nextElementSibling)}else{let G=kr.default.minBy(ee,ne=>Math.abs(ne.distance)),K=kr.default.minBy(de,ne=>Math.abs(ne.distance));if(G&&K?Math.abs(K.rise)<Math.abs(G.rise)?(ie=K,z=ee.find(ne=>ne.index==ie.index+-1)):(z=G,ie=de.find(ne=>ne.index==z.index+1)):G?z=G:K&&(ie=K),X=L,N=L,ie=ie||L,z=z||L,ie?.el)D=ie.el;else for(D=z.el?.nextElementSibling;D&&D.tagName!=="MEDIA-ITEM";)D=D.nextElementSibling}this.setState({adjacentIndexes:{left:z.index,right:ie.index,above:X.index,below:N.index},insertBeforeTarget:D,showInsertionIndicator:!0}),ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance)}else this.state.showInsertionIndicator&&this.props.onDragOut&&this.props.onDragOut(),this.setState({showInsertionIndicator:!1}),ye.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance)};onDragStart=(e,t,r)=>{if(!(this.props["thumbnail-index"]&&(!r.draggedMediaItems?.[0]||!this.props.galleryInstance.contains(r.draggedMediaItems[0])))&&(ze.activateHoverElement(this.props.galleryInstance),this.props.disableDragStart)){t.preventDefault();return}};onAfterDragStart=(e,t,r)=>{this.props.disableDragStart||this.setState({isDraggingInEditor:!0})};onDragEnd=(e,t,r)=>{this.onDragOver.cancel(),this.props.onDragEnd&&this.props.onDragEnd(),this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1},()=>{this.onDragFinish()})};onDragDrop=(e,t,r)=>{if(this.onDragOver.cancel(),this.props.onDragDrop&&this.props.onDragDrop(),!this.props.disableDrop&&!r.inAdmin){if(r.customDropTarget===this.props.galleryInstance){CargoEditor.mutationManager.execute(()=>{r.draggedMediaItems.forEach((l,u)=>{this.props["thumbnail-index"]&&l.setSaveable(!1),this.props.galleryInstance.insertBefore(l,this.state.insertBeforeTarget)}),this.props.onAfterDrop&&this.props.onAfterDrop(r.draggedMediaItems,this.state.insertBeforeTarget,this.state.adjacentIndexes)});let n=r.draggedMediaItems[0],s=r.draggedMediaItems[0]?.getAttribute("href");clearTimeout(this.dragTimeout),this.dragTimeout=setTimeout(()=>{let l=CargoEditor.rangy.createRange();this.props["thumbnail-index"]&&(n=Array.from(this.props.galleryInstance.children).find(u=>u.getAttribute("href")==s)),n&&(l.selectNode(n),CargoEditor.helpers.setActiveRange(l))},120)}this.setState({showInsertionIndicator:!1,isDraggingInEditor:!1,insertBeforeTarget:null},()=>{this.onDragFinish()})}};onBeforeDrop=(e,t,r)=>{this.props.disableBeforeDrop};onDragFinish=()=>{ze.testHover(),this.state.galleryIsEmpty&&(Array.from(this.props.galleryInstance.children).filter(t=>t?.tagName=="MEDIA-ITEM").length==0&&this.props["thumbnail-index"]===void 0?CargoEditor.mutationManager.execute(()=>{this.props.galleryInstance.remove()}):this.setState({galleryIsEmpty:!1}))};setUIWindow=e=>{this.setState({UIWindow:e}),e?typeof this.props.onUIWindowSet=="function"&&this.props.onUIWindowSet(e):typeof this.props.onUIWindowRelease=="function"&&this.props.onUIWindowRelease(e)};onScrollWhileHovered=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidUpdate(e){e.suppressMutation!==this.props.suppressMutation&&(this.observer.disconnect(),this.props.suppressMutation||this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions)),kr.default.isEqual(e.mediaItemEditorInfo,this.props.mediaItemEditorInfo)||this.setMediaItemEditorInfo()}setMediaItemEditorInfo=()=>{this.props.galleryInstance._mediaItemEditorInfo=this.props.mediaItemEditorInfo||{disableResize:!1,disableButton:!1},Array.from(this.props.galleryInstance.children).filter(t=>t.tagName==="MEDIA-ITEM").forEach(t=>{t._editorInterface?.setState?.({mediaItemEditorInfo:{...this.props.mediaItemEditorInfo}})}),this.props.mediaItemEditorInfo?.afterScaleChange&&(this.props.galleryInstance._mediaItemEditorInfo.afterScaleChange=this.props.mediaItemEditorInfo.afterScaleChange)};flushMutationQueue=()=>{let e=this.observer.takeRecords();e.length>0&&this.onMutate(e)};componentDidMount(){if(this.props.galleryInstance.children.length===0&&this.props["thumbnail-index"]===void 0){this.props.galleryInstance.remove();return}this.setMediaItemEditorInfo(),this.observer=new MutationObserver(this.onMutate),this.observer.observe(this.props.galleryInstance,this.mutationObserverOptions),this.props.galleryInstance._editorInterface=this,ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("before-drop",this.onBeforeDrop),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("after-dragstart",this.onAfterDragStart)}componentWillUnmount(){this.state.UIWindow&&this.state.UIWindow.changingLayout,this.removeEmptyGallery.cancel(),this.onDragOver.cancel(),this.observer?.disconnect(),this.observer=null,clearTimeout(this.showOutlinesTimeout),clearTimeout(this.bindTimeout),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("before-drop",this.onBeforeDrop),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("after-dragstart",this.onAfterDragStart),this.props.galleryInstance._editorInterface===this&&(this.props.galleryInstance._mediaItemEditorInfo=null,delete this.props.galleryInstance._editorInterface)}};Ah.defaultProps={disabledMediaItemOptions:[],dragIndicationType:"grid"};ro=Oe((i,e)=>({Editor_PageEditorOutlines:i.adminState?.localStorage?.Editor_PageEditorOutlines}))(Ah)});var Tb,kb,ZR,JR=B(()=>{Ce();Tb=fe(Se(),1);Ot();Di();ql();te();kb=class extends oe{constructor(e){super(e),this.state={isDragging:!1,thumbnailsVisible:!1,thumbnailsVisibleWhileDragging:!1,hasUIWindow:!1,pointerAttention:!1},this.debouncedCheckRange=Tb.default.debounce(this.checkRange,120)}render(e,t){let{isDragging:r,thumbnailsVisible:n}=t,{galleryInstance:s,dragContext:l}=e;return m(Q,{children:[m("style",{children:`
			media-item figcaption.caption {
				${this.state.thumbnailsVisible?"display: block":""}
			}	
		`}),m(ro,{...e,mediaItemEditorInfo:{disableResize:!0,disableButton:!1},gallerySpecificAttributes:this.props.gallerySpecificAttributes||[],suppressMutation:this.props.suppressMutation,galleryInstance:s,disableDragOver:!n,disableDrop:!n,allowedElements:u=>u.part=="previous-button"||u.part=="next-button",onUIWindowRelease:this.onUIWindowRelease,onPointerIn:this.onPointerIn,onPointerOut:this.onPointerOut})]})}onCleanUp=(e,t,r,n,s,l)=>{this.props.galleryInstance.updateNavigation(),this.props.onCleanUp&&this.props.onCleanUp(e,t,r,n,s,l)};onPointerIn=()=>{this.setState({pointerAttention:!0})};onPointerOut=()=>{this.setState({pointerAttention:!1})};onDragOver=(e,t,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&!this.state.thumbnailsVisible&&(this.setState({thumbnailsVisibleWhileDragging:!0}),this.props.galleryInstance.showThumbnails())};onDragDrop=(e,t,r)=>{this.props.galleryInstance.contains(r.dropTarget)&&this.state.thumbnailsVisible?setTimeout(()=>{this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.debouncedCheckRange())},500):this.state.thumbnailsVisibleWhileDragging&&(this.setState({thumbnailsVisibleWhileDragging:!1}),this.props.galleryInstance?.hideThumbnails?.())};updateThumbStatus=e=>{let t=this.props.galleryInstance.thumbnailsVisible;this.setState({thumbnailsVisible:t}),t&&requestAnimationFrame(()=>{let r=CargoEditor?.rangy?.createRange(),n=this.props.galleryInstance.querySelector(".sizing-frame");n&&r&&(r.setStartBefore(n),r.setEndAfter(n),CargoEditor.helpers.setActiveRange(r),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor()))})};onUIWindowRelease=()=>{this.props.galleryInstance.thumbnailsVisible&&this.debouncedCheckRange(),this.setState({hasUIWindow:!1})};onUIWindowSet=e=>{this.setState({hasUIWindow:e})};checkRange=()=>{let e=CargoEditor.getActiveRange();CargoEditor.events.off("cursor-activity",this.debouncedCheckRange),this.state.hasUIWindow||this.props.childArray.some(t=>t._editorInterface?.state?.UIWindow)||e&&this.props.galleryInstance.contains(e.commonAncestorContainer)||!e?CargoEditor.events.on("cursor-activity",this.debouncedCheckRange):this.props.galleryInstance?.hideThumbnails?.()};onClick=e=>{this.props.galleryInstance.thumbnailsVisible};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),CargoEditor.events.on("cursor-activity",this.captionCursorActivity)};captionCursorActivity=Tb.default.throttle(()=>{var e=CargoEditor.getActiveRange();e&&this.props.galleryInstance.contains(e.commonAncestorContainer)&&Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{r.contains(e.commonAncestorContainer)&&this.props.onItemResize(null,r,n)})},120);componentDidUpdate(e){if(e.inTransition!==this.props.inTransition){let t=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");if(this.props.inTransition)t.forEach(r=>{ze.deactivateHoverElement(r),ze.lockItem(r)});else if(this.state.pointerAttention){t.forEach(n=>{ze.deactivateHoverElement(n),ze.unlockItem(n)});let r=Array.from(this.props.galleryInstance.children).find(n=>n.nodeName==="MEDIA-ITEM"&&n.assignedSlot?.parentElement?.hasAttribute("data-active-slide"));r&&ze.activateHoverElement(r)}}}componentDidMount(){CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),this.props.galleryInstance.addEventListener("click",this.onClick),this.props.galleryInstance.addEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.addEventListener("hide-thumbnails",this.updateThumbStatus),this.updateThumbStatus()}componentWillUnmount(){window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.captionCursorActivity.cancel(),CargoEditor&&Object.keys(CargoEditor||{}).length>0&&CargoEditor.events.off("cursor-activity",this.captionCursorActivity),this.props.galleryInstance.removeEventListener("click",this.onClick),this.props.galleryInstance.removeEventListener("show-thumbnails",this.updateThumbStatus),this.props.galleryInstance.removeEventListener("hide-thumbnails",this.updateThumbStatus),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragover",this.onDragOver)}},ZR=kb});var QR,eM=B(()=>{QR=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i});function tM(i,e,t,r){let n,s,l;for(;e=e._parent;)if((n=e._component)&&!n._processingException)try{if(s=n.constructor,s&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(i)),l=n._dirty),n.componentDidCatch!=null&&(n.componentDidCatch(i,r||{}),l=n._dirty),l)return n._pendingError=n}catch(u){i=u}throw i}var iM=B(()=>{});var xW,Fc,rM=B(()=>{iM();xW={_catchError:tM},Fc=xW});function no(i,e,t,r,n){let s;for(s in t)s!=="children"&&s!=="key"&&!(s in e)&&oM(i,s,null,t[s],r);for(s in e)(!n||typeof e[s]=="function")&&s!=="children"&&s!=="key"&&s!=="value"&&s!=="checked"&&t[s]!==e[s]&&oM(i,s,e[s],t[s],r)}function nM(i,e,t){e[0]==="-"?i.setProperty(e,t??""):t==null?i[e]="":typeof t!="number"||QR.test(e)?i[e]=t:i[e]=t+"px"}function oM(i,e,t,r,n){let s;e:if(e==="style")if(typeof t=="string")i.style.cssText=t;else{if(typeof r=="string"&&(i.style.cssText=r=""),r)for(e in r)t&&e in t||nM(i.style,e,"");if(t)for(e in t)(!r||t[e]!==r[e])&&nM(i.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")if(s=e!==(e=e.replace(/Capture$/,"")),e.toLowerCase()in i?e=e.toLowerCase().slice(2):e=e.slice(2),i._listeners||(i._listeners={}),i._listeners[e+s]=t,t){if(!r){let l=s?aM:sM;i.addEventListener(e,l,s)}}else{let l=s?aM:sM;i.removeEventListener(e,l,s)}else if(e!=="dangerouslySetInnerHTML"){if(n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in i)try{i[e]=t??"";break e}catch{}typeof t=="function"||(t!=null&&(t!==!1||e.indexOf("-")!=-1)?i.setAttribute(e,t):i.removeAttribute(e))}}function sM(i){return this._listeners[i.type+!1](Fc.event?Fc.event(i):i)}function aM(i){return this._listeners[i.type+!0](Fc.event?Fc.event(i):i)}var ys=B(()=>{eM();rM()});var lM,uM=B(()=>{lM=(i,e={})=>{let t=i.replace(/[#$%<>&=\?\\\/]/g,"").replace(/(\s|\.)/g,"-").replace(/-{2,}/g,"-").toLowerCase(),r=t.length>0?t:"_";if(e.inUse){let n=r,s=1;for(;e.inUse.includes(n);)n=r+`-${s++}`;return n}return r}});function cM(i){let e=i.split(":"),t=e[0],r="all";switch(t){case"set":r=Sa.default.tail(e).map(n=>n).join(":");break;case"tag":r=Sa.default.tail(e)[0]?.split(",").map(n=>lM(n.trim()));break;case"img":r="all";break;case"all":r="all";break}return{type:t,value:r}}function _W(i){class e extends xi{constructor(r){super(r),this.fixBadNullValue(),this.state={layoutIncrement:0,initialLoad:!1,attributeMap:this.getMapFromAttribute(),thumbnails:[],renderLimit:150}}getMapFromAttribute=()=>{let r={};try{let n=unescape(this.props["thumbnail-index-metadata"]||"{}");r=JSON.parse(n)}catch(n){r={},console.error("failed to load saved thumbnail map: ",n)}return r};fixBadNullValue=()=>{this.props["thumbnail-index"]==="null"&&this.props.baseNode&&this.props.baseNode.removeAttribute("thumbnail-index"),this.props.baseNode&&this.props.baseNode.hasAttribute("tag")&&this.props.baseNode.removeAttribute("tag")};isActiveLink=r=>r.purl===this.props.activePURL||r.id===this.props.PIDBeingEdited;render(r){if(!r["thumbnail-index"]||r["thumbnail-index"]==="null"){let c={...r,"thumbnail-index":void 0};return m(i,{...c})}let n=this.state.thumbnails.length>0,s=n&&r["show-tags"],l=n&&r["show-title"],u=n||!this.state.initialLoad?this.state.thumbnails:this.props.adminMode?[null,null,null].fill({attributes:{href:null,hash:"placeholder"},purl:null,thumbnail:null,tags:[],title:null}):[];return this.props.baseNode.tagName==="GALLERY-FREEFORM"&&(u=Sa.default.sortBy(u,c=>{let d=this.state.attributeMap?.[c.id];return d!=null?d.sort+1:0})),u=u.slice(0,this.state.renderLimit),this.renderedItemCount=u.length,m(i,{...r,onCleanUp:this.onCleanUp,disableDragOver:!0,children:u.map((c,d)=>{let f=c.thumbnail?.is_video||c.thumbnail?.is_url||null;return Vt("media-item",{...this.state.attributeMap[c.id]?.attributes,saveable:!1,model:c.thumbnail,autoplay:f,loop:f,muted:f,href:c.purl,rel:"history",itemDragStart:this.onDragStart,key:"thumb id"+c.id,"disable-zoom":!0,className:`thumbnail linked ${c.tags.map(g=>/^\d/.test(g.url)?"-"+g.url:g.url).join(" ").toLowerCase()}${this.isActiveLink(c)?" active":""}`,...c.attributes},m("figcaption",{class:`caption${!l&&!s?" empty":""}`,slot:"caption",children:[l?m("div",{className:"page-title",children:c.title},"title-"+c.url+"-"+c.title+"-"+this.state.layoutIncrement):null,c.tags.length>0&&s?m("div",{className:"tags",children:c.tags.map((g,v)=>m(Q,{children:[m("a",{href:g.url,className:"tag-link",rel:r["links-filter-index"]?"filter-index":"history","data-tag":g.tag,children:g.tag+""}),v<c.tags.length-1?m("span",{className:"tag-separator"}):null]},"tag-link-"+g.url+"-"+this.state.layoutIncrement))}):null]}))})})}onDragStart=r=>{!this.props["thumbnail-index"]||this.props["thumbnail-index"]==="null"||this.props.adminMode&&this.props.baseNode.tagName!=="GALLERY-FREEFORM"&&(r.preventDefault(),r.stopPropagation())};componentDidUpdate(r,n){this.fixBadNullValue(),this.props["thumbnail-index"]&&(r["thumbnail-index"]!==this.props["thumbnail-index"]||this.props.thumbCollection!==r.thumbCollection||this.props.sort!==r.sort||this.props.lastPublishedAt!==r.lastPublishedAt)&&this.setThumbnails(),this.props["thumbnail-index-metadata"]!==r["thumbnail-index-metadata"]&&this.setState({attributeMap:this.getMapFromAttribute()}),this.ticking||(this.ticking=!0,setTimeout(()=>{this.renderedItemCount>=this.state.renderLimit&&this.setState({renderLimit:this.state.renderLimit+250}),delete this.ticking},200)),this.props["thumbnail-index"]!==r["thumbnail-index"]&&this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&(this.props.pageInfo.setPageData({filter:this.props["thumbnail-index"]},this.props.baseNode),this.emitFilterEvent())}emitFilterEvent=()=>{this.props["thumbnail-index"]&&!this.props.adminMode&&(this.emitFilterDebounce=requestAnimationFrame(()=>{var r=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:this.props["thumbnail-index"]}});this.props.baseNode.dispatchEvent(r)}))};updateOldThumbMetaData=Sa.default.debounce(()=>{let r=this.props.baseNode.querySelector('script[type="text/thumbnail-metadata"]');if(r){try{CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",escape(r.textContent))},{preventDraft:!0})}catch{}CargoEditor?.mutationManager?.execute?.(()=>{r.remove()},{preventDraft:!0})}},2e3);componentDidMount(){this.fixBadNullValue(),this.updateOldThumbMetaData(),this.setThumbnails(),this.props["thumbnail-index"]&&this.props["thumbnail-index"]!=="null"&&this.emitFilterEvent(),this.props.baseNode.addEventListener("keydown",this.onKeyDown),this.props.baseNode.addEventListener("filter-thumbnail-index",this.setThumbnails),document.addEventListener("filter-thumbnail-index",this.setThumbnails),this.props.baseNode.addEventListener("refresh-thumbnail-index",this.setThumbnails)}componentWillUnmount(){cancelAnimationFrame(this.emitFilterDebounce),this.props.baseNode.removeEventListener("refresh-thumbnail-index",this.setThumbnails),this.props.baseNode.removeEventListener("keydown",this.onKeyDown),this.props.baseNode.removeEventListener("filter-thumbnail-index",this.setThumbnails),document.removeEventListener("filter-thumbnail-index",this.setThumbnails)}onKeyDown=r=>{r.metaKey||r.ctrlKey||!this.props["thumbnail-index"]||(/^.$/u.test(r.key)||r.key==="Enter"||r.key==="Delete"||r.key==="Backspace")&&(r.preventDefault(),r.stopPropagation())};setThumbnails=async()=>{if(!this.props["thumbnail-index"])return;let r=cM(this.props["thumbnail-index"]),n=this.props.lastPublishedAt,s=[];switch(r.type){case"set":try{({data:s}=await zc.default.get(`${li}/pages/${this.props.siteId}/thumbs/set/${r.value}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"tag":try{({data:s}=await zc.default.get(`${li}/pages/${this.props.siteId}/thumbs/tag/${r.value.join(",")}?limit=999&timestamp=${n}`,{use_cache:!0}))}catch{}break;case"img":try{({data:s}=await zc.default.get(`${li}/sites/${this.props.siteId}/media/images?with-pages=true`,{use_cache:!0}))}catch{}s=s.filter(d=>d.media.length>0&&d.password_enabled==!1),s=Sa.default.flatMap(s,d=>d.media.map(f=>({display:!0,id:f.id,purl:d.purl,url:d.purl,sort:0,tags:[],thumbnail:f,title:m(Q,{children:[m("a",{href:d.purl,rel:"noopener nofollow",target:"_blank",className:"page-link",children:d.title}),m("br",{}),m("a",{target:"_blank",rel:"noopener nofollow",href:"https://freight.cargo.site/o/i/"+f.hash+"/"+f.name,children:f.name})]}),attributes:{href:null,"force-quick-view":!0,hash:f.hash}})));break;default:try{({data:s}=await zc.default.get(`${li}/pages/${this.props.siteId}/thumbs/all?limit=999`,{use_cache:!0}))}catch{}break}let l=store.getState();s=s.filter(d=>{let f=l.pages.byId[d.id];return!(f&&f.crdt_state!==Ft.Published||f&&r.type==="set"&&l.structure.byParent[r.value]&&!l.structure.byParent[r.value].some(g=>g===f.id))});let u=Sa.default.unionBy(this.props.thumbCollection,s,"id").sort((d,f)=>d.sort-f.sort);switch(this.props.sort||"forward"){case"reverse":u.reverse();break;case"shuffle":u.sort(d=>Math.random()-.5);break}u=u.filter(d=>d.pin!==!0&&d.display!==!1&&d.id!==this.props.homepageID&&d.id!==this.props.mobileHomepageID&&d.crdt_state!==Ft.Deleted&&d.thumb_meta?.hide_from_index!==!0&&this.props.pageInfo.pid!==d.id),this.setState({initialLoad:!0,thumbnails:u})};onCleanUp=(r,n,s,l)=>{if(!this.props["thumbnail-index"]||!this.props.adminMode)return;let u={},c="",d=store.getState();if(Array.from(this.props.baseNode.children).filter(g=>g.tagName==="MEDIA-ITEM").forEach((g,v)=>{let S=g.getAttribute("href"),C={},_=g.attributes,M=0;for(M=_.length;M--;)_[M].name==="saveable"||_[M].name==="limit-by"||_[M].name==="class"||_[M].name==="hash"||_[M].name==="href"||_[M].name==="rel"||_[M].name==="slot"||_[M].name==="width"||_[M].name==="height"||_[M].name==="disable-zoom"||(C[_[M].name]=_[M].value);let T=it.getContentByPurl(d,S)?.id||null;T&&(u[T]={sort:v,attributes:C})}),u={...this.state.attributeMap,...u},c=JSON.stringify(u),c=escape(c),c!==this.props["thumbnail-index-metadata"])CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("thumbnail-index-metadata",c)},{preventDraft:!0}),this.setState({attributeMap:u||{}});else if(l){if(CargoEditor&&CargoEditor?.getActiveEditor?.()){let g=CargoEditor.rangy.createRange();g.selectNode(this.props.baseNode),g.collapse(),CargoEditor.helpers.setActiveRange(g)}this.setState({layoutIncrement:this.state.layoutIncrement+1})}}}return Ht(Oe((t,r)=>{let n=SW(r["thumbnail-index"],t.structure,t.pages),s=(t.pages.byId[t.frontendState.activePID]||t.sets.byId[t.frontendState.activePID])?.purl;return!se&&!s&&(s=window.location.pathname.replace(/^\//,"")),typeof s=="string"&&(s=s.toLowerCase()),{lastPublishedAt:t.adminState?.crdt?.publishedAt??"000",thumbCollection:n,activePURL:s,adminMode:t.frontendState.adminMode,PIDBeingEdited:t.frontendState.PIDBeingEdited,inAdminFrame:t.frontendState.inAdminFrame,siteId:t.site.id,homepageID:t.site.homepage_id,mobileHomepageID:t.site.mobile_homepage_id}})(e))}var zc,Sa,SW,oo,Bl=B(()=>{Ce();We();ht();Ot();Ne();pa();zc=fe(un(),1);Ni();Rr();Si();uM();Sa=fe(Se(),1);te();Ce();SW=Tn((i,e,t)=>{let r=[];if(!i)return r;let n=cM(i);switch(n.type){case"set":r=(e.byParent[n.value]||[]).map(s=>t.byId[s]).filter(s=>s!==void 0);break;case"tag":r=Object.values(t.byId).filter(s=>s.tags&&s.tags.find(l=>n.value?.includes(l.url)));break;case"img":r=[];break;default:r=Object.values(t.byId);break}return r.map(s=>{let l=null;return s.thumb_media_id&&s.media?l=s.media.find(u=>u.id===s.thumb_media_id)||null:s.thumbnail&&(l=s.thumbnail),{id:s.id,title:s.title,purl:s.purl,thumb_meta:s.thumb_meta||{},display:s.display,sort:e.bySort[s.id],tags:s.tags||[],pin:s.pin,crdt_state:s.crdt_state,thumbnail:l}})});oo=_W});var fM,ni,dM,Nb,pM,hM,CW,EW,PW,IW,_a,Db,Ob,Rh,AW,Mh=B(()=>{Ce();We();xa();ht();Ci();vs();JR();ys();Ki();Bl();Gr();Jn();Ni();Ne();ya();fM=fe(Se(),1);te();Ce();ni={name:"slideshow",displayName:"Slideshow",tagName:"GALLERY-SLIDESHOW",disabledMediaItemOptions:["scale","sticker","limit-by"],mobileOptions:[{labelName:"",name:"mobile-transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"mobile-transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:i=>i==="slide"||i==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"mobile-navigation",type:"check-box",value:!0},{labelName:"Captions",name:"mobile-show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"mobile-autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"mobile-autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"width"}]},{name:"mobile-scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"mobile-limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"mobile-limit-by",shouldBe:"fit"}]},{name:"mobile-limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Shuffle",name:"mobile-shuffle",type:"check-box",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(i){i.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}],options:[{labelName:"",name:"transition-type",type:"radio",value:"slide",values:[{labelName:"Fade",value:"fade"},{labelName:"Slide",value:"slide"},{labelName:"Scrub",value:"scrub"}]},{labelName:"Transition Speed",name:"transition-speed",type:"scrubber",numberOnlyMode:!0,value:.8,min:0,max:10,step:.1,requirements:[{option:"transition-type",shouldBe:i=>i==="slide"||i==="fade"}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Navigation",name:"navigation",type:"check-box",value:!0},{labelName:"Captions",name:"show-captions",type:"check-box",value:!0}]},{labelName:"Autoplay",name:"autoplay",type:"check-box",value:!0},{labelName:"Autoplay Delay",name:"autoplay-delay",type:"scrubber",value:3,step:.1,min:.1,max:30,numberOnlyMode:!0,requirements:[{option:"autoplay",shouldBe:!0}]},{labelName:"Pause On Hover",name:"pause-on-hover",type:"check-box",value:!1,requirements:[{option:"autoplay",shouldBe:!0}]},{type:"spacer"},{type:"group",className:"slideshow-size-group grid-columns-template-1-auto",children:[{type:"custom",name:"widthTextLabel",requirements:[{option:"limit-by",shouldBe:"width"}]},{name:"scale",value:"50rem",allowCalc:!0,allowVar:!0,type:"scrubber",allowOutOfRangeTextInput:!1,labelName:"Scale: Height",allowedUnits:["px","%","rem","em","vmin","vmax","vw","vh"],min:{px:8,rem:.5,em:.5,etc:1},max:{"%":100,vmin:100,vmax:100,vh:100,vw:100,etc:void 0},addDefaultUnitToUnitlessNumber:!0,defaultUnit:"rem",requirements:[{option:"limit-by",shouldBe:"height"}]},{type:"custom",name:"fitTextLabel",requirements:[{option:"limit-by",shouldBe:"fit"}]},{name:"limit-by",type:"radio",value:"width",values:[{name:"width",customLabel:"widthLabel",value:"width"},{name:"height",customLabel:"heightLabel",value:"height"},{name:"fit",customLabel:"fitLabel",value:"fit"}]}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"center",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"center",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{type:"group",className:"grid-columns-even",children:[{type:"group",className:"grid-columns-even",children:[{labelName:"Disable Zoom",name:"disable-zoom",type:"check-box",value:!1},{labelName:"Shuffle",name:"shuffle",type:"check-box",value:!1}]}]},{labelName:"Disable Scroll Transition",name:"disable-scroll-animation",type:"check-box",value:!1,requirements:[{option:"imageSettingsScrollAnimation",shouldBe:!0}]},{name:"auto-height",value:"custom"},{name:"height-limit",value:"60%"},{name:"adjust-for-captions",value:!1},{type:"more-actions",children:[{labelName:"Slides",name:"toggle-thumbs",type:"button",className:"text-button remove",onClick:function(i){i.preventDefault(),this.state.activeGallery.thumbnailsVisible?this.state.activeGallery.hideThumbnails():this.state.activeGallery.showThumbnails()}}]}]};ni.defaults=at(ni.options);ni.mobileDefaults=at(ni.mobileOptions);dM=.04,Nb=.25,pM=.05,hM=.1,CW=.08,EW=2,PW=3,IW=15,_a=0,Db=1,Ob=2,Rh=class extends xi{constructor(e){super(e);let t=se?{hasLayout:!1,visible:!1,position:"unknown"}:{hasLayout:!0,visible:!0,position:"inside"};this.state={captionHeightMap:[],showThumbnails:this.props.thumbnails===!0||this.props.thumbnails==="true",hasLoaded:se,visible:!se,viewportIntersection:t,layoutIncrement:0,pointerOver:!1,initialShowNavigation:!0,destinationIndex:0,activeIndex:0,inTransition:!1,elWidth:0,hasSizes:{slideHeightPx:!1,elWidth:!1},slideHeightPx:0,tallestSlide:{index:0,height:0},...this.getNavigation(),isDragging:!1,isPointerDown:!1,scrubAnimating:!1,scrubStatus:_a},this.loadedItems=new Set,this.shuffleSeed=Math.random()*100,this.lastPointerFrameDeltaX=0,this.pointerFrameDeltaX=0,this.scrubCounter=0,this.lastPointerX=0,this.firstPointerX=0,this.pointerX=0,this.xTransform=0,this.slideListRef=ve(),this.scrubAnimationRequest=null,this.autoplayInterval=null,this.updateOptions(),this.lastTimestamp=0,Object.defineProperty(this.props.baseNode,"thumbnailsVisible",{get:()=>this.state.showThumbnails,set:r=>this.setState({showThumbnails:!!r}),configurable:!0}),this.props.baseNode.pause=this.pause,this.props.baseNode.resume=this.startAutoplay,this.props.baseNode.nextSlide=this.nextSlide,this.props.baseNode.prevSlide=this.prevSlide,this.props.baseNode.showThumbnails=this.showThumbnails,this.props.baseNode.hideThumbnails=this.hideThumbnails,this.props.baseNode.goToSlide=this.goToSlide,this.props.baseNode.getActiveSlide=this.getActiveSlide,this.props.baseNode.updateNavigation=()=>{let{prevNavigation:r,nextNavigation:n}=this.getNavigation();(this.state.prevNavigation!==r||this.state.nextNavigation!==n)&&this.setState({nextNavigation:n,prevNavigation:r})}}render(e,t){this.updateOptions();let{baseNode:r,adminMode:n,pageInfo:s,usesScrollAnimation:l}=e,{showThumbnails:u,activeIndex:c,destinationIndex:d,inTransition:f,isPointerDown:g,scrubAnimating:v,hasLoaded:S,pointerOver:C,hasSizes:_,initialShowNavigation:M,captionHeightMap:T,viewportIntersection:F}=t,{showCaptions:H,autoPlayDelay:L,limitBy:z,adjustForCaptions:ie}=this.options,{elWidth:X}=t;_.elWidth||(this.cachedElWidth=this.props.baseNode.offsetWidth,X=this.cachedElWidth);let N=z==="fit"?"var(--fit-height)":Zt(this.options.scale,z=="width"?"%":"rem").join(""),ee=this.renderSlides(),de=m("div",{ref:this.slideListRef,className:"slide-list",draggable:!1,tabIndex:0,children:ee}),Z={};u||(Z.onKeyDown=this.handleKeyDown,Z.onClickCapture=this.onClickCapture,Z.className="slideshow-wrapper",f&&(Z.className+=" in-transition"),g&&(Z.className+=" pointer-down"),v&&this.isScrub&&(Z.className+=" scrubbing"));let Y=z==="width"?this.state.tallestSlide.height:this.state.slideHeightPx,D=this.makeMediaItemAttributes(),V=this.mediaItems.map((U,J)=>{let ae=D[J].slot,ue=U._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},he="100%",me=ue.width,Ae=ue.height,Ie=null;if(u)he=null;else if(typeof me=="string"&&me.indexOf("%")>-1)he=me;else if(z!=="width"){let De=this.state.captionHeightMap[J]||0;ie?Ie=Y+-De:Ie=Y;let He=Ae/me,ut=Ie+-ue.mediaItemSize.padSize+-ue.mediaSize.padSize,Ve=ut*(1/He),ot=(ut+ue.mediaSize.padSize)/(Ve+ue.mediaSize.padSize),_e=(Ie+-ue.mediaItemSize.padSize)*(1/ot);Math.abs(_e+ue.mediaItemSize.padSize-X)<1?he="100%":he=`${Math.min(100,100*(_e+ue.mediaItemSize.padSize)/X)}%`}return{captionHeight:this.state.captionHeightMap[J]||0,customSlideHeight:Ie,figureWidth:he,slot:ae}}),G=Math.min(this.options.speed/2,.1),K=Math.max(Math.floor(X/200),2);this.setMediaElementProperties(D);let ne=this.getSlideListStyles();this.slideListRef.current&&ne.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=ne.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=ne["--slideshow-caption-transform"]);let W=l&&!this.props["disable-scroll-animation"]?" scroll-transition":"";return m(Q,{children:[Ge(m(Q,{children:m(dn,{uses:W,visibility:F,onLazyLoadChange:null,adminMode:n,customElementMode:!0,baseNode:r,children:[m("style",{children:`
* {
	box-sizing: border-box;
}

:host([hidden]) {
	display: none;
}

:host {
	position: relative;
	transition-timing-function: ease-in-out;
    transition-property: opacity;
    transition-duration: .2s;
	opacity: ${S||u?1:0};

	width: var(--resize-parent-width, 100%);
	max-width: 100%;
    --navigation-opacity: ${C||M?1:0};
    --slide-height: ${Y}px;

	--slideshow-horizontal-align: ${this.options.hAlign==="left"?"flex-start":this.options.hAlign==="right"?"flex-end":"center"};

	--slideshow-caption-align: ${this.options.hAlign==="left"?"left":this.options.hAlign==="right"?"right":"center"};	

	--slideshow-vertical-align: ${this.options.vAlign==="top"?"flex-start":this.options.vAlign==="bottom"?"flex-end":"center"};

    ${u?`
	    display: grid;
		grid-template-columns: repeat(${K}, 1fr);
		column-gap: 2rem;
		row-gap: 2rem;
		align-items: start;
		overflow:hidden;
		--display-slideshow-captions: block;
		--slideshow-caption-opacity: 1;	

	`:`
		--slideshow-caption-transition-duration: ${G}s;	
		--display-slideshow-captions: ${H?"block":"none"}!important;
	    display: flex;
    	flex-direction: column;
	`}
}

${u?"":V.map((U,J)=>`
::slotted(media-item[slot="${U.slot}"]){
	--item-width: ${U.figureWidth};
	--slide-height: ${U.customSlideHeight||Y}px; 
	--caption-height: ${U.captionHeight}px;
}`).join("")}

${u?`
::slotted(media-item){
	min-width: 0;
	max-width: 100%;
	--item-width: 100%;	
	--resize-parent-width: 100%;
	--slide-height: auto;
}`:`
::slotted(media-item) {
    transition: none!important;
    display:block;
	min-width: ${X}px;
	flex-shrink: 0;
}


	`}

.slide { 
    -webkit-user-select:none;
    user-select:none;
    flex-shrink: 0;
    width: ${X}px;
}

.navigation-wrapper {

	order: 1;
	position: relative;
}

.slideshow-wrapper {
	--resize-parent-width: ${X}px;
	order: 3;
	margin-bottom: ${Math.max(...this.state.captionHeightMap)}px;
}


.slide-list {
	-webkit-backface-visibility: hidden;
	backface-visibility: hidden;
	transform:translateX(0);
    height: var(--slide-height, auto);		
    touch-action: manipulation;
    position: relative;
    display: flex;
    flex-wrap: nowrap;
    flex-direction: row;
    justify-content: flex-start;
}

.slide-list:focus {
    outline: 0;
}


/*
slide transition type 
default transition is slide
*/
${this.isSlide?`
.slide {
    visibility:hidden;
	--base-translate: none!important;    
}

.pointer-down .adjacent-slide.slide,
.in-transition .adjacent-slide.slide,
.active-slide.slide {
    visibility: visible;
}

.slideshow-wrapper {
	overflow-y: visible;
	overflow-x: clip;
}


`:""}

${this.isFade?`


.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;

    ${this.state.cancelFadeTransition?`
	  -webkit-transition: none !important;
	  -moz-transition: none !important;
	  -o-transition: none !important;
	  transition: none !important;
    `:`
		transition-timing-function: var(--slideshow-fade-transition-out, cubic-bezier(0.68, 0, 0.68, 0.19));
	    transition-property: opacity;
		transition-duration: ${this.options.speed}s;	
    `}
    display: none;
}

.adjacent-slide.slide {
    display: flex;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition-timing-function: var(--slideshow-fade-transition-in, cubic-bezier(0.3, 0, 0.4, 1));
	opacity: 1!important;
}

	`:""}


${this.isScrub?`
.slide {
    position: absolute;
    top: 0;
    left: 0;
    opacity: 0;
    display: flex;
    z-index: 0;
	transition: opacity .08s cubic-bezier(0.5, 0, 1, 0.5);						


    visibility: hidden;
}

.adjacent-slide.slide {
    visibility: visible;
}

.active-slide.slide {
    position: relative;
    z-index: 3;
}

.destination-slide.slide {
	transition: opacity .08s cubic-bezier(0, 0.5, 0.5, 1);
    opacity: 1!important;
}

.slide {
    cursor: ew-resize;
}
	`:""}

/* captions */

.slide {
	--slideshow-caption-opacity: 0;	
}

.in-transition .slide{
    --slideshow-caption-opacity: 0;
}

${this.state.hideCaptionDuringTransition?"":`
.destination-slide.active-slide.slide {
    --slideshow-caption-opacity: 1;
}
`}

${G==0?`
.destination-slide.slide,
.active-slide.slide {
    --slideshow-caption-opacity: 1;
}	
`:""}

.scrubbing .slide {
    --slideshow-caption-opacity: 0;
}

/** default navigation **/
.navigation-wrapper {

    position: absolute;
    left:0;
    right: 0;
    
    z-index: 2;
    height: var(--slide-height, auto);
    opacity: var(--navigation-opacity, 1);

}


 				`}),n&&s.isEditing&&!se&&m(ZR,{...e,onItemResize:this.onItemResize,inTransition:this.state.inTransition||this.state.isDragging,suppressMutation:this.state.isDragging,gallerySpecificAttributes:l?["disable-scroll-animation"]:[],galleryInstance:r}),!u&&this.options.navigation&&this.len>1&&m("div",{className:"navigation-wrapper",part:`slideshow-nav ${C||M?"navigation-active":""}`,children:[this.state.prevNavigation,this.state.nextNavigation]}),u?m("slot",{name:"thumbnails",onClick:this.onThumbnailClick}):m("div",{part:"slides",...Z,onPointerDown:this.onPointerDown,children:de}),m(Mr,{values:{slideHeightPx:N,elWidth:"100%"},style:u?{gridColumn:`1 / span ${K}`}:null,onResize:this.onResize})]},"slideshow-host")},"slideshow-fragment"),this.props.baseNode.shadowRoot),this.props.children]})}getNavigation=()=>{let e=Array.from(this.props.baseNode.children),t=e.find(n=>n.getAttribute("part")=="previous-button"),r=e.find(n=>n.getAttribute("part")=="next-button");return t?t=Hl(t,null,{onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Ob),key:"previous-button",part:"previous-button"}):t=m("div",{part:"slideshow-nav-previous-button",class:"slideshow-navigation previous-button",onClick:this.prevSlide,onPointerDown:n=>this.startScrubDelta(n,Ob),children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),r?r=Hl(r,null,{onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Db),key:"next-button",part:"next-button"}):r=m("div",{part:"slideshow-nav-next-button",class:"slideshow-navigation next-button",onClick:this.nextSlide,onPointerDown:n=>this.startScrubDelta(n,Db),children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),{prevNavigation:t,nextNavigation:r}};updateOptions(){let{"adjust-for-captions":e=ni.defaults["adjust-for-captions"].value,"limit-by":t=ni.defaults["limit-by"].value,scale:r=ni.defaults.scale.value,autoplay:n=ni.defaults.autoplay.value,"autoplay-delay":s=ni.defaults["autoplay-delay"].value,"transition-speed":l=ni.defaults["transition-speed"].value,"transition-type":u=ni.defaults["transition-type"].value,navigation:c=ni.defaults.navigation.value,"vertical-align":d=ni.defaults["vertical-align"].value,"horizontal-align":f=ni.defaults["horizontal-align"].value,shuffle:g=ni.defaults.shuffle.value,"show-captions":v=ni.defaults["show-captions"].value,"disable-zoom":S=ni.defaults["disable-zoom"].value,"disable-scroll-animation":C=ni.defaults["disable-scroll-animation"].value,"pause-on-hover":_=ni.defaults["pause-on-hover"].value,"mobile-limit-by":M,"mobile-scale":T,"mobile-adjust-for-captions":F,"mobile-autoplay":H,"mobile-autoplay-delay":L,"mobile-transition-speed":z,"mobile-transition-type":ie,"mobile-navigation":X,"mobile-vertical-align":N,"mobile-horizontal-align":ee,"mobile-shuffle":de,"mobile-show-captions":Z,"mobile-pause-on-hover":Y,"auto-height":D=ni.defaults["auto-height"].value,"height-limit":V=ni.defaults["height-limit"].value,"mobile-auto-height":G,"mobile-height-limit":K}=this.props;this.props["limit-by"]===void 0&&this.props["auto-height"]!==void 0&&(D==="custom"?(t="height",this.props.scale==null&&this.props["height-limit"]!==void 0&&(r=V)):D==="fit"?(t="fit",this.props.scale==null&&(r=100)):(t="width",this.props.scale==null&&(r=100))),u=u=="fade"||u=="scrub"?u:"slide";let ne=this.props.isMobile,W={adjustForCaptions:ne&&F!==void 0?F:e,shuffle:ne&&de!==void 0?de:g,autoplay:ne&&H!==void 0?H:n,autoPlayDelay:ne&&L!==void 0?L:s,speed:ne&&z!==void 0?z:l,type:ne&&ie!==void 0?ie:u,navigation:ne&&X!==void 0?X:c,disableScrollAnimation:C,disableZoom:S,limitBy:ne&&M!==void 0?M:t,scale:ne&&T!==void 0?T:r,vAlign:ne&&N!==void 0?N:d,hAlign:ne&&ee!==void 0?ee:f,showCaptions:ne&&Z!==void 0?Z:v,pauseOnHover:ne&&Y!==void 0?Y:_};W.speed==0&&W.type==="slide"&&(W.type="fade"),this.options=W,this.isScrub=W.type==="scrub",this.isSlide=W.type==="slide",this.isFade=W.type==="fade";let U=Array.from(this.props.baseNode.children);if(this.mediaItems=Array.from(this.props.baseNode.children).filter(ue=>ue.tagName=="MEDIA-ITEM"),this.len=this.mediaItems.length,this.len>0){if(this.shuffleList=[],this.options.shuffle){for(let me=0;me<this.len;me++)this.shuffleList.push(me);let ue=this.shuffleSeed,he=0;this.shuffleList=this.shuffleList.sort(me=>(he++,Math.sin(me*1e3+he*2+ue*ue)))}}else this.shuffleList=[];let J=this.isScrub?Math.min(IW,(this.len-1)/2):Math.min(PW,(this.len-1)/2),ae=J;ae=Math.max(1,Math.floor(ae)),J=Math.max(1,Math.ceil(J)),this.len==3?(ae=1,J=1):this.len==2?ae=0:this.len==1&&(ae=0,J=0),this.lazyloadPrev=ae,this.lazyloadNext=J}setMediaElementProperties=e=>{if(this.len==0)return;[...this.mediaItems].forEach((r,n)=>{let s=e[n]||{},l=s.visibility||!1;delete s.isAdjacent,delete s.visibility,this.state.hasLoaded?s.itemLoad=null:s.itemLoad=this.onMediaLoad;let u=r._props||{};no(r,{...u,...s},u,!1,!1),r._setZoomStatus?.(this.options.disableZoom),this.props.usesScrollAnimation&&!this.props["disable-scroll-animation"]&&!this.options.disableScrollAnimation&&r._setScrollTransitionStatus?.(!0);let c=this.state.viewportIntersection.position!=="inside"?this.state.viewportIntersection.position:"outside";r.assignedSlot&&this.state.visible&&!this.state.inTransition?(jt(r,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),l||r.getAttribute("autoplay")==="true"?jt(r,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}):jt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1})):jt(r,"viewportIntersectionChange",{visible:!1,position:c},{bubbles:!1})})};componentDidMount(){Array.from(this.props.baseNode.children).filter(r=>{let n=r.assignedSlot;return r.tagName==="MEDIA-ITEM"&&n!==null&&r.getAttribute("hash")==="placeholder"}).forEach(this.onMediaLoad);let t=this.props.pageInfo.getPageData(this.props.baseNode);t.activeSlide!==void 0&&(this.waitingToGoToSlide=void 0,t.activeSlide>=this.len?this.waitingToGoToSlide=t.activeSlide:this.goToSlide(t.activeSlide)),se||(di(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.addEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.addEventListener("pointerleave",this.onPointerLeave))}componentWillUnmount(){this.loadedItems.clear(),clearTimeout(this.scrollRestore),se||(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),this.props.baseNode.removeEventListener("pointerenter",this.onPointerEnter),this.props.baseNode.removeEventListener("pointerleave",this.onPointerLeave))}onViewportIntersectionChange=e=>{this.setState({visible:e.visible,viewportIntersection:e})};componentDidUpdate(e,t){e.childArray.length!==this.props.childArray.length&&this.waitingToGoToSlide!==void 0&&this.props.childArray.length>=this.len&&(this.goToSlide(this.waitingToGoToSlide),this.waitingToGoToSlide=void 0),e.slideshowLoad!==this.props.slideshowLoad&&this.state.hasLoaded&&this.props.slideshowLoad&&this.props.slideshowLoad(),(t.layoutIncrement!==this.state.layoutIncrement||t.elWidth!==this.state.elWidth||t.slideHeightPx!==this.state.slideHeightPx||t.hasSizes.elWidth!==this.state.hasSizes.elWidth||t.hasSizes.slideHeightPx!==this.state.hasSizes.slideHeightPx)&&this.updateSlideSizes();let r=!1;this.props.thumbnails!=e.thumbnails&&(r=!0,this.onPointerUp(),this.onSlideEnd()),this.props["transition-type"]!==e["transition-type"]&&(this.setState(n=>({destinationIndex:n.activeIndex,cancelFadeTransition:!0}),()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(n=>{n.offsetHeight}),this.setState({cancelFadeTransition:!1})}),r=!0,this.onPointerUp(),this.onSlideEnd()),(e.isMobile!=this.props.isMobile||e.autoplay!=this.props.autoplay||e["mobile-autoplay"]!=this.props["mobile-autoplay"]&&this.props.isMobile)&&(r=!0),t.pointerOver!==this.state.pointerOver&&this.options.pauseOnHover&&(r=!0),t.visible!=this.state.visible&&(r=!0),t.hasLoaded!==this.state.hasLoaded&&(r=!0),r&&clearTimeout(this.autoplayInterval),r&&this.startAutoplay(),this.isScrub&&(!t.isDragging&&this.state.isDragging?document.body.classList.add("slideshow-scrub-dragging"):!this.state.isDragging&&t.isDragging&&document.body.classList.remove("slideshow-scrub-dragging")),e.adminMode!==this.props.adminMode&&(this.state.inTransition&&this.onSlideEnd(),this.setState({showThumbnails:!1})),this.state.activeIndex!==t.activeIndex&&(this.props.pageInfo.setPageData({activeSlide:this.state.activeIndex},this.props.baseNode),this.state.activeIndex==this.state.destinationIndex&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.showCaptionsAfterTransitionTimeout=setTimeout(()=>{this.setState({hideCaptionDuringTransition:!1})},80))),(this.state.inTransition!==t.inTransition||this.state.isPointerDown!==t.isPointerDown||this.state.isDragging!==t.isDragging)&&((this.state.inTransition||this.state.isDragging)&&!this.state.hideCaptionDuringTransition&&(clearTimeout(this.showCaptionsAfterTransitionTimeout),this.setState({hideCaptionDuringTransition:!0})),cancelAnimationFrame(this.updateSlideTransformAnimationFrame),this.updateSlideTransform()),this.state.activeIndex!==t.activeIndex&&this.state.activeIndex}pause=()=>{this.setState(e=>({inTransition:!1,destinationIndex:e.activeIndex}),()=>{this.onSlideEnd(),clearTimeout(this.autoplayInterval)})};startAutoplay=()=>{this.options.autoplay&&this.state.visible&&this.state.hasLoaded&&!this.options.showThumbnails&&(this.options.pauseOnHover&&!this.state.pointerOver||!this.options.pauseOnHover)&&(clearInterval(this.autoplayInterval),this.autoplayInterval=setTimeout(this.nextSlide,this.options.autoPlayDelay*1e3))};onItemResize=(e,t,r)=>{this.setState(n=>{let s=Array.from(t.children).find(d=>d.getAttribute("slot")==="caption"),l=[...n.captionHeightMap],u=n.captionHeightMap[r],c=0;if(s){let d=window.getComputedStyle(s),f=d.getPropertyValue("position");f==="fixed"||f==="absolute"?c=0:d.getPropertyValue("box-sizing")==="content-box"?(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0,c+=parseFloat(d.getPropertyValue("padding-top"))||0,c+=parseFloat(d.getPropertyValue("padding-bottom"))||0,c+=parseFloat(d.getPropertyValue("border-top"))||0,c+=parseFloat(d.getPropertyValue("border-bottom"))||0):(c=parseFloat(d.getPropertyValue("height"))||0,c+=parseFloat(d.getPropertyValue("margin-top"))||0,c+=parseFloat(d.getPropertyValue("margin-bottom"))||0)}else c=0;return c!==u?(l[r]=c,{captionHeightMap:l,layoutIncrement:n.layoutIncrement+1}):{layoutIncrement:n.layoutIncrement+1}})};updateSlideSizes=()=>{if(this.len==0)return;let{hasSizes:e}=this.state,{elWidth:t}=this.state;!e.elWidth&&this.cachedElWidth&&(t=this.cachedElWidth);let r=this.mediaItems.map((l,u)=>{let c=l._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},d=c.width,f=c.height,g=f;if(typeof d=="string"&&d.indexOf("%")>-1)g=parseFloat(f)+c.mediaItemSize.padSize+c.mediaSize.padSize||150+c.mediaItemSize.padSize+c.mediaSize.padSize;else{let v=f/d;if(c.mediaSize.padSize>0){let S=((t-c.mediaSize.padSize)*v+c.mediaSize.padSize)/t;g=(t-c.mediaItemSize.padSize)*S+c.mediaItemSize.padSize}else g=(t-c.mediaItemSize.padSize)*v+c.mediaItemSize.padSize}return g}),n=fM.default.maxBy(r,l=>l||0)||0,s={index:r.indexOf(n),height:n};this.setState({tallestSlide:s})};onResize=(e,t)=>{this.setState(r=>({hasSizes:{...r.hasSizes,[e]:!0},[e]:t}))};handleKeyDown=e=>{switch(e.keyCode){case 39:e.preventDefault(),this.nextSlide();break;case 37:e.preventDefault(),this.prevSlide();break}};onPointerEnter=e=>{this.setState({pointerOver:!0})};onPointerLeave=e=>{this.setState({pointerOver:!1})};scrubAnimate=()=>{let{elWidth:e}=this.state,t=dM===0?1/this.len:dM,r=this.pointerX;if(this.state.isPointerDown){this.scrubCounter=0;let s=this.lastPointerX-this.pointerX;this.pointerFrameDeltaX!=0&&(this.lastPointerFrameDeltaX=this.pointerFrameDeltaX),this.pointerFrameDeltaX=s,this.lastPointerFrameDeltaX>0&&this.pointerFrameDeltaX<0?this.firstPointerX=this.pointerX:this.lastPointerFrameDeltaX<0&&this.pointerFrameDeltaX>0&&(this.firstPointerX=this.pointerX)}else this.state.scrubStatus===Ob?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+-hM):this.state.scrubStatus===Db?(this.scrubCounter=0,this.pointerFrameDeltaX=this.pointerFrameDeltaX+hM):this.state.scrubStatus===_a&&(this.pointerFrameDeltaX<0?this.pointerFrameDeltaX=Math.min(0,this.pointerFrameDeltaX+pM):this.pointerFrameDeltaX=Math.max(0,this.pointerFrameDeltaX+-pM));if(Math.abs(this.pointerFrameDeltaX)>Nb*t*e&&(this.pointerFrameDeltaX>0?this.pointerFrameDeltaX=Nb*t*e:this.pointerFrameDeltaX=-(Nb*t)*e),this.state.isPointerDown){let s=this.lastPointerX-this.pointerX,l=this.lastPointerX-(this.lastPointerX+this.pointerFrameDeltaX);this.firstPointerX=this.firstPointerX-(s-l)}else this.pointerX=this.lastPointerX+this.pointerFrameDeltaX,r=this.pointerX;if(this.lastPointerX=this.pointerX,this.xDrag=r-this.firstPointerX,Math.abs(this.xDrag/e)>t&&this.len>1){let s=this.xDrag>0?(this.state.activeIndex+1)%this.len:(this.state.activeIndex+-1+this.len)%this.len;this.setState({destinationIndex:s,activeIndex:s}),this.xDrag=9e9,this.scrubCounter=0,this.firstPointerX=this.pointerX}clearTimeout(this.autoplayInterval),this.state.scrubStatus==_a&&this.scrubCounter>=30&&!this.state.isPointerDown?(this.setState({scrubAnimating:!1}),this.scrubCounter=0,this.options.autoplay&&(this.autoplayInterval=setTimeout(this.nextSlide,Math.max(100,this.options.autoPlayDelay*1e3-1e3)))):(this.scrubCounter++,this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate))};startScrubDelta=(e,t)=>{if(e){if(e.button==2)return;e.preventDefault()}!this.isScrub||this.len<2||(this.setState({scrubStatus:t}),this.scrubCounter=0,this.firstPointerX=this.lastPointerX=this.pointerX=0,this.lastPointerFrameDeltaX=this.pointerFrameDeltaX=0,this.xDrag=0,this.setState({scrubAnimating:!0}),cancelAnimationFrame(this.scrubAnimationRequest),this.scrubAnimationRequest=requestAnimationFrame(this.scrubAnimate),window.addEventListener("pointerup",this.onScrubPointerUp),window.addEventListener("pointercancel",this.onScrubPointerUp))};onScrubPointerUp=e=>{this.setState({scrubStatus:_a}),window.removeEventListener("pointerup",this.onScrubPointerUp),window.removeEventListener("pointercancel",this.onScrubPointerUp)};onClickCapture=e=>{this.cancelClick&&e.preventDefault()};onPointerDown=e=>{e.defaultPrevented||e.target.closest(".caption")||!this.slideListRef.current||e.button==2||(this.cancelClick=!1,clearTimeout(this.autoplayInterval),this.firstPointerX=this.lastPointerX=this.pointerX=e.clientX,this.pointerFrameDeltaX=0,this.xDrag=0,this.initialXTransform=this.isSlide?this.xTransform:0,this.setState(t=>({isPointerDown:!0})),window.cancelAnimationFrame(this.scrubAnimationRequest),this.isScrub&&(this.scrubAnimationRequest=window.requestAnimationFrame(this.scrubAnimate)),window.addEventListener("pointermove",this.onWindowPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp))};getSlideListStyles=()=>{let e="translateX(0)",t="translateX(0)";return this.isSlide&&(e=`translateX(${this.state.elWidth*(-1+(1-this.lazyloadPrev))+Math.round(this.xTransform)}px)`,t=`translateX(${-Math.round(this.xTransform)}px)`),{"--slideshow-caption-transform":t,transform:e}};updateSlideTransform=e=>{let{destinationIndex:t,activeIndex:r,elWidth:n,finishingTransition:s}=this.state,l="";this.progress===void 0&&(this.progress=0);let u=!1;if(this.isSlide&&(this.state.inTransition||this.state.isPointerDown||this.state.isDragging)){l="transform";let d=this.xDrag+this.initialXTransform,f=0,g=d,v=n;t>r?v=-n:t<r?v=n:v=0;let S=Math.abs(v-g);if(u=S<40,this.state.isDragging||this.state.isPointerDown)this.progress=0;else{let C=0;!e||e==0?this.lastTimestamp=0:(this.lastTimestamp==0&&(this.lastTimestamp=e),C=e-this.lastTimestamp,this.lastTimestamp=e,this.state.isPointerDown||(this.progress=this.progress+C)),s?f=HS(this.progress/(this.options.speed*1e3*(S/n))):f=US(this.progress/(this.options.speed*1e3)),d=f*v+(1-f)*g}d=Math.min(Math.max(-n,d),n),this.xTransform=d,f>=1&&!(this.state.isPointerDown||this.state.isDragging)?this.onSlideEnd():this.updateSlideTransformAnimationFrame=requestAnimationFrame(this.updateSlideTransform)}else this.xTransform=0,this.progress=0;let c=this.getSlideListStyles();this.slideListRef.current&&c.transform!==this.slideListRef.current.style.transform&&(this.slideListRef.current.style.transform=c.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=c["--slideshow-caption-transform"],this.slideListRef.current.style.willChange=l),this.setState(d=>d.skipTransitionWhenClicked!==u?{skipTransitionWhenClicked:u}:null)};onPointerUp=e=>{window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onWindowPointerMove),clearTimeout(this.autoplayInterval),cancelAnimationFrame(this.scrubPointerAnimationRequest);let t=!1,r=!1;e?.target?.closest("a, [href]")&&(t=!0),e?.target?.closest("media-item.zoomable")&&(r=!0),!t&&!r&&e?.preventDefault(),e?.pointerType==="touch"&&!t&&e.type!=="pointercancel"&&e.target.nodeName==="MEDIA-ITEM"&&e.target?.shadowRoot?.querySelector(".sizing-frame")?.click(),this.dragDelta=void 0;let n=!1;this.setState(s=>{let{elWidth:l,scrubStatus:u,isPointerDown:c,isDragging:d,inTransition:f,finishingTransition:g,scrubAnimating:v,activeIndex:S,destinationIndex:C,skipTransitionWhenClicked:_}=s;return _&&f?(cancelAnimationFrame(this.updateSlideTransformAnimationFrame),f=!1,this.initialXTransform=0,this.xDrag=0,this.xTransform=0,n=!0):(s.isDragging||f?((this.isSlide||this.isFade)&&(g=!0),this.isScrub&&(v=!0)):t||r?C=S:(!this.isScrub||this.isScrub&&Math.abs(this.xDrag)<8)&&(C=S+1),this.isScrub||this.options.speed==0?f=!1:f=!0),u=_a,d=!1,c=!1,{elWidth:l,scrubStatus:u,isPointerDown:c,isDragging:d,inTransition:f,destinationIndex:C,scrubAnimating:v,finishingTransition:g}},()=>{(this.isScrub||this.options.speed==0||n)&&!t&&(this.onSlideEnd(),n&&this.nextSlide())})};onWindowPointerMove=e=>{this.dragDelta=this.pointerX===void 0?0:e.clientX-this.pointerX,this.pointerX=e.clientX,this.xDrag=this.pointerX-this.firstPointerX,this.setState(t=>{let{activeIndex:r,destinationIndex:n,elWidth:s,scrubStatus:l,isPointerDown:u,isDragging:c,scrubAnimating:d}=t,f={...t},g=Math.abs(this.xDrag/s),v=s*(-2+(1-this.lazyloadNext)),S=s*(1-this.lazyloadPrev);if(!t.isDragging&&t.isPointerDown&&Math.abs(this.xDrag)>EW&&(f.isDragging=!0,this.cancelClick=!0),f.isDragging&&(g>CW&&this.len>1&&(n=this.xDrag<0?r+1:r-1),n<-1&&(n=n+this.len)),f.destinationIndex=n,f.activeIndex=r,t.activeIndex!==r||t.destinationIndex!==n)return f;{let C=this.getSlideListStyles();return this.slideListRef.current&&(this.slideListRef.current.style.transform=C.transform,this.slideListRef.current.style["--slideshow-caption-transform"]=C["--slideshow-caption-transform"]),null}})};nextSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(t=>{let r={...t},n=t.activeIndex+1;return r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=_a):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};prevSlide=e=>{if(e){if(e.defaultPrevented||e.button==2)return;e.stopPropagation(),e.preventDefault()}if(!(this.len<2)){if(this.state.inTransition){this.onSlideEnd();return}cancelAnimationFrame(this.scrubAnimate),this.setState(t=>{let r={...t},n=t.activeIndex-1;return n<-1&&(n=n+this.len),r.inTransition=!(this.isScrub||this.options.speed==0),this.xTransform=0,this.initialXTransform=0,this.isScrub?(r.destinationIndex=n,r.scrubStatus=_a):r.destinationIndex=n,this.xDrag=0,r.finishingTransition=!1,r}),(this.options.speed==0||this.isScrub)&&this.onSlideEnd()}};onThumbnailClick=e=>{if(this.props.adminMode)return;e.preventDefault(),e.stopPropagation();let t=e?.target?.closest?.("media-item")||null;if(t){let r=Array.from(this.props.baseNode.children).indexOf(t);this.setState({destinationIndex:r,activeIndex:r},this.hideThumbnails)}};onSlideEnd=()=>{clearTimeout(this.autoplayInterval),this.isFade&&this.slideListRef.current&&this.state.inTransition&&this.setState({cancelFadeTransition:!0},()=>{this.slideListRef.current&&Array.from(this.slideListRef.current.querySelectorAll(".slide")).forEach(e=>{e.offsetHeight}),this.setState({cancelFadeTransition:!1})}),this.setState(e=>{let t={...e};return t.inTransition=!1,this.xTransform=0,t.activeIndex=t.destinationIndex=(t.destinationIndex+this.len+this.len+this.len)%this.len,t},()=>{if(this.props.afterSlideChange){let t=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;this.props.afterSlideChange(this.state.activeIndex,t)}}),this.startAutoplay()};onSlideOpacityTransitionEnd=(e,t)=>{e.propertyName==="opacity"&&t==0&&e.target.classList.contains("slide")&&this.onSlideEnd()};getWrapAroundDistanceFromIndex=(e,t,r)=>{let n=r*.5,s=n-Math.abs((e+-t)%(2*n)-n);return s<-n&&s<0&&(s=s+r),s};makeMediaItemAttributes=()=>{if(this.len==0)return;let{showThumbnails:e,elWidth:t,slideHeightPx:r,activeIndex:n,actualCardSize:s,destinationIndex:l}=this.state,{shuffle:u,limitBy:c,scale:d,adjustForCaptions:f}=this.options,g=u&&!e,v=[];for(let S=0;S<this.len;S++){let C=(S+this.len)%this.len,_=C;g&&(_=this.shuffleList[C]);let M=`slot-${_}`,T=Math.abs(this.getWrapAroundDistanceFromIndex((_+this.len)%this.len,n,this.len))<3,F={itemDragStart:this.onDragStart,itemResize:(H,L)=>{this.onItemResize(H,L,_)},drag:!1,rotation:"0",scale:"100","limit-by":"width",isAdjacent:T,visibility:n==C,slot:e?"thumbnails":M};v.push(F)}return v};onDragStart=e=>{this.state.showThumbnails||(e.preventDefault(),e.stopPropagation())};onMediaLoad=e=>{let t=Array.from(this.props.baseNode.children).filter(n=>{let s=n.assignedSlot;return n.tagName==="MEDIA-ITEM"&&s!==null});this.loadedItems.has(e)||this.loadedItems.add(e);var r=this.isFade?Math.min(t.length,3):t.length;this.loadedItems.size>=r&&!this.state.hasLoaded&&(this.setState({hasLoaded:!0}),setTimeout(()=>{this.setState({initialShowNavigation:!1})},this.props?.["navigation-hide-delay"]*1e3||1500),this.props.slideshowLoad&&this.props.slideshowLoad())};renderSlides=()=>{let{elWidth:e,destinationIndex:t,activeIndex:r,inTransition:n,showThumbnails:s}=this.state,{xDrag:l,initialXTransform:u}=this,c=[],f=(u%e+l>0||t<r)&&this.isSlide&&this.len==2;for(let g=-this.lazyloadPrev;g<this.lazyloadNext+1;g++){let v=g;f&&(v=v+-1);let S=(v+r+this.len*2)%this.len,C="slot-"+S,_=!1,M=!1,T={};T.className=`slide ${this.options.type}-transition`,(t+this.len)%this.len==S&&(M=!0,T.className+=" destination-slide"),(r+this.len)%this.len==S&&(_=!0,T.className+=" active-slide"),T.part="slide",T.style={},s||(T.style={width:`${e}px`,transform:f?"translateX("+-e+"px)":null}),this.isFade&&(T.onTransitionEnd=F=>{this.onSlideOpacityTransitionEnd(F,v)}),v==-1&&(T.part+=" "+this.options.type+"-slide-previous"),v==1&&(T.part+=" "+this.options.type+"-slide-next"),v>=-1&&v<=1?(T.className+=" adjacent-slide",T.part+=" "+this.options.type+"-slide-adjacent"):T.className+=" non-adjacent-slide",T.slot=C,c.push(Vt("div",{...T,key:"slot_"+C},m("slot",{name:C})))}return c};goToSlide=e=>{e=e%this.len||0,this.setState({showThumbnails:!1,destinationIndex:e,activeIndex:e,inTransition:!1});let t=Te.debounceRendering;Te.debounceRendering=r=>r(),this.forceUpdate(),this.updateSlideTransform(),this.forceUpdate(),Te.debounceRendering=t};getActiveSlide=()=>{let t=this.props.baseNode.shadowRoot?.querySelector(".active-slide slot")?.assignedElements()?.[0]||null;return[this.state.activeIndex,t]};showThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;this.setState({showThumbnails:!0,inTransition:!1},()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("show-thumbnails",{composed:!0,bubbles:!1}))})};hideThumbnails=()=>{let e=this.props.scrollContext.getScrollPosition().y;if(window.getSelection().rangeCount>0){var r=window.getSelection()?.getRangeAt?.(0)?.intersectsNode(this.props.baseNode);r&&window.getSelection()?.removeAllRanges()}this.setState(n=>({destinationIndex:n.activeIndex,showThumbnails:!1,inTransition:!1}),()=>{this.scrollRestore=setTimeout(()=>{this.props.scrollContext.updateScrollPosition({x:null,y:e})},60),this.props.baseNode.dispatchEvent(new CustomEvent("hide-thumbnails",{composed:!0,bubbles:!1}))})}};Rh.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0};AW=Ht(oo(Oe((i,e)=>({isMobile:i.frontendState.isMobile,adminMode:i.frontendState.adminMode,usesScrollAnimation:i.siteDesign.images.scroll_animation}))(Rh)));Jt(AW,"gallery-slideshow",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","slideshowLoad","afterSlideChange","thumbnails","transition-type","autoplay","autoplay-delay","transition-speed","navigation","shuffle","height-limit","auto-height","vertical-align","horizontal-align","adjust-for-captions","show-captions","pause-on-hover","disable-scroll-animation","mobile-adjust-for-captions","mobile-thumbnails","mobile-transition-type","mobile-autoplay","mobile-autoplay-delay","mobile-transition-speed","mobile-navigation","mobile-shuffle","mobile-height-limit","mobile-auto-height","mobile-vertical-align","mobile-horizontal-align","mobile-show-captions","mobile-pause-on-hover"])});var mM,Lb,Fb,gM,vM=B(()=>{Ce();We();mM=fe(Se(),1);Mh();ys();ht();Si();Eh();Ne();Ci();Gr();te();Lb={hash:"F1332270929626196865795426877515",id:1234,name:"scape.jpg",width:4e3,height:2250,file_type:"jpg",mime_type:"image/jpg",is_image:!0,is_video:!1},Fb=class extends oe{constructor(e){super(e),this.state={isMobile:Ze.data.mobile.active,loaded:!1,showNavigation:!0,navigationContainer:null,backdropShadowRoot:null,navigationElement:null},this.containerRef=ve(),this.wallpaperRef=ve(),this.slideshowRef=ve(),this.navigationRef=ve()}getSettings=()=>{let e={};for(let[t,r]of Object.entries(Ac.default.defaults))this.props.settings?.hasOwnProperty(t)?e[t]=this.props.settings[t]:e[t]=r.value;return e};render(){let{showNavigation:e,navigationContainer:t,isMobile:r}=this.state,{modelArray:n,singleModel:s,visibility:l,wrapperDimensions:u}=this.props,c=this.getSettings(),d=Zt(c.margin,"%"),f="";d[1]==="%"?(d[0]=Math.min(this.props.dimensions.width,this.props.dimensions.height)*parseFloat(d[0])*.01,d[1]="px"):d[1].includes("rem")&&r&&(d[0]="calc( var(--mobile-padding-offset, 1) * "+d[0]+"rem )",d[1]="");let g;d[1]==="px"?g=this.props.dimensions.height+.5-d[0]*2+"px":d[0]?.indexOf?.("calc(")>-1?g=`calc( ${this.props.dimensions.height+.5}px - ( 2 *  ( ${d[0].replace("calc(","")} ) )`:g=`calc( ${this.props.dimensions.height+.5}px - ${d[0]*2+d[1]} )`;let v=c["image-fit"]=="fit",S={autoplay:c.autoplay,"transition-speed":c["transition-speed"],"transition-type":c["transition-type"],"autoplay-delay":c["autoplay-delay"],"pause-on-hover":!1,"limit-by":"height",shuffle:c.shuffle,navigation:!1,scale:g,"show-captions":!1,slideshowLoad:this.onFirstLoad,afterSlideChange:this.onAfterSlideChange,"disable-scroll-animation":!0},C=this.props.settings.alignments||{},_="";for(let[F,H]of Object.entries(C))_+=` media-item[hash="${F}"] { --position-image: ${H.x}% ${H.y}% }`;let M=null,T=null;return n.length>0&&(T=c.navigation&&c["cycle-images"]&&n.length>1?m(Q,{children:[m("div",{className:`backdrop ${this.props.settings.clipScroll?"clip":""}`,children:m("div",{className:"wallpaper-slideshow",ref:this.navigationRef,children:this.state.navigationElement?Ge(m(Q,{children:[m("style",{children:`
:host {
	width: ${this.props.dimensions.width}px;
}

[part="slideshow-nav"] {
    -moz-user-select: none;
    -webkit-user-select: none;
    -ms-user-select: none;
    user-select: none; 

    pointer-events: none;
    position: absolute;
    inset: 0;
    z-index: 1001;
    

    opacity: ${this.state.loaded&&e?"1":"0"};

    -webkit-tap-highlight-color: transparent;
    -webkit-touch-callout: none;
}


							`}),m("div",{part:"slideshow-nav",children:[m("div",{part:"slideshow-nav-previous-button",onClick:this.prevSlide,children:m("svg",{part:"slideshow-nav-prev",class:"left-arrow",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:this.nextSlide,children:m("svg",{part:"slideshow-nav-next",class:"next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",class:"arrow",d:"M22.3,28l-10-10l10-10"})]})})]})]}),this.state.navigationElement.shadowRoot):null})}),m("div",{className:"page-layout",children:m("div",{className:"page-content"})})]}):null,M=c["cycle-images"]&&n.length>1?m("gallery-slideshow",{...S,className:"image-container multiple-item",ref:this.slideshowRef,children:n.length<2?m(Q,{children:[m("media-item",{"disable-zoom":!0,"disable-scroll-animation":!0,hash:"placeholder",part:"media-item"},"slide-1"),m("media-item",{"disable-zoom":!0,"disable-scroll-animation":!0,hash:"placeholder",part:"media-item"},"slide-2")]}):n.map((F,H)=>m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:F.hash,muted:"true",autoplay:F.is_video,loop:!0,part:"media-item"},"slide-"+H))}):m("div",{className:"image-container single-item",children:m("media-item",{"image-fit":v?"fit":"fill","disable-zoom":!0,"disable-scroll-animation":!0,hash:s?.hash||"placeholder",model:s,part:"media-item",muted:"true",autoplay:s.is_video,loop:"true",itemLoad:this.onFirstLoad,"limit-by":v?"height":"width",scale:v?g:"100%"})})),m("div",{className:"wallpaper",ref:this.wallpaperRef,children:this.state.backdropShadowRoot&&Ge(m(Q,{children:[m("style",{children:`:host {
						background-color: ${c["bg-color"]||"transparent"};
					    position: absolute;
					    inset: 0;
					    
					    transform: translate3d(0,0,0);
					    opacity: ${this.state.loaded?1:0};
					    transition: opacity 0.5s ease-in-out;

					}

					gallery-slideshow media-item figcaption.caption {
					    display: none!important;
					}

					gallery-slideshow media-item::part(sizing-frame) {
					    margin: auto 0;
					    flex-grow: 0;
					}

					gallery-slideshow media-item::part(frame) {
					    display: flex;
					    flex-wrap: wrap;
					    width: ${v?"var(--item-width)":"100%"}; 
					    height: var(--slide-height);
					    align-content: center;
					    align-self: center;
					}					

					.inner {
					    position: absolute;
					    inset: ${d.join("")};
					}

					.image-container {
						opacity: ${c.opacity};
						inset: 0;
					    width: 100%;
					    height: 100%;
					    position: absolute;
					    text-align: center;
					    z-index: 2;
					}

					.image-container.single-item {
						display: flex;
						align-content: center;
						justify-content: center;
						position: absolute; 
						margin: auto;
						inset: 0;
					}

					.image-container.single-item media-item {
						margin: auto;
						max-width: auto;
					}

					.image-container.single-item media-item::part(figure){
						height: 100%;
					}				

					gallery-slideshow, media-item {
						transform: translateX(0)!important;
					}

			

					${v?`


						`:`			

						media-item::part(sizing-frame),
						media-item::part(frame) {
						    margin: 0;
						    width: 100%;
						    height: ${g};
						    pointer-events:none;
						    display: block;
						    padding: 0;
						}		

						media-item::part(media),
						media-item::part(video) {
						    object-position: var(--position-image, center center);                  
						    pointer-events: auto;
						    display: block;
						    margin: 0;
						    width: 100%;
						    height: 100%;
						    position: absolute;					    
						    top: 0;
						    left: 0;
						}						
					`}


					${_}`}),T&&t&&Ge(T,t),m("div",{className:"overlay"}),m("div",{className:"inner",ref:this.containerRef,children:M})]}),this.state.backdropShadowRoot)})}prevSlide=e=>{this.hideNavigation.cancel(),e?.preventDefault(),this.slideshowRef.current?.prevSlide()};nextSlide=e=>{e?.preventDefault(),this.hideNavigation.cancel(),this.slideshowRef.current?.nextSlide()};onPointerMove=e=>{this.state.showNavigation||this.setState({showNavigation:!0}),e&&e.target&&this.state.navigationContainer?.contains(e.target)?this.hideNavigation.cancel():this.hideNavigation()};hideNavigation=mM.default.debounce(()=>{this.setState({showNavigation:!1})},1500);onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){if(Ze.on("mobile-change",this.onMobileChange),this.wallpaperRef.current&&!this.wallpaperRef.current.shadowRoot&&this.wallpaperRef.current.attachShadow({mode:"open"}),this.setState({backdropShadowRoot:this.wallpaperRef.current?.shadowRoot}),window.addEventListener("pointermove",this.onPointerMove),this.props.backdropRef.current){let e=document.createElement("div");e.classList.add("wallpaper-navigation"),this.props.backdropRef.current.closest(".page").appendChild(e),this.setState({navigationContainer:e})}setTimeout(()=>{this.setMediaElementProperties()},100)}componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange),this.state.navigationContainer&&this.state.navigationContainer.remove(),window.removeEventListener("pointermove",this.onPointerMove),this.hideNavigation.cancel()}componentDidUpdate(e,t){let r=this.getSettings();if((this.props.settings.navigation!==e.settings.navigation||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.onPointerMove(),this.props.settings.activeImage!==e.settings.activeImage&&this.props.settings["cycle-images"]&&this.slideshowRef.current){let n=this.slideshowRef.current.querySelector('[hash="'+this.props.settings.activeImage+'"]');if(n){let s=Array.from(this.slideshowRef.current.children).indexOf(n);this.slideshowRef.current.goToSlide(s)}}this.props.visibility.visible&&this.containerRef.current&&(e.visibility.visible!==this.props.visibility.visible||this.props.settings["cycle-images"]!==e.settings["cycle-images"])&&this.setMediaElementProperties(),this.navigationRef.current!==this.state.navigationElement&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current}))}setMediaElementProperties=()=>{let e=Array.from(this.containerRef.current.querySelectorAll("media-item"));this.slideshowRef.current&&jt(this.slideshowRef.current,"viewportIntersectionChange",{visible:this.props.visibility.visible,position:this.props.visibility.position},{bubbles:!1}),e.forEach(t=>{jt(t,"lazyLoadIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1}),jt(t,"viewportIntersectionChange",{visible:!0,position:"inside"},{bubbles:!1})})};onFirstLoad=e=>{if(this.slideshowRef.current){let t=this.slideshowRef.current.getActiveSlide();this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:t[0],mediaItem:t[1]},composed:!1,bubbles:!1}))}this.state.loaded||(this.setState({loaded:!0,showNavigation:!0}),this.props.onLoad&&this.props.onLoad())};onAfterSlideChange=(e,t)=>{this.wallpaperRef.current.dispatchEvent(new CustomEvent("afterSlideChange",{detail:{slideIndex:e,mediaItem:t},composed:!1,bubbles:!1}))}},gM=Oe((i,e)=>{let t=it.getMediaByParent(i)[e.id],r=t.some(l=>l.loading);t=t.filter(l=>!l.loading&&!l.is_deleted);let n=null,s=e.settings?.activeImage||null;return s===Lb.hash?(n=Lb,t.push(n)):(s&&(n=t.find(l=>l.hash==s)),n||(n=t[0])),!n&&!r&&t.length==0&&(n=Lb,t.push(n)),e.settings.excluded&&(t=t.filter(l=>e.settings.excluded.indexOf(l.hash)==-1),t.length==1&&e.settings["cycle-images"]&&(n=t[0])),e.settings.order&&t.sort(function(l,u){return e.settings.order.indexOf(l.hash)<e.settings.order.indexOf(u.hash)?-1:1}),{singleModel:n,modelArray:t}})(Fb)});var bie,zb,bM,yM=B(()=>{Ce();We();bie=fe(Se(),1);ht();Si();Eh();te();zb=class extends oe{constructor(e){super(e),this.state={loaded:!1,counter:0,shadowRootRef:null},this.gradientElementRef=ve()}render(){let{visibility:e,dimensions:t}=this.props,{counter:r}=this.state,n={};for(let[ae,ue]of Object.entries(Rc.default.defaults))this.props.settings?.hasOwnProperty(ae)?n[ae]=this.props.settings[ae]:n[ae]=ue.value;let{repeat:s,rotation:l,scale:u,smoothness:c,"animation-speed":d,"pos-x":f,"pos-y":g,"gradient-type":v,"color-one":S,"color-two":C,"color-three":_,"color-one-active":M,"color-two-active":T,"color-three-active":F}=n;S=S||"transparent",C=C||"transparent",_=_||"transparent",g=g+50,f=f+50,u=parseFloat(u)/100,c=parseFloat(c)/100,l=parseInt(l);let H=d>0;d=Math.abs(d/100),d=d*d,d=H?d:-d;let L=d!==0,z=L&&v=="linear"&&s,ie=L&&v=="radial"&&s,X=d>0?d*120+(1-d)*2400:Math.abs(d)*120+(1-Math.abs(d))*2400,N=(1-Math.abs(d))*40+Math.abs(d)*4,ee=r%X/X;d>0&&(ee=1-ee);let de=0,Z=ie?ee*100*u:0,Y=[];M&&Y.push(S),T&&Y.push(C),F&&Y.push(_);let D="",V="",G="",K=0,ne=0,W="",U="",J=[];if(Y.length!=0)if(Y.length==1)D+=`background-color: ${Y[0]}`;else if(Y.length==2)if(s){u=(1-c)*u+u*c;let ae=(100/4*1+-c*(100/4))*u-(1-c)*(100/5)*u;J[0]=0+Z,J[1]=(100/4*1+c*(100/4))*u-(1-c)*(100/5)*u+-ae+Z,J[2]=(100/4*3+-c*(100/4))*u-(1-c)*(100/5)*u+-ae+Z,J[3]=(100/4*3+c*(100/4))*u-(1-c)*(100/5)*u+-ae+Z,J[4]=100*u+Z}else J[0]=0,J[1]=u*100+-(u*100)*c,J[2]=u*100+(1-u)*100*c,J[3]=100;else if(s){u=(1-c)*u+u*c;let ae=(100/6*1+-c*(100/6))*u-(1-c)*(100/7)*u;J[0]=0+Z,J[1]=(100/6*1+c*(100/6))*u-(1-c)*(100/7)*u+-ae+Z,J[2]=(100/6*3+-c*(100/6))*u-(1-c)*(100/7)*u+-ae+Z,J[3]=(100/6*3+c*(100/6))*u-(1-c)*(100/7)*u+-ae+Z,J[4]=(100/6*5+-c*(100/6))*u-(1-c)*(100/7)*u+-ae+Z,J[5]=(100/6*5+c*(100/6))*u-(1-c)*(100/7)*u+-ae+Z,J[6]=100*u+Z}else u=(1-c)*3*u+u*c,J[0]=100/6*0+c*(100/6)*0,J[1]=100/6*2+-c*(100/6)*2,J[2]=100/6*2+c*(100/6)*1,J[3]=100/6*4+-c*(100/6)*1,J[4]=100/6*4+c*(100/6)*2,J[5]=100/6*6+-c*(100/6)*0,J[0]=Math.max(J[0]*u+50*(1-u),0),J[1]=Math.max(J[1]*u+50*(1-u),0),J[2]=J[2]*u+50*(1-u),J[3]=J[3]*u+50*(1-u),J[4]=Math.min(J[4]*u+50*(1-u),100),J[5]=Math.min(J[5]*u+50*(1-u),100);if(Y.length>1){D="background-image: ",D+=s?"repeating-":"",D+=v=="linear"?`linear-gradient( ${l+180}deg`:`radial-gradient( circle at ${f}% ${g}%`,V=G="background-position: ";let ae=[];if(Y.length==2?s?ae=[0,1,1,0,0]:ae=[0,0,1,1]:s?ae=[0,1,1,2,2,0,0]:ae=[0,0,1,1,2,2],z?J.forEach((ue,he)=>{let me=Y[ae[he]]||Y[0];D+=`, ${me} ${ue/2}%`}):J.forEach((ue,he)=>{let me=Y[ae[he]]||Y[0];D+=`, ${me} ${ue}%`}),D+=")",z){let ue=(l+90)*(Math.PI/180),he=t.width/t.height,me=Math.cos(ue),Ae=Math.sin(ue),Ie=J[J.length-1]+"%";me<0?(G+="0% ",V+=Ie+" "):(G+=Ie+" ",V+="0% "),Ae<0?(Ae*=-1,G+="0%;",V+=Ie+";"):(G+=Ie+";",V+="0%;")}}return m("div",{className:"gradient",ref:this.gradientElementRef,children:this.state.shadowRoot&&Ge(m("style",{children:`:host {
						${D};
					    position: absolute;
					    top: 0;
					    left: 0;
					    right: 0;
					    bottom: 0;
					    margin: auto;
					    background-position: 0 0;
					    background-size: ${z?"200% 200%;":"100% 100%;"}
					    ${z&&"will-change: background-position, background-image;"}
					    ${z&&"animation: slideAnimation "+N+"s linear infinite "+(d<0?"reverse":"normal")+";"}
					}

					${z?`
					@keyframes slideAnimation {
						0% {
							${V}
						}

						100% {
							${G}
						}
					}
					`:""}
					`}),this.state.shadowRoot)})}componentDidUpdate(e,t){(this.props.settings.repeat!==e.settings.repeat||this.props["animation-speed"]!==e["animation-speed"])&&(cancelAnimationFrame(this.animFrame),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)))}componentWillUnmount(){cancelAnimationFrame(this.animFrame)}draw=()=>{this.setState(e=>({counter:e.counter+1}),()=>{this.animFrame=requestAnimationFrame(this.draw)})};componentDidMount(){this.gradientElementRef.current&&!this.gradientElementRef.current.shadowRoot&&this.gradientElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.gradientElementRef.current?.shadowRoot}),this.props.settings.repeat&&this.props["animation-speed"]!==0&&(this.animFrame=requestAnimationFrame(this.draw)),this.props.onLoad&&this.props.onLoad()}onFirstLoad=e=>{}},bM=zb});var Iie,Hc,Uc,RW,MW,Hb,Ub,wM,qb=B(()=>{Ce();Iie=fe(Se(),1);Ne();Ki();XR();vM();yM();te();se||(Hc=new IntersectionObserver(function(i){i.forEach(function(e){let t="inside";e.boundingClientRect.top-e.boundingClientRect.height<0&&!e.isIntersecting?t="above":e.boundingClientRect.top>0&&!e.isIntersecting&&(t="below"),e.target.dispatchEvent(new CustomEvent("intersectionChange",{detail:{visible:e.isIntersecting,position:t}}))})},{root:document,rootMargin:"0px 0px",threshold:0}),Uc=new ResizeObserver(i=>{i.forEach(e=>{e.target.dispatchEvent(new CustomEvent("contentResize",{detail:{width:e.contentRect.width,height:e.contentRect.height},composed:!0,bubbles:!1}))})}));RW=["wallpaper","gradient","legacy/ripple","legacy/slitscan","legacy/badtv","legacy/gmaps","legacy/halftone","legacy/kaleidoscope","legacy/morphovision","legacy/parallax","legacy/pixelation","legacy/polygon_engine","legacy/refraction","legacy/ripple","legacy/slitscan","legacy/video","legacy/wave"],MW={wallpaper:gM,gradient:bM},Hb={};RW.forEach(i=>{i.startsWith("legacy")?Hb[i]=KR:Hb[i]=MW[i]});Ub=class extends oe{constructor(e){super(e),this.backdropRef=ve(),this.backdropWrapperRef=ve(),this.state={loaded:0,wrapperDimensions:{width:800,height:800},dimensions:{width:800,height:800},visibility:{visible:!1,position:"inside"},innerVisibility:{visible:!1,position:"inside"},wrapperVisibility:{visible:!1,position:"inside"}}}onWrapperIntersectionChange=e=>{this.setState({wrapperVisibility:e.detail})};onIntersectionChange=e=>{this.setState({innerVisibility:e.detail})};onWrapperResize=e=>{this.setState({wrapperDimensions:e.detail})};onResize=e=>{this.setState({dimensions:e.detail})};render(e,t){let{settings:r,id:n}=this.props,s=Hb[r.activeBackdrop];if(!s)return r.activeBackdrop!=="none"&&console.warn(`Error: Selected Backdrop mode "${r.activeBackdrop}" not found`),null;let l=r.backdropSettings?.[r.activeBackdrop]||{},u=l.clipScroll==!0;return m("div",{className:`backdrop ${u?"clip":""}`,ref:this.backdropWrapperRef,children:[m("div",{className:`backdrop-contents ${this.state.visibility.visible?"visible":""} ${this.state.visibility.position} ${this.state.loaded>0?"loaded":""}`,ref:this.backdropRef,style:{"--backdrop-width":this.state.wrapperDimensions.width+"px","--backdrop-height":this.state.wrapperDimensions.height+"px"},children:m(s,{...this.props,wrapperDimensions:this.state.wrapperDimensions,backdropRef:this.backdropRef,id:this.props.id,path:r.activeBackdrop,settings:l,dimensions:this.state.dimensions,visibility:this.state.visibility,onLoad:this.onLoad})}),m(Qn,{baseNodeRef:this.backdropWrapperRef})]})}onLoad=e=>{let t=this.backdropRef.current.querySelector("[data-backdrop]");t&&t.removeAttribute("style"),e&&(e.preventDefault(),e.stopPropagation()),this.setState(r=>({loaded:r.loaded+1})),setTimeout(()=>{this.fireBackdropLoadComplete()})};fireBackdropLoadComplete=()=>{this.backdropLoadCompleteFired||(this.backdropLoadCompleteFired=!0,window.dispatchEvent(new CustomEvent("backdrop-load-complete",{bubbles:!0,composed:!0,detail:{}})))};componentDidUpdate(e,t){if(this.state.innerVisibility!==t.innerVisibility||this.state.wrapperVisibility!==t.wrapperVisibility){let n=(this.props.settings.backdropSettings?.[this.props.settings.activeBackdrop]||{}).clipScroll==!0;this.setState({visibility:n?{...this.state.wrapperVisibility}:{...this.state.innerVisibility}})}e.settings?.activeBackdrop!==this.props.settings?.activeBackdrop&&this.setState(r=>({loaded:r.loaded-1}))}componentDidMount(){this.backdropRef.current&&(window.dispatchEvent(new CustomEvent("backdrop-load-start",{bubbles:!0,composed:!0,detail:{}})),setTimeout(()=>{this.fireBackdropLoadComplete()},3e3),this.backdropWrapperRef.current.addEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.addEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.addEventListener("contentResize",this.onResize),this.backdropRef.current.addEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Uc.observe(this.backdropRef.current),Uc.observe(this.backdropWrapperRef.current),Hc.observe(this.backdropWrapperRef.current),Hc.observe(this.backdropRef.current))}componentWillUnmount(){this.backdropRef.current&&(this.backdropWrapperRef.current.removeEventListener("legacy-backdrop-loaded",this.onLoad),this.backdropWrapperRef.current.removeEventListener("contentResize",this.onWrapperResize),this.backdropRef.current.removeEventListener("contentResize",this.onResize),this.backdropRef.current.removeEventListener("intersectionChange",this.onIntersectionChange),this.backdropWrapperRef.current.addEventListener("intersectionChange",this.onWrapperIntersectionChange),Uc.unobserve(this.backdropRef.current),Uc.unobserve(this.backdropWrapperRef.current),Hc.unobserve(this.backdropWrapperRef.current),Hc.unobserve(this.backdropRef.current))}},wM=Ub});var Ln,Ye,Th,xM=B(()=>{Ln=fe(Se(),1);Ne();Ye={handledEmbeds:[],embedsIniting:[],embedScriptsCache:{},songKickWidgets:{},embedChangeObserver:se?null:new MutationObserver(i=>{i.forEach(e=>{e.removedNodes.length>0&&e.target.children.length===0&&Ye.add(e.target)})}),loadEmbedScript:(i,e)=>{if(Ye.embedScriptsCache[i])return Ye.embedScriptsCache[i];let t=new Promise(r=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=r,document.head.appendChild(n)});return Ye.embedScriptsCache[i]=t,t},initializeBandsInTown:function(i,e){var t="https://widget.bandsintown.com/main.min.js";e==="v3"&&(t="https://widgetv3.bandsintown.com/main.min.js"),Ye.loadEmbedScript(t).then(function(){BIT.widgetInitializer?i():BIT.onReady=i})},findEmbedsIn:function(i){i&&Ln.default.each(i.querySelectorAll("cargo-embed"),Ye.add,Ye)},add:function(i){if(!(!i||i.nodeType!==Node.ELEMENT_NODE)){var e=i.getAttribute("data-type");if(!(!e||Ye.handledEmbeds.includes(i)&&i.children.length>0))switch(e){case"tweet":Ye.handleTwitterEmbed(i);break;case"twitter-timeline":Ye.handleTwitterTimelineEmbed(i);break;case"bandsintown":Ye.handleBandsIntownEmbed(i);break;case"songkick":Ye.handleSongkickEmbed(i);break;case"opentable":Ye.handleOpentableEmbed(i);break;case"typeform":Ye.handleTypeFormEmbed(i);break}}},handleTwitterEmbed:function(i){var e=i.getAttribute("data-id");!e||e===""||Ye.embedsIniting.includes(i)||(Ye.embedsIniting.push(i),Ye.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{i.innerHTML="",twttr.widgets.createTweet(e,i).then(function(t){t&&(t.setAttribute("contenteditable","false"),Ye.embedChangeObserver?.observe(i,{childList:!0,attributes:!0})),Ye.embedsIniting=Ye.embedsIniting.filter(r=>r!==i)})}),Ye.handledEmbeds.push(i))},handleTwitterTimelineEmbed:function(i){if(!Ye.embedsIniting.includes(i)){Ye.embedsIniting.push(i);try{var e=JSON.parse(i.getAttribute("data-source"))}catch{return}typeof e=="number"&&(e=i.getAttribute("data-source"));var t;if(i.hasAttribute("data-options"))try{t=JSON.parse(i.getAttribute("data-options"))}catch{}Ye.loadEmbedScript("https://platform.twitter.com/widgets.js").then(()=>{i.innerHTML="",twttr.widgets.createTimeline(e,i,t).then(function(r){r&&(r.setAttribute("contenteditable","false"),Ye.embedChangeObserver?.observe(i,{childList:!0,attributes:!0})),Ye.embedsIniting=Ye.embedsIniting.filter(n=>n!==i)})}),Ye.handledEmbeds.push(i)}},handleOpentableEmbed:function(i){if(!i.ownerDocument.contains(i))return;let e=document.createElement("opentable-embed-anchor");e.src=i.getAttribute("data-src"),i.appendChild(e),fetch(i.getAttribute("data-src")).then(t=>t.text()).then(t=>{e.id=Ln.default.uniqueId("opentable-"),t=t.replace('getElementsByTagName("script")','querySelectorAll("opentable-embed-anchor#'+e.id+'")'),window.eval(t),e.remove()}),Ye.embedChangeObserver?.observe(i,{childList:!0,attributes:!0}),Ye.handledEmbeds.push(i)},handleBandsIntownEmbed:function(i){Ye.initializeBandsInTown(()=>{i.innerHTML="";var e={},t={};Ln.default.each(i.attributes,function(s){if(/^data-/.test(s.name)&&s.name!=="data-type"){var l=s.name.substr(5).replace(/-/g,"_");e[l]=s.value;var u=l.split("_").map(function(c,d){return d>0?c.charAt(0).toUpperCase()+c.slice(1):c}).join("");t[u]=s.value}});var r=document.createElement("a");if(r.setAttribute("id","bit-widget-"+Ln.default.uniqueId()),r.setAttribute("class","bit-widget-initializer"),Ln.default.each(e,function(s,l){r.setAttribute("data-"+l.replace(/_/g,"-"),s)}),i.appendChild(r),Gi){var n=new MutationObserver(function(s){Ln.default.each(s,function(l){l.type=="childList"&&l.addedNodes.forEach(function(u){u&&u.nodeType===Node.ELEMENT_NODE&&(u.setAttribute("contenteditable",!1),u.classList.contains("bit-widget-container")&&(u.style.pointerEvents="none",n.disconnect()))})})});n.observe(i,{childList:!0})}BIT.widgetInitializer.append(r,t),Ye.embedChangeObserver?.observe(i,{childList:!0}),Ye.handledEmbeds.push(i)},i.getAttribute("data-bit-widget-version"))},handleSongkickEmbed:function(i){if(!Ye.embedsIniting.includes(i)){Ye.embedsIniting.push(i);var e={};Ln.default.each(i.attributes,function(n){if(/^data-/.test(n.name)&&n.name!=="data-type"){var s=n.name.substr(5).replace(/-/g,"_");e[s]=n.value}});var t=document.createElement("a");t.setAttribute("class","songkick-widget"),t.setAttribute("href","https://www.songkick.com/artists/"+e.id),t.setAttribute("contenteditable","false"),Ln.default.each(e,function(n,s){t.setAttribute("data-"+s.replace(/_/g,"-"),n)}),i.appendChild(t);var r="https://widget.songkick.com/"+e.id+"/widget.js";Ye.songKickWidgets[e.id]===void 0?Ye.songKickWidgets[e.id]=0:r=r+"?"+ ++Ye.songKickWidgets[e.id],Ye.loadEmbedScript(r).then(()=>{Ye.embedsIniting=Ye.embedsIniting.filter(n=>n!==i),i.children.length===0&&Ye.add(i)}),Ye.embedChangeObserver?.observe(i,{childList:!0}),Ye.handledEmbeds.push(i)}},handleTypeFormEmbed:function(i){Ye.embedsIniting.includes(i)||(Ye.embedsIniting.push(i),Ye.loadEmbedScript("https://embed.typeform.com/next/embed.js").then(()=>{let e={};Ln.default.each(i.attributes,function(t){t.name.startsWith("data-tf")&&(e[Ln.default.camelCase(t.name.replace("data-tf",""))]=t.value)}),e.container=i,delete e.iframeProps,i.innerHTML="",window.tf.createWidget(e.widget,e),i.children[0]?.setAttribute("style",i.getAttribute("data-style")),setTimeout(()=>{i.children[0]?.setAttribute("style",i.getAttribute("data-style"))},100),setTimeout(()=>{i.children[0]?.setAttribute("style",i.getAttribute("data-style"))},1e3),Ye.embedsIniting=Ye.embedsIniting.filter(t=>t!==i)}),Ye.embedChangeObserver?.observe(i,{childList:!0}),Ye.handledEmbeds.push(i))},remove:function(){}},Th=Ye});var SM,Bie,Bb,Wl,kh=B(()=>{Ce();SM=fe(un(),1);pa();ri();ht();zt();Bie=fe(Se(),1);te();Bb=class extends oe{constructor(e){super(e),this.state={error:!1}}render(e){return m(Q,{children:[m("style",{children:`
					.pages > .page:only-child,
					.pages :has(.page-password) > .page:only-child {
						min-height: var(--viewport-height);
					}
					
					.pages > .page:only-child .page-content,
					.pages :has(.page-password) > .page:only-child .page-content {
						align-items: center;
					}

					.site-password,
					.page-password {
						text-align: center;
						margin: auto;
						height: 0;
						width: 340px;
						display: table;
					}

					.site-password {
						position: fixed;
						top: 0;
						bottom: 0;
						left: 0;
						right: 0;
					}

					.error {
					    transform: translate(0, 20px);
					    position: absolute;
					    width: 100%;
					    text-align: center;
					    left: 0;
					    color: rgba(0,0,0,0.75);
					    user-select: none;
					}

					.submit-wrapper {
						display: grid;
						grid-template-columns: auto 40px;
						border-radius: 100px;
					    border: 1px solid rgba(0,0,0,0.75);
						grid-gap: 5px;
						background: #fff;
					}

					.button-area {
						position: relative;
						width: 40px;
						justify-content: center;
						align-items: center;
						display: flex;
						cursor: pointer;
					}

					.submit-button {
						display: block;
						width: 36px;
						height: 36px;
						border-radius: 50%;
						background: #000;
						transform-origin: 50% 50%;
						transform: scale(1);
						border: none;
						background-image: url("data:image/svg+xml,%3Csvg width='21' height='19' viewBox='0 0 21 19' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.8438 1.9375L19.3438 9.4375L11.8438 16.9375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3Cpath d='M19.3437 9.4375L1.40625 9.4375' stroke='%23fff' stroke-width='2.5' stroke-linecap='round'/%3E%3C/svg%3E%0A");
						background-position: 46% 50%;
						background-repeat: no-repeat;
						background-size: 17px 17px;
						pointer-events: auto;
						cursor: pointer;
						margin-right: 1px;
					}

					.submit-button:active {
						opacity: 0.7;
					}


					input[type="password"] {
						border-radius: 100px;
					    border: none;
						padding: 10px 0px 10px 20px;
					    font-size: 14px;
					    font-family: Helvetica;
					    font-size: 18px;
					    font-style: normal;
					    font-weight: 400;
					    line-height: 21px;
					    letter-spacing: -0.004em;
					    text-align: left;
						width: auto;
					}

					input[type="password"]:placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-webkit-input-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]::-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
		            input[type="password"]:-moz-placeholder {
		                color: rgba(0,0,0,0.75);
		            }
	            `}),m("div",{className:this.props.target==="site"?"site-password":"page-password",children:[m("form",{onSubmit:this.submit,class:"submit-wrapper",children:[m("input",{name:"pw",type:"password",placeholder:"Enter password...",autofocus:"true",onKeyDown:this.onKeyDown}),m("div",{className:"button-area",children:m("button",{className:"submit-button",type:"submit"})})]}),this.state.error&&m("span",{class:"error",children:"Invalid password"})]})]})}onKeyDown=e=>{this.state.error&&this.setState({error:!1})};submit=e=>{e.preventDefault();let t;this.props.target==="site"?t=`/sites/${this.props.siteId}/validatepassword`:t=`/pages/${this.props.siteId}/id/${this.props.target}/validatepassword`,SM.default.post(li+t,{[this.props.target==="site"?"site_password":"password"]:e.target.elements.pw.value}).then(({data:r})=>{if(!r.token){this.setState({error:!0});return}this.setState({error:!1}),this.props.setAuthentication({authenticated:!0,data:{access_token:r.token,id:null}}),this.props.onSucces?.()}).catch(r=>{console.error(r),this.setState({error:!0})})}},Wl=Oe((i,e)=>({siteId:i.site.id}),i=>Et({setAuthentication:Fe.setAuthentication},i))(Bb)});var Wb,_M,CM=B(()=>{Ce();We();bs();Di();Ot();Ot();te();Wb=class extends oe{constructor(e){super(e),this.state={hover:!1,buttonHovered:!1},this.editPageButtonRef=ve(),this.layoutButtonRef=ve(),CargoEditor&&Object.keys(CargoEditor||{}).length>0?this.bindEditorEvents():window.addEventListener("CargoEditor-load",this.bindEditorEvents)}editorIsEmpty=(e,t)=>{requestAnimationFrame(()=>{this.setState({showEmpty:this.props.isEditingPage})})};editorHasContent=(e,t)=>{this.setState({showEmpty:!1})};bindEditorEvents=()=>{window.removeEventListener("CargoEditor-load",this.bindEditorEvents),this.CargoEditor=CargoEditor,this.CargoEditor.events.on("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.on("editor-has-content",this.editorHasContent)};componentWillUnmount=()=>{this.CargoEditor&&(this.CargoEditor.events.off("editor-no-content",this.editorIsEmpty),this.CargoEditor.events.off("editor-has-content",this.editorHasContent))};onButtonEnter=()=>{this.setState({hover:!0})};onButtonLeave=()=>{this.setState({hover:!1})};launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let t=this.layoutButtonRef.current.getBoundingClientRect(),r={x:t.x+0,y:t.y+-212,left:t.left+0,right:t.right+0,top:t.top+0+-212,bottom:t.top+27+-212,width:t.width,height:t.height};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"layouttemplate",supportsMobile:!0,positionRect:r,closeButton:!1,closeOnAllClickout:!1})};render(e){let t=this.props.isEditingPage,r=this.props.pageIsPin,n=this.state.showEmpty,s=23;return m(Tr,{isEditingPage:t,name:"EditPageButton",trackResize:!0,noPointerEvents:!0,buttonHeight:s,buttonMode:"outside",baseNode:this.props.bodycopyRef.current,render:l=>{let{pointerAttention:u,overlayPosition:c,shiftButtonX:d,shifted:f}=l,g=-s,v=-2;return c.y<=s&&(g=Math.max(0,-c.y),v=0,g>c.height&&(v=-2,g=c.height+1)),t&&n||t?null:m(Q,{children:[m("div",{className:`in-editor-buttons page${u?" hover button-hover":""}`,style:{transform:`translate3d(${v+c.x}px, ${g+c.y}px, 0)`},children:m("div",{className:`pointer-mask ${f?"shifted":""}`,style:{transform:`translateX(${d}px)`},children:m("button",{className:"edit-page text",onMouseDown:S=>{S.button==2||S.metaKey||this.props.editPage(S)},ref:this.editPageButtonRef,children:[m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 16H6V4H10.9875V8.09705H15V16ZM16 7.64491L11.4226 3H5V17H16V7.64491Z",fill:"black"})}),this.props.pageTitle]})})}),m("div",{className:`editor-overlay editor-outline page-outline${u?" hover button-hover":""}${this.state.showEmpty?" hover":""}`,style:{width:c.width+"px",height:c.height+"px",transform:`translate3d(${c.x}px, ${c.y}px, 0)`}})]})}})}},_M=Wb});function NW(i){return Et({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},i)}var Xi,ws,Nh,qc,Dh,qo,$b,Oh,Vb,EM,PM,TW,kW,$l,Lh,DW,xs,Fh=B(()=>{Ce();ri();ht();zt();Xi=fe(Se(),1);Si();yc();Ni();Jn();Ki();ya();Ci();qb();xM();Ne();kh();CM();Rr();ga();te();ws=new Map,Nh=new WeakMap,qc=new WeakMap,Dh=new WeakMap,EM=null,PM=i=>{i.forEach(function(e){ws.has(e.target)&&ws.get(e.target).onAboveViewPort(e)})},TW=Xi.default.once(()=>{let i=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),e=document.createElement("style");return i.children[0].appendChild(e),e}),kW=i=>{let e=TW();return i!==EM&&(e.innerHTML=i,EM=i),e},$l=0;se||(qo=new ResizeObserver(function(i){let e={};PM(Oh.takeRecords()),i.forEach(function(t){let r=ws.get(t.target);if(r&&(r.onResize(t.contentRect),e[r.props.id]=t.contentRect.height),Nh.has(t.target)&&Nh.get(t.target).onBodyCopyResize(t.contentRect.width),qc.has(t.target)||Dh.has(t.target)){var n=window.getComputedStyle(t.target);let s=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(qc.has(t.target)){let u=qc.get(t.target);(u.state.pageContentPad.top!==s||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:s,bottom:l}})}else{let u=Dh.get(t.target);(u.state.pageLayoutPad.top!==s||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:s,bottom:l}})}}}),tb(e),$l!==0&&(document.scrollingElement.scrollTop+=$l,$l=0)}),Oh=new IntersectionObserver(PM,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),Vb=new IntersectionObserver((i,e)=>{i.forEach(function(t){ws.has(t.target)&&ws.get(t.target).onViewportBoundaryIntersection(t)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}),$b=new MutationObserver(function(i){Xi.default.each(i,function(e){e.type=="childList"&&e.addedNodes.forEach(function(t){t.nodeName==="CARGO-EMBED"&&Th.add(t)})})}));Lh=class extends oe{constructor(e){super(e),this.overlayContentRef=ve(),this.bodycopyRef=ve(),this.pageContentRef=ve(),this.pageRef=ve(),this.pageLayoutRef=ve(),this.lastBodycopyRef=ve(),this.lastPageContentRef=ve(),this.lastPageRef=ve(),this.lastPageLayoutRef=ve(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},windowHeight:null,fullyRender:!0,lastPageLayoutHeight:100,overlayContentFromTransformValue:null,overlayContentToTransformValue:null},this.localStyleRef=ve()}setOverlayContentTransformValues=()=>{let e=this.overlayContentRef.current?.getBoundingClientRect();if(!e)return;let t=this.pageContentRef.current?.getBoundingClientRect();if(!t)return;let r=0,n=0,s=this.props.overlayOptions?.animateOnOpen?.slideAmount/100,l=this.props.overlayOptions?.animateOnClose?.slideAmount/100;if(this.props.overlayOptions?.animateOnOpen?.speed!==0)switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":r=(t.height+(e.height-t.bottom))*s;break;case"top":r=-t.bottom*s;break;case"right":r=(t.width+(e.width-t.right))*s;break;case"left":r=-t.right*s;break}if(this.props.overlayOptions?.animateOnClose?.speed!==0)switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"bottom":n=(t.height+(e.height-t.bottom))*l;break;case"top":n=-t.bottom*l;break;case"right":n=(t.width+(e.width-t.right))*l;break;case"left":n=-t.right*l;break}if(this.state.overlayContentFromTransformValue!==r&&this.state.overlayContentToTransformValue!==n){this.setState({overlayContentFromTransformValue:r,overlayContentToTransformValue:n});return}if(this.state.overlayContentFromTransformValue!==r){this.setState({overlayContentFromTransformValue:r});return}if(this.state.overlayContentToTransformValue!==n){this.setState({overlayContentToTransformValue:n});return}};setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}let e=["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"];if(!this.localStyleRef.current)return;let t=kW(this.props.globalStylesheet),r=!1;t.sheet&&Xi.default.each(t.sheet.rules,s=>{s?.selectorText===".mobile [id] .page-layout"&&s?.style?.getPropertyValue("padding")==="0px"&&(r=!0)}),r&&e.push(`[id="${this.props.pid}"] .page-layout`);let n=Al(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:e}]);this.setState({mobileOffsetsString:n})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=e=>{this.setState(t=>t.windowHeight===Ze.data.window.h?null:{windowHeight:Ze.data.window.h})};onResize=(e,t=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&($l+=e.height-this.currentHeight,t||(document.scrollingElement.scrollTop+=$l,$l=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{if(e.rootBounds.height===0)return;let t=e.isIntersecting;(se||this.props.isPin||this.props.isEditingPage)&&(t=!0),this.setFullRenderState(t)};setFullRenderState=(e,t)=>{if(this.state.fullyRender===e)return;let r={fullyRender:e,renderSparseHeightDiv:!e};e?(r.renderSparseHeightDiv=!0,setTimeout(()=>{this.state.fullyRender&&this.setState({renderSparseHeightDiv:!1})},250)):r.lastPageLayoutHeight=this.pageLayoutRef.current?.getBoundingClientRect().height||100,this.setState(r,t)};updateAdminState=e=>{this.props.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let t={top:null,bottom:null},r=Xi.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return Xi.default.keys(r).length>0&&Xi.default.each(r,function(n){t[n.location]=n.adjustedHeight}),t};determinePinCSS=()=>{if(se||this.props.isOverlay||Xi.default.isEmpty(this.context.levelData))return;let e=1,t={},r=this.context?.renderedPins&&this.props.isPin,n=this.findPageAdjusteeStatus(this.props.pid);if(t.paddingTop=n.top,t.paddingBottom=n.bottom,r){let s=this.context?.renderedPins[this.props.pid];if(s){let l=s.depth,u=Xi.default.keys(this.context.levelData?.levels)?.length+e,c=u-l+e,d=c+this.zIndexLayerPosition(100-s?.pinSort);if(t.zIndex=s.type!=="adjust"?d??null:null,localStorage.getItem("pin_testing")==="true"){let g={old_zIndex:c+this.zIndexLayerPosition(100-s?.sort),new_zIndex:d,pid:this.props.pid,pageList_sort:s?.sort,renderedPageSort:s?.pinSort};console.log(g)}let f=this.context.levelData?.levels[l][s.location];s.type==="overlay"?t[s.location]=f.startingHeight-n[s.location]:s.type==="adjust"&&n[s.location]!==null&&(t[s.location]=f.adjustsSelf?null:f.startingHeight-n[s.location])}}return t["--pin-padding-top"]=(t.paddingTop||0)+"px",t["--pin-padding-bottom"]=(t.paddingBottom||0)+"px",Xi.default.isEmpty(t)?null:t};getAdjustOnlyPinStartHeight=(e,t,r)=>{let n=0;return Xi.default.each(this.context.renderedPins,(s,l)=>{s.depth===e&&s.location===r&&(r==="top"?s.sort<t:s.sort>t)&&s.type==="adjust"&&(n+=this.context.pageHeights[l])}),n};determinePinClassList(e){if(!e||this.props.isOverlay)return"";let t="";return t+=" pinned pinned-"+e.position,t+=e.fixed?" fixed":e.overlay?" overlay":"",t}editPage=e=>{if(e.preventDefault(),parent.window.Cargo?.Ecommerce?.View?.currentView?.saveButton?.saveEnabled===!0||parent.window.Cargo?.Ecommerce?.View?.currentView?.SaveButton?.saveEnabled===!0){parent.window.dispatchEvent(new CustomEvent("navigate-after-commerce-save",{detail:{pid:this.props.pid}}));return}parent.editorActivationEvent=e,parent.navigateAdmin("/"+this.props.pid),this.updateAdminState({pageTitleBarTransition:!0}),setTimeout(()=>{this.updateAdminState({pageTitleBarTransition:!1})},600)};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}render(){if(!this.props.hasPage||se&&this.props.access_level!=="public")return null;let e=this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none",t=this.props.isPin&&this.props.pin_options,r=t?this.props.pin_options:null,n=null,s=null,l=this.determinePinCSS(),u=this.determinePinClassList(r),c={},d="";if(this.props.isOverlay===!0){let g="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnOpen?.slideDirection){case"bottom":g=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"top":g=`translate3d(0, ${this.state.overlayContentFromTransformValue}px, 0)`;break;case"right":g=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break;case"left":g=`translate3d(${this.state.overlayContentFromTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnOpen?.scaleAmount){let z=1-Number(this.props.overlayOptions?.animateOnOpen?.scaleAmount)/100;g+=` scale(${z})`}this.props.overlayOptions?.animateOnOpen?.rotateAmount&&(g+=` rotate(${Number(this.props.overlayOptions?.animateOnOpen?.rotateAmount)*-1}deg)`);let v="translate3d(0, 0, 0)";switch(this.props.overlayOptions?.animateOnClose?.slideDirection){case"top":v=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"bottom":v=`translate3d(0, ${this.state.overlayContentToTransformValue}px, 0)`;break;case"left":v=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break;case"right":v=`translate3d(${this.state.overlayContentToTransformValue}px, 0, 0)`;break}if(this.props.overlayOptions?.animateOnClose?.scaleAmount){let z=1-Number(this.props.overlayOptions?.animateOnClose?.scaleAmount)/100*-1;v+=` scale(${z})`}this.props.overlayOptions?.animateOnClose?.rotateAmount&&(v+=` rotate(${this.props.overlayOptions?.animateOnClose?.rotateAmount}deg)`);let S="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":S="inset(0 0 0 100%)";break;case"left":S="inset(0 100% 0 0)";break;case"top":S="inset(0 0 100% 0)";break;case"bottom":S="inset(100% 0 0 0)";break;case"circle":S="circle(0%)";break;case"diamond":S="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":S="inset(100% 100% 100% 100%)";break}let C="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"right":case"left":case"top":case"bottom":C="inset(0 0 0 0)";break;case"circle":C="circle(125%)";break;case"diamond":C="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":C="inset(0 0 0 0)";break}let _="none";switch(this.props.overlayOptions?.animateOnOpen?.wipeShape){case"right":case"left":case"top":case"bottom":_="inset(0 0 0 0)";break;case"circle":_="circle(125%)";break;case"diamond":_="polygon(-50% 50%, 50% -50%, 150% 50%, 50% 150%)";break;case"square":_="inset(0 0 0 0)";break}let M="none";switch(this.props.overlayOptions?.animateOnClose?.wipeShape){case"left":M="inset(0 0 0 100%)";break;case"right":M="inset(0 100% 0 0)";break;case"bottom":M="inset(0 0 100% 0)";break;case"top":M="inset(100% 0 0 0)";break;case"circle":M="circle(0%)";break;case"diamond":M="polygon(50% 50%, 50% 50%, 50% 50%, 50% 50%)";break;case"square":M="inset(100% 100% 100% 100%)";break}let T="linear";switch(this.props.overlayOptions?.animateOnOpen?.easing){case"ease-in":T="ease-in";break;case"ease-out":T="ease-out";break;case"ease-in-out":T="ease-in-out";break;case"bounce":T="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":T="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":T="cubic-bezier(0,.8,1,0)";break;case"linear":default:T="linear";break}let F="linear";switch(this.props.overlayOptions?.animateOnClose?.easing){case"ease-in":F="ease-in";break;case"ease-out":F="ease-out";break;case"ease-in-out":F="ease-in-out";break;case"bounce":F="cubic-bezier(.47,1.64,.41,.8)";break;case"elastic":F="cubic-bezier(.2,.69,.41,1.12)";break;case"hesitate":F="cubic-bezier(0,.8,1,0)";break;case"linear":default:F="linear";break}c={"--overlay-open-duration":this.props.overlayOptions?.animateOnOpen?.speed?`${this.props.overlayOptions?.animateOnOpen?.speed}s`:"0s","--overlay-open-from-opacity":this.props.overlayOptions?.animateOnOpen?.fade?0:1,"--overlay-open-from-background-color":this.props.overlayOptions?.animateOnOpen?.fade?"inherit":"transparent","--overlay-open-content-from-transform":g,"--overlay-open-content-from-clip-mask":S,"--overlay-open-content-to-clip-mask":_,"--overlay-close-duration":this.props.overlayOptions?.animateOnClose?.speed?`${this.props.overlayOptions?.animateOnClose?.speed}s`:"0s","--overlay-close-to-opacity":this.props.overlayOptions?.animateOnClose?.fade?0:1,"--overlay-close-to-background-color":this.props.overlayOptions?.animateOnClose?.fade?"inherit":"transparent","--overlay-close-content-to-transform":v,"--overlay-close-content-from-clip-mask":C,"--overlay-close-content-to-clip-mask":M,"--overlay-open-easing":T,"--overlay-close-easing":F,opacity:this.state.overlayContentFromTransformValue!==null?void 0:0,zIndex:999}}if(this.state.fullyRender){let g=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom;l&&(l.paddingTop&&(g+=l.paddingTop),l.paddingBottom&&(g+=l.paddingBottom));let v=Math.max(10,this.state.windowHeight-g),S=null;this.props.access_level==="password"?S=m(Wl,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?S=this.lockedContent:S=this.lockedContent=this.props.content,this.maxFitHeight=v;let C=m("bodycopy",{style:{"--fit-height":v+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,dangerouslySetInnerHTML:typeof S=="string"?{__html:S}:void 0,children:Lu(S)?S:null});s=m(oh,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:"page-content",ref:this.pageContentRef,children:[this.props.adminMode&&this.props.Editor_PageEditorOutlines!==!1&&m(_M,{bodycopyRef:this.bodycopyRef,pageTitle:this.props.title,pageContent:this.props.content,pageIsPin:this.isPinned,isEditingPage:this.props.isEditingPage,editPage:this.editPage}),m(wh,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(Qn,{portalHost:C}),C]})]})})})}let f=!0;return(r?.fixed||this.props.isOverlay)&&(f=!1),n=m("div",{id:this.props.pid,"page-url":this.props.purl?.toLowerCase(),className:`page${u!==null?u:""}${this.props.stackedPage?" stacked-page":""}`,ref:this.pageRef,style:l,editing:this.props.isEditingPage,children:[e&&m(wM,{id:this.props.pid,settings:this.props.backdrops}),m("a",{id:this.props.purl}),m(Nl,{passthrough:f,scrollingElement:this.props.isOverlay?this.overlayContentRef:this.pageContentRef,children:[this.state.renderSparseHeightDiv&&m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}}),s]}),m("style",{ref:this.localStyleRef,children:this.props.local_css}),m("style",{id:`mobile-offset-styles-${this.props.pid}`,children:this.state.mobileOffsetsString})]}),this.props.isOverlay===!0?m("div",{ref:this.overlayContentRef,className:"overlay-content "+d,style:c,children:n}):n}componentDidUpdate=(e,t,r)=>{this.bindObservers(),this.setPinProperties(e),this.props.isOverlay===!0&&(this.setOverlayScrollability(),this.state.overlayContentFromTransformValue!==null&&this.overlayContentRef?.current?.classList.contains("overlay-open")===!1&&this.props.overlayOptions?.animateOnOpen!==!1&&this.props.overlayOptions?.animateOnOpen?.speed!==0&&(this.overlayContentRef?.current?.classList.add("overlay-open"),this.overlayContentRef?.current?.classList.add("overlay-animating"))),this.state.fullyRender===!0&&t.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&t.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&(this.checkAndSetActiveLinks(),this.temporarySafariRenderingFix()),this.props.local_css!==e.local_css&&this.setMobileOffsets(),this.props.globalStylesheet!==e.globalStylesheet&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,t,r){return!(this.props===e&&this.state===t&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&rh({...this.props,content:null},{...e,content:null})&&this.state===t&&this.context===r)}setPinProperties=e=>{if(this.props.isPin&&this.pageRef.current){if(this.props.adminMode&&Xi.default.isEqual(this.props.pin_options,e.pin_options)===!1&&(this.pageRef.current.scrollIntoView(),this.props.pin_options.position==="bottom")){let t=this.context.adjustPairs[this.props.pid];if(t&&t.adjusts){let r=document.body.querySelector("[id='"+t.adjusts[0]+"']");requestAnimationFrame(()=>{r.scrollIntoView({block:"end"})})}}this.props.pin_options.fixed===!0&&this.setFixedPinScrollability(),this.props.pin_options.overlay===!0&&this.props.local_css!==""&&this.checkBackgroundColor()}};checkBackgroundColor=Xi.default.debounce(()=>{if(!this.pageRef.current)return;!(this.props.backdrops?.activeBackdrop&&this.props.backdrops?.activeBackdrop!="none")&&this.hasNoBackgroundColor(this.pageRef.current)?this.pageRef.current.classList.remove("accepts-pointer-events"):this.pageRef.current.classList.add("accepts-pointer-events");let t=this.pageRef.current?.querySelector(".page-content");this.hasNoBackgroundColor(t)?t.classList.remove("accepts-pointer-events"):t.classList.add("accepts-pointer-events")},100);hasNoBackgroundColor=e=>{if(e==null)return!1;let t=window.getComputedStyle(e,null),r=t.getPropertyValue("background-color"),n=r.match("rgba")?r.replace(/^.*,(.+)\)/,"$1"):null;return r==null||r=="transparent"||r=="initial"||n==0};setFixedPinScrollability=()=>{if(!this.pageRef.current)return;let e=this.pageContentRef.current,t=this.bodycopyRef.current;e&&t&&t.clientHeight>e.clientHeight?this.pageRef.current.classList.add("allow-scroll"):this.pageRef.current.classList.remove("allow-scroll")};setOverlayScrollability=()=>{if(!this.pageRef.current)return;let e=this.bodycopyRef.current,t=window.innerHeight,r=e.getBoundingClientRect().height;t&&r&&r>t?this.overlayContentRef.current.classList.add("overlay-allow-scroll"):this.overlayContentRef.current.classList.remove("overlay-allow-scroll")};checkAndSetActiveLinks=e=>{if(!this.pageRef.current)return;let t=e?.detail?.filter;t?.startsWith("tag:")?t=t.replace("tag:","").trim():t?t="all":t=null;let r=this.props.inAdminFrame&&this.props.adminMode===!0;if(this.props.isEditingPage&&!r)return;let n=this.pageRef.current.querySelectorAll('[rel="history"], [rel="filter-index"]');Xi.default.each(n,s=>{let l=s.getAttribute("href")?.toLowerCase(),u=s.getAttribute("data-tags")?.toLowerCase(),c=s.getAttribute("rel")==="filter-index";!r&&(l===this.props.activePURL||this.props.activePurlParents?.includes(l))?s.classList.add("active"):s.classList.remove("active")})};bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(ws.delete(this.lastPageRef.current),qo.unobserve(this.lastPageRef.current),Oh.unobserve(this.lastPageRef.current),Vb.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(ws.set(this.pageRef.current,this),qo.observe(this.pageRef.current),Oh.observe(this.pageRef.current),Vb.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Dh.delete(this.lastPageLayoutRef.current),qo.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Dh.set(this.pageLayoutRef.current,this),qo.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(qc.delete(this.lastPageContentRef.current),qo.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(qc.set(this.pageContentRef.current,this),qo.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(this.lastBodycopyRef.current.removeEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks),Nh.delete(this.lastBodycopyRef.current),qo.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Nh.set(this.bodycopyRef.current,this),qo.observe(this.bodycopyRef.current),this.bodycopyRef.current.addEventListener("filter-thumbnail-index",this.checkAndSetActiveLinks)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){if(this.props.hashPurl===this.props.purl){let e=this.pageRef.current?.getBoundingClientRect().top;if(e>0&&e<Ze.data.window.h)return;this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView()}}componentDidMount(){this.runHashScroll(),this.onWindowResize(),Ze.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender(),this.context.onPageMount(this.pageRef.current),this.pageRef.current&&(Th.findEmbedsIn(this.pageRef.current),$b&&$b.observe(this.pageRef.current,{childList:!0,subtree:!0}),this.pageRef.current.addEventListener("dom-binding-initialized",()=>{Th.findEmbedsIn(this.pageRef.current)}),this.props.isOverlay&&(window.setTimeout(this.setOverlayContentTransformValues,100),this.calculateOverlayPassthroughClasses(),this.pageRef.current.addEventListener("animationend",this.calculateOverlayPassthroughClasses)),this.temporarySafariRenderingFix())}calculateOverlayPassthroughClasses=()=>{if(!this.pageRef.current||!this.pageContentRef.current)return;let e=window.getComputedStyle(this.pageRef.current,null),t=window.getComputedStyle(this.pageContentRef.current,null),r=e.getPropertyValue("background-color"),n=t.getPropertyValue("background-color"),s=this.props.isOverlay&&(r==="transparent"||r==="initial"||r==="rgba(0, 0, 0, 0)"),l=this.props.isOverlay&&(n==="transparent"||n==="initial"||n==="rgba(0, 0, 0, 0)")&&r.startsWith("rgba(");s?this.overlayContentRef.current.classList.add("is-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-passthrough-overlay"),l?this.overlayContentRef.current.classList.add("is-content-passthrough-overlay"):this.overlayContentRef.current.classList.remove("is-content-passthrough-overlay")};temporarySafariRenderingFix=()=>{this.props.adminMode||setTimeout(()=>{!se&&rc()&&this.props?.pin_options?.position==="bottom"&&(this.pageRef?.current?.classList.add("loading"),setTimeout(()=>{this.pageRef?.current?.classList.remove("loading")},1200))},10)};onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(t){t.childNodes.forEach(r=>r.setSaveable(!0));for(let r of t.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.checkAndSetActiveLinks(),this.fetchCommerceProductsByLink()})),this.props.isPin&&this.props.pin_options?.fixed===!0&&this.setFixedPinScrollability(),this.props.isOverlay===!0&&this.setOverlayScrollability(),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){this.pageRef.current&&this.pageRef.current.removeEventListener("animationend",this.calculateOverlayPassthroughClasses),Ze.off("window-resize",this.onWindowResize),ws.delete(this.pageRef.current),this.onSparseComponentRender(!0),this.onResize({height:0},!1),this.context.onPageUnmount(this.pageRef.current)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),t=[];Xi.default.each(e,r=>{let n=r.getAttribute("data-product");n&&t.push(n)}),this.props.fetchCommerceProducts({idArray:t,onlyNew:!0})};initializeScriptTags=()=>{let e=!1,t=function(r){e=!0};window.addEventListener("error",t,!1),Xi.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(s=>{n.setAttribute(s.nodeName,s.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&this.props.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",t)}};Lh.contextType=va;DW=Xi.default.memoize((i,e)=>i.map(t=>e.sets.byId[t]?.purl).filter(t=>t&&typeof t=="string").map(t=>t.toLowerCase())),xs=cn(Oe((i,e)=>{let t=it.getContentById(i,e.id),r=i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID],n,s;return r&&(n=r.purl?.toLowerCase(),s=DW(it.getParentSetList(i,r.id),i)),!se&&!n&&(n=window.location.pathname.replace(/^\//,"").toLowerCase()),{inAdminFrame:i.frontendState.inAdminFrame,isMobile:i.frontendState.isMobile,adminMode:i.frontendState.adminMode,isEditingPage:t?.id&&i.frontendState.PIDBeingEdited===t?.id,hasPage:t!==void 0,pid:t?.id,purl:t?.purl,isPin:t?.pin,title:t?.title,backdrops:t?.backdrops,content:t?.content,access_level:t?.access_level,local_css:t?.local_css,pin_options:t?.pin_options,PIDBeingEdited:i.frontendState.PIDBeingEdited,globalStylesheet:i.css?.stylesheet,activePID:i.frontendState.activePID,activePURL:n,activePurlParents:s,pageDepth:it.getParentSetList(i,e.id).length-1,has_shop:i.site.shop_id!==null,Editor_PageEditorOutlines:i.adminState?.localStorage?.Editor_PageEditorOutlines}},NW)(Lh))});var Bc,IM=B(()=>{Ce();Fh();te();Bc=class i extends oe{constructor(e){super(e)}render=()=>{let e=this.props.children.filter(r=>r.parent===this.props.id),t=e.filter(r=>r.content.page_type=="page").length>1;return m("div",{"data-container":"set","data-id":this.props.id,children:e.map((r,n)=>r.content.page_type==="set"?m(i,{id:r.content.id,children:this.props.children,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad},r.content.id):m(xs,{id:r.content.id,position:r.position,hashPurl:this.props.hashPurl,contentPad:this.props.contentPad,stackedPage:t},r.content.id))})}}});var Are,jb,zh,Gb=B(()=>{Ce();Are=fe(Se(),1);te();jb=class extends oe{constructor(e){super(e)}render=()=>m(Q,{children:[m("style",{children:`
					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}
				`}),this.props.message]})},zh=jb});var AM,RM=B(()=>{AM={closeOnClickout:!1,closeOnNavigate:!1,animateOnOpen:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0},animateOnClose:{fade:!1,speed:0,slideAmount:0,slideDirection:"default",wipeShape:"default",easing:"linear",scaleAmount:0,rotateAmount:0}}});function zW(i,e){return{adminMode:i.frontendState.adminMode,PIDToEdit:i.frontendState.PIDToEdit,overlayBeingPreviewed:i.frontendState.overlayBeingPreviewed,overlayOptionsByPID:FW(i.pages.byId),sortMap:i.structure.bySort,autoRenderableOverlays:it.getAutoRenderableOverlaysForSet(i,e.pinContextPID,e.match?.params?.page)}}function HW(i){return Et({fetchContent:Fe.fetchContent},i)}var Dre,Ss,OW,Qb,Fi,ey,LW,FW,Yb,Li,Hh,Nr,Uh,Kb,pn,qh,so,Wc,Bh,$c,Xb,ao,Wh,Zb,MM,Jb,$h,TM,Vh=B(()=>{Ce();Dre=fe(un(),1);ht();ri();zt();Lo();Ss=fe(Se(),1);Ne();Si();Fh();RM();Rr();Ci();ga();te();OW={top:0,bottom:0},Qb=new Array,Fi={closeOverlay:()=>{},openOverlay:()=>{},getOverlay:()=>{},toggleOverlay:()=>{},handleGlobalClick:()=>{},getAllOverlays:()=>{}},ey=class extends oe{constructor(e){super(e),this.state={activeOverlays:[]},this.intermediateActiveOverlays=this.state.activeOverlays,Fi.openOverlay=this.openOverlay,Fi.closeOverlay=this.closeOverlay,Fi.toggleOverlay=this.toggleOverlay,Fi.getOverlay=this.getOverlay,Fi.handleGlobalClick=this.handleGlobalClick,Fi.getAllOverlays=this.getAllOverlays}componentDidMount(){this.autoRenderOverlays()}autoRenderOverlays=(e=[])=>{if(this.props.adminMode){let l=[this.props.PIDToEdit,this.props.overlayBeingPreviewed].filter(u=>!!u);this.props.autoRenderableOverlays.some(u=>l.includes(u.id))&&this.openOverlay(this.props.PIDToEdit),this.state.activeOverlays.forEach(u=>{l.includes(u.pid)||this.closeOverlay(u.pid)});return}let t=this.props.autoRenderableOverlays.map(l=>l.id),r=e.map(l=>l.id),n=Ss.default.difference(r,t),s=Ss.default.difference(t,r);n.forEach(l=>{this.closeOverlay(l)}),s.sort((l,u)=>this.props.sortMap[u]-this.props.sortMap[l]),s.forEach(l=>{this.openOverlay(l)})};componentDidUpdate=(e,t)=>{if((this.props.autoRenderableOverlays!==e.autoRenderableOverlays||this.props.adminMode&&!e.adminMode)&&this.autoRenderOverlays(e.autoRenderableOverlays),this.props.adminMode!==e.adminMode&&this.autoRenderOverlays([]),this.state.activeOverlays!==t.activeOverlays){let r=Ss.default.difference(this.state.activeOverlays,t.activeOverlays),n=Ss.default.difference(t.activeOverlays,this.state.activeOverlays);if(Qb=[...this.state.activeOverlays],$h(),r.length>0)for(let s of r)(s.getOverlayOptions().animateOnOpen||s.getOverlayOptions().animateOnClose)&&s.ref?.current?.base.addEventListener("animationend",this.handleAnimationEnd)}};componentWillUnmount=()=>{};handleGlobalClick=(e,t)=>{if(this.props.adminMode||t.closest(".quick-view"))return;let n=t.closest(".page-content")?.closest(".page")?.getAttribute("id"),s=this.state.activeOverlays.find(c=>c.pid===n),l=this.state.activeOverlays[this.state.activeOverlays.length-1],u=this.props.store.getState();if(l&&l.getOverlayOptions().closeOnNavigate===!0&&e.hasAttribute("href")&&e.getAttribute("href").replace(/\//,"").toLowerCase()!=="contact-form"&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&(e.getAttribute("rel")==="history"||e.getAttribute("rel")==="home-page")){requestAnimationFrame(()=>{window.__deferred_page_load_promise__?window.__deferred_page_load_promise__.then(()=>{requestAnimationFrame(()=>{this.closeOverlay(l.pid)})}):this.closeOverlay(s.pid)});return}if(l&&l.getOverlayOptions().closeOnClickout===!0&&!u.frontendState.contactForm.inited&&!u.frontendState.cartOpen&&n!==l?.pid&&e.tagName!=="A"){this.closeOverlay(l.pid);return}};handleAnimationEnd=e=>{if(e.target.classList.contains("page"))switch(e.animationName){case"overlayOpen":{let t=e.target.closest(".overlay-animating");t&&t?.classList?.remove("overlay-animating"),e.target.classList.remove("overlay-open");break}case"overlayClose":{setTimeout(()=>{let r=e.target.closest(".overlay-animating");r&&r?.classList?.remove("overlay-animating")},101),e.target.classList.remove("overlay-close");let t=e.target.getAttribute("id");this.closeOverlay(t,!0);break}}};openOverlay=(e,t={})=>{!e||this.getOverlay(e)||(this.intermediateActiveOverlays=[...this.intermediateActiveOverlays,{pid:e,ref:ve(),getOverlayOptions:()=>LW(e,this.props.overlayOptionsByPID[e],t)}],this.setState({activeOverlays:this.intermediateActiveOverlays}))};closeOverlay=(e,t=!1)=>{if(t===!1){let r=this.getOverlay(e);if(!r)return;if(r.getOverlayOptions()?.animateOnClose?.speed>0){r.ref.current.base.classList.add("overlay-close"),r.ref.current.base.classList.add("overlay-animating");return}}this.intermediateActiveOverlays=this.intermediateActiveOverlays.filter(r=>r.pid!==e),this.setState({activeOverlays:this.intermediateActiveOverlays})};toggleOverlay=(e,t)=>{this.getOverlay(e)?this.closeOverlay(e):this.openOverlay(e,t)};getAllOverlays=()=>this.intermediateActiveOverlays;getOverlay=e=>this.intermediateActiveOverlays.find(t=>t.pid===e);render(){return this.state.activeOverlays.map(({pid:e,getOverlayOptions:t,ref:r})=>m(xs,{id:e,contentPad:OW,isOverlay:!0,overlayOptions:t(),ref:r},e))}},LW=Tn((i,e,t)=>Ss.default.merge({},AM,e,t)),FW=Tn(i=>i=Ss.default.mapValues(i,e=>e.overlay_options));se||(Yb=null,Li=null,Hh=!1,Nr=!1,Uh=null,Kb=i=>{if(clearTimeout(Yb),Yb=setTimeout(()=>{Hh=!1,Nr=!1},200),!Hh){let e=[...Qb].reverse().map(r=>document.getElementById(r.pid)?.closest(".overlay-content")),t=e.find(r=>r?.contains(i));if(Li=null,t)if(t.classList.contains("overlay-allow-scroll"))Li=t,Nr=!0;else{let r=e[0].classList?.contains("overlay-allow-scroll")?e[0]:null;if(r)Li=r,Nr=!0;else{let n=t.querySelector(".page-content")?.contains(i),s=t.querySelector(".backdrop");!n&&!t.classList.contains("is-passthrough-overlay")||s||n&&!t.classList.contains("is-content-passthrough-overlay")?(Nr=!0,Li=null):(Nr=!1,Li=null)}}else{let r=e.find((n,s)=>n.classList?.contains("overlay-allow-scroll"));r?(Li=r,Nr=!0):(Nr=!1,Li=null)}Hh=!0}},pn=0,qh=null,so=null,Bh=null,$c=0,Xb=null,ao=!1,Wh=!1,Zb=i=>{pn=Uh-i.touches[0].clientY,Uh=i.touches[0].clientY,clearTimeout(qh),qh=setTimeout(()=>{pn=0},300),Li&&(Li.scrollTop=Li.scrollTop+pn),(Nr||ao)&&(Nr=!0,i.preventDefault(),i.stopPropagation()),Nr&&(document.scrollingElement.scrollTop=$c)},MM=i=>{pn=i.deltaY,Kb(i.target),Nr&&i.preventDefault(),Li&&(Li.scrollTop=Li.scrollTop+pn)},Jb=i=>{if(!so)return;let e=Wc==0?16:i-Wc;Wc=i,pn=pn*.95;let t=so.scrollTop;so.scrollTop=so.scrollTop+pn*(e/16.667);let r=so.scrollTop-t;Math.abs(pn)>.05&&r!=0?Bh=requestAnimationFrame(Jb):(so=null,document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="",document.scrollingElement.scrollTop=$c)},window.addEventListener("wheel",MM,{passive:!1}),window.addEventListener("touchstart",i=>{if(Wh=!1,so=null,cancelAnimationFrame(Bh),Kb(i.touches[0].target),pn=0,Xb=i.touches[0].clientY,ao=i.touches[0].target.closest(".overlay-content"),ao){let e=ao.querySelector(".page-content")?.contains(i.touches[0].target),t=ao.querySelector(".backdrop");(!e&&ao.classList.contains("is-passthrough-overlay")&&!t||e&&ao.classList.contains("is-content-passthrough-overlay"))&&(ao=null)}(Li||ao)&&($c=document.scrollingElement.scrollTop,document.scrollingElement.style.overflow="hidden",document.scrollingElement.style.overscrollBehavior="none",document.scrollingElement.scrollTop=$c,Uh=i.touches[0].clientY,document.body.addEventListener("touchmove",Zb,{passive:!1}))}),document.body.addEventListener("click",i=>{Wh=!0}),document.body.addEventListener("touchend",i=>{document.body.removeEventListener("touchmove",Zb,{passive:!1}),Li&&Math.abs(pn)>2?(so=Li,clearTimeout(qh),Wc=window?.performance?.now?.()??0,Bh=requestAnimationFrame(Jb)):(document.scrollingElement.style.overflow="",document.scrollingElement.style.overscrollBehavior="");let e=Xb-i.changedTouches[0].clientY;if(!so&&Math.abs(e)<10&&Nr){let t=i.changedTouches[0].target;setTimeout(()=>{Wh||Fi.handleGlobalClick(t,t)},330)}},{passive:!1}),Ze.on("window-resize",()=>{$h()}),$h=Ss.default.debounce(()=>{let i=[...Qb].reverse(),e=i.findIndex(t=>{let r=t.ref?.current?.base.closest(".overlay-content");return r?r.classList.contains("overlay-allow-scroll")&&!r.classList.contains("overlay-close"):!1});i.forEach((t,r)=>{let n=t.ref?.current?.base.closest(".overlay-content");n&&(r==0?n.classList.add("top-overlay"):n.classList.remove("top-overlay"),e==-1?(n.classList.remove("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")):r>e?(n.classList.remove("top-scrollable-overlay"),n.classList.add("behind-top-scrollable-overlay")):r==e?(n.classList.add("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")):(n.classList.remove("top-scrollable-overlay"),n.classList.remove("behind-top-scrollable-overlay")))}),e>-1?document.body.classList.add("has-scrollable-overlay"):document.body.classList.remove("has-scrollable-overlay")},30),$h());TM=cn(In(Oe(zW,HW)(ey)))});function BW(i,e){let t=e.idType==="purl"?it.getContentByPurl(i,e.id):it.getContentById(i,e.id),r,n=null,s=null;if(!t){let l=!1;if(i.frontendState.networkErrors.find(u=>u.id===e.id&&u.idType===e.idType&&u)!==void 0){if(e.idType==="purl"&&(r=i.site.tags.find(u=>u.url===e.id),!r)){for(let u in i.pages.byId)if(r=i.pages.byId[u].tags.find(c=>c.url===e.id),r)break}r||(l=!0)}if(l)return{content:null,contentFailedLoading:l}}if(t)if(t.page_type==="set"){n=t.id;let l=it.getContentByPurl(i,e.hashPurl),u=i.structure.indexById[l?.id]||0,c=i.sets.byId[it.getItemParentId(i,l?.id)]||t;s=qW(i.structure,i.pages,i.sets,c,u)}else n=it.getItemParentId(i,t.id);else r&&(n="root",s=Object.values(i.pages.byId).filter(l=>i.structure.indexById[l.id]===null||l.crdt_state===Ft.Deleted?!1:l.tags.some(u=>u.tag===r.tag)).map(l=>({content:l,position:"below"})),s.sort((l,u)=>i.structure.bySort[l.content.id]-i.structure.bySort[u.content.id]));return{tag:r,hasContent:t!==void 0,contentId:t?.id,contentType:t?.page_type,contentTitle:t?.title,contentPurl:t?.purl,contentIsStack:t?.stack,contentIsPin:t?.pin,contentIsOverlay:t?.overlay,contentCRDTState:t?.crdt_state,children:s,pinContextPID:n,isFeed:i.sets.byId.root.stack,topPins:it.getPinsForSet(i,n,"top",t?.id),bottomPins:it.getPinsForSet(i,n,"bottom",t?.id),adminMode:i.frontendState.adminMode}}function WW(i){return Et({fetchContent:Fe.fetchContent,fetchPagesByTag:Fe.fetchPagesByTag,fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState},i)}var kM,lo,UW,ty,Vc,jh,NM,qW,iy,DM=B(()=>{Ce();ri();ht();kM=fe(wp(),1);ga();lo=fe(Se(),1);_s();zt();Ne();Si();Ot();Fh();IM();Gb();yc();Rr();Vh();te();UW=async i=>{let e=[];if(!i.hasContent){let t=i.fetchContent(i.id,{idType:i.idType});e.push(t)}if(i.hashPurl){let t=i.fetchContent(i.hashPurl,{idType:"purl"});e.push(t)}se&&e.push(NM(i,{up:!1,down:!0})),await Promise.allSettled(e).catch(t=>{})},ty={top:0,bottom:0},Vc=10,jh=class extends oe{constructor(e){super(e),this.contentRef=ve(),this.contentParentRef=ve(),this.topPaginationWatcherRef=ve(),this.bottomPaginationWatcherRef=ve(),this.paginationLimitsTriggered={up:!1,down:!1},this.state={contentPad:ty,pageRenderLimits:{above:0,below:Vc}},se||(this.paginationObserver=new IntersectionObserver(this.onPaginationObserverCallback,{root:document,rootMargin:screen.height*2+"px",threshold:[0,1]}),this.resizeObserver=new ResizeObserver(t=>{t.forEach(r=>{var n=window.getComputedStyle(r.target);let s=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top"));(s!==this.state.contentPad.top||l!==this.state.contentPad.bottom)&&this.setState({contentPad:{top:s,bottom:l}})})})),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}getContentByPosition(e){return this.props.children?.filter(t=>t.position===e)||[]}getPageStack(){let e=this.getPageContainerPinOffsets(),t=[];return this.props.topPins.forEach(r=>{t.push(m(xs,{id:r.id,contentPad:ty,stackedPage:this.props.topPins.length>1},r.id))}),this.renderedChildren=[...lo.default.takeRight(this.getContentByPosition("above"),this.state.pageRenderLimits.above),...lo.default.take(this.getContentByPosition("below"),this.state.pageRenderLimits.below)],t.push(m("div",{className:"pages",ref:this.contentRef,style:e,children:this.props.contentType==="set"||this.props.tag?!this.props.tag&&this.props.isFeed!==!0&&this.props.contentIsStack!==!0?null:m(Q,{children:[m("div",{className:"pagination-watcher","data-direction":"up",ref:this.topPaginationWatcherRef}),m(Bc,{id:this.props.contentId,children:this.renderedChildren,hashPurl:this.props.hashPurl,contentPad:this.state.contentPad},this.props.contentId),m("div",{className:"pagination-watcher","data-direction":"down",ref:this.bottomPaginationWatcherRef})]}):this.props.contentIsPin||this.props.contentIsOverlay?null:m(xs,{id:this.props.contentId,contentPad:this.state.contentPad,stackedPage:!1},this.props.contentId)})),this.props.bottomPins.forEach(r=>{t.push(m(xs,{id:r.id,contentPad:ty,stackedPage:this.props.bottomPins.length>1},r.id))}),t}render(){if(this.props.contentFailedLoading)return m(zh,{message:"Page not found."});if((!this.props.hasContent||this.props.contentCRDTState===Ft.Deleted)&&!this.props.tag)return null;let e=this.getPageStack();return m("div",{className:"content",ref:this.contentParentRef,children:[m(TM,{pinContextPID:this.props.pinContextPID}),e]})}bindContentParent=()=>{this.resizeObserver&&this.contentParentRef.current&&!this.state.contentParentRef&&(this.resizeObserver.observe(this.contentParentRef.current),this.setState({contentParentRef:this.contentParentRef.current}))};componentDidMount(){this.bindContentParent(),this.attachPaginationWatchers(),this.props.hasContent&&this.props.updateFrontendState({activePID:this.props.contentId})}shouldComponentUpdate(e,t,r){if(this.props===e&&this.state===t&&this.context===r)return!1;if(this.props.contentId!==e.contentId||this.props.hashPurl!==e.hashPurl||this.props.tag!==e.tag){let n=!1;this.props.hashPurl!==e.hashPurl&&this.renderedChildren&&this.renderedChildren.some(s=>s.content.purl===e.hashPurl)&&(n=!0),n||this.setState({pageRenderLimits:{above:0,below:Vc}})}return!0}componentDidUpdate(e,t,r){this.bindContentParent(),!this.props.adminMode&&e.contentCRDTState!==Ft.Deleted&&this.props.contentCRDTState===Ft.Deleted&&(this.props.updateFrontendState({alertModal:{message:"Page not found",type:"notice"}}),Fn.replace("/"+e.contentPurl||"/")),this.props.id&&e.id!==this.props.id&&this.props.fetchContent(this.props.id,{idType:this.props.idType}),this.props.tag&&e.tag!==this.props.tag&&(this.props.updateFrontendState({activePID:void 0}),this.requestPagination()),e.hashPurl!==this.props.hashPurl&&this.props.hashPurl&&this.props.fetchContent(this.props.hashPurl,{idType:"purl"}).then(()=>{this.requestPagination()}),this.props.hasContent&&this.props.contentId!==e.contentId&&(this.props.updateFrontendState({activePID:this.props.contentId}),this.requestPagination()),this.attachPaginationWatchers()}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.unobserve(this.contentParentRef.current),this.paginationObserver&&this.paginationObserver.disconnect(),this.props.updateFrontendState({activePID:void 0})}attachPaginationWatchers(){this.paginationObserver&&this.topPaginationWatcherRef.current&&this.bottomPaginationWatcherRef.current?(this.topPaginationWatcherRef.current!==this.topPaginationWatcherEl&&(this.topPaginationWatcherEl&&this.paginationObserver.unobserve(this.topPaginationWatcherEl),this.paginationObserver.observe(this.topPaginationWatcherRef.current),this.topPaginationWatcherEl=this.topPaginationWatcherRef.current),this.bottomPaginationWatcherRef.current!==this.bottomPaginationWatcherEl&&(this.bottomPaginationWatcherEl&&this.paginationObserver.unobserve(this.bottomPaginationWatcherEl),this.paginationObserver.observe(this.bottomPaginationWatcherRef.current),this.bottomPaginationWatcherEl=this.bottomPaginationWatcherRef.current)):(delete this.topPaginationWatcherEl,delete this.bottomPaginationWatcherEl)}onPaginationObserverCallback=e=>{let t=!1;e.forEach(r=>{let n=r.target.dataset.direction;r.isIntersecting?(this.paginationLimitsTriggered[n]=!0,t=!0):this.paginationLimitsTriggered[n]=!1}),t&&this.requestPagination()};requestPagination=async()=>{if(this.isPaginating)return;this.isPaginating=!0;let e=0;for(;this.isPaginating;){if(e++>25){console.log("Exceeded max consecutive pagination attempts...");break}(this.paginationLimitsTriggered.up||this.paginationLimitsTriggered.down)&&this.setState({pageRenderLimits:{above:(this.state.pageRenderLimits.above||0)+(this.paginationLimitsTriggered.up?Vc:0),below:(this.state.pageRenderLimits.below||0)+(this.paginationLimitsTriggered.down?Vc:0)}}),await NM(this.props,this.paginationLimitsTriggered).then(t=>{t.length===0&&!(this.paginationLimitsTriggered.up&&this.state.pageRenderLimits.above<this.getContentByPosition("above").length)&&!(this.paginationLimitsTriggered.down&&this.state.pageRenderLimits.below<this.getContentByPosition("below").length)&&(this.isPaginating=!1)}).catch(t=>{console.error(t),this.isPaginating=!1}),this.props.tag&&(this.isPaginating=!1,this.setState({pageRenderLimits:{above:9e9,below:9e9}})),await new Promise(t=>setTimeout(t,250))}};getPageContainerPinOffsets=()=>{let e={marginTop:0,marginBottom:0};if(se)return e;let t=r=>(r.hasOverlayPins&&!r.adjustsSelf&&r.adjusterId!==null?r.totalHeight:0)-(r.adjustedLevel==="content"?r.adjusterHeight:0);return lo.default.each(this.context.levelData.levels,(r,n)=>{e.marginTop+=t(r.top),e.marginBottom+=t(r.bottom)}),e}},NM=(i,e,t={})=>new Promise((r,n)=>{if(!i||!e)return n("Missing pagination parameters");if(i.tag)return i.fetchPagesByTag(i.tag.url).then(r).catch(n);let s=i.store.getState(),l=[];if(lo.default.each(e,(u,c)=>{if(!u)return;let d,f;if(c==="up"){let C=lo.default.first(i.children);C&&(f=C.index,d=C.parent)}else if(c==="down"){let C=lo.default.last(i.children);C?(f=C.index,d=C.parent):i.contentType==="set"&&(f=0,d=i.contentId)}if(d===void 0||f===void 0)return;let g=0,v=(C,_,M=[])=>(M.push(_),C[_]?.forEach(T=>{v(C,T,M)}),M),S=v(it.getSetsByParent(s),d);Pl(s.structure,s.pages,s.sets,s.sets.byId[d],f,{reverse:c==="up",callback:(C,_,M)=>{if(!M&&S.includes(C)&&(l.push({parent:C,index:_}),g++),g>=Vc)return"break"}})}),l.length>0){let u=lo.default.groupBy(l,"parent"),c=lo.default.map(u,(d,f)=>i.fetchContent(f,{indexes:lo.default.map(d,"index"),idType:"pid"}));Promise.all(c).then(r).catch(n)}else r([])}),qW=Tn((i,e,t,r,n)=>{let s=[];return Pl(i,e,t,r,n-1,{reverse:!0,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&s.unshift({parent:l,index:u,content:c,position:"above"});else return"break"}}),Pl(i,e,t,r,n,{reverse:!1,traverseUp:!1,includeSets:!0,callback:(l,u,c)=>{if(c)c&&s.push({parent:l,index:u,content:c,position:"below"});else return"break"}}),s});jh.contextType=va;iy=cn(Oe(BW,WW)((0,kM.frontloadConnect)(UW,{onMount:!0,onUpdate:!1})(jh)))});function $W(i){return Et({pageMounted:Fe.pageMounted,pageUnMounted:Fe.pageUnMounted,updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,fetchCommerceProducts:Fe.fetchCommerceProducts},i)}var Bo,Ca,Gh,jc,Yh,Wo,Kh,ry,OM,Vl,Gc,LM,FM=B(()=>{Ce();ri();ht();zt();Bo=fe(Se(),1);Si();yc();Ni();Jn();Ki();ya();Ci();qb();Ne();kh();Rr();te();Ca=new WeakMap,Gh=new WeakMap,jc=new WeakMap,Yh=new WeakMap,OM=i=>{i.forEach(function(e){Ca.has(e.target)&&Ca.get(e.target).onAboveViewPort(e)})},Vl=0;se||(Wo=new ResizeObserver(function(i){let e={};OM(Kh.takeRecords()),i.forEach(function(t){let r=Ca.get(t.target);if(r&&(r.onResize(t.contentRect),e[r.props.id]=t.contentRect.height),Gh.has(t.target)&&Gh.get(t.target).onBodyCopyResize(t.contentRect.width),jc.has(t.target)||Yh.has(t.target)){var n=window.getComputedStyle(t.target);let s=parseFloat(n.getPropertyValue("margin-top"))+parseFloat(n.getPropertyValue("padding-top"))+parseFloat(n.getPropertyValue("border-top")),l=parseFloat(n.getPropertyValue("margin-bottom"))+parseFloat(n.getPropertyValue("padding-bottom"))+parseFloat(n.getPropertyValue("border-bottom"));if(jc.has(t.target)){let u=jc.get(t.target);(u.state.pageContentPad.top!==s||u.state.pageContentPad.bottom!==l)&&u.setState({pageContentPad:{top:s,bottom:l}})}else{let u=Yh.get(t.target);(u.state.pageLayoutPad.top!==s||u.state.pageLayoutPad.bottom!==l)&&u.setState({pageLayoutPad:{top:s,bottom:l}})}}}),Vl!==0&&(document.scrollingElement.scrollTop+=Vl,Vl=0)}),Kh=new IntersectionObserver(OM,{root:document,rootMargin:"0px 0px 0px 0px",threshold:[0,1]}),ry=new IntersectionObserver((i,e)=>{i.forEach(function(t){Ca.has(t.target)&&Ca.get(t.target).onViewportBoundaryIntersection(t)})},{root:document,rootMargin:Math.max(screen.height*6,2500)+"px",threshold:[0,1]}));Gc=class extends oe{constructor(e){super(e),this.bodycopyRef=ve(),this.pageContentRef=ve(),this.pageRef=ve(),this.pageLayoutRef=ve(),this.galleryRef=ve(),this.lastBodycopyRef=ve(),this.lastPageContentRef=ve(),this.lastPageRef=ve(),this.lastPageLayoutRef=ve(),this.currentHeight=0,this.state={resizeParentWidth:"100%",mobileOffsetsString:null,pageContentPad:{top:0,bottom:0},pageLayoutPad:{top:0,bottom:0},authorized:localStorage.getItem("images-include-offline"),imageSort:"forward",windowHeight:Ze.data.window.h,fullyRender:!0,lastPageLayoutHeight:100},this.localStyleRef=ve(),this.scrollingElement={current:se?null:window}}setMobileOffsets=()=>{if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.localStyleRef.current)return;let e=Al(this.localStyleRef.current.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","small-caps"]}]);this.setState({mobileOffsetsString:e})};onBodyCopyResize=e=>{e=parseInt(e),this.lastWidth!==e&&(this.setState({resizeParentWidth:e+"px"}),this.lastWidth=e)};onWindowResize=()=>{this.setState(e=>this.state.windowHeight===Ze.data.window.h?null:{windowHeight:Ze.data.window.h})};onResize=(e,t=!0)=>{((this.isAboveViewport??this.pageRef.current?.getBoundingClientRect().bottom<1)||this.props.position==="above"&&this.firstResizeOccurred!==!0)&&(Vl+=e.height-this.currentHeight,t||(document.scrollingElement.scrollTop+=Vl,Vl=0)),this.currentHeight=e.height,this.firstResizeOccurred=!0};onAboveViewPort=e=>{e.rootBounds.height!==0&&(this.isAboveViewport=e.boundingClientRect.bottom<0)};onViewportBoundaryIntersection=e=>{let t=e.isIntersecting;se&&(t=!0),this.setFullRenderState(t)};setFullRenderState=(e,t)=>{this.setState({fullyRender:e,lastPageLayoutHeight:this.pageLayoutRef.current?.getBoundingClientRect().height||100},t)};updateAdminState=e=>{store.dispatch({type:"UPDATE_ADMIN_STATE",payload:e})};zIndexLayerPosition=e=>e?.toString().padStart(2,"0");findPageAdjusteeStatus=e=>{let t={top:null,bottom:null},r=Bo.default.pickBy(this.context?.adjustPairs,n=>n.adjusts.indexOf(this.props.pid)!==-1);return Bo.default.keys(r).length>0&&Bo.default.each(r,function(n){t[n.location]=n.adjustedHeight}),t};getPageInfoContextValue(){return(this.props.isEditingPage!==this.lastProps?.isEditingPage||this.props.pid!==this.lastProps?.pid)&&(this.pageInfoContextValue={isEditing:this.props.isEditingPage,pid:this.props.pid}),this.lastProps=this.props,this.pageInfoContextValue}onItemClick=e=>{if(e.button!==2||!this.state.zoomedOut)return;let t=e?.target.closest("media-item");t&&(e.preventDefault(),this.setState({zoomedOut:!1},()=>{setTimeout(()=>{t?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:0,preventQuickViewClose:!0,lazyScroll:!1}})),t.classList.add("hey-listen"),this.flashInterval=setInterval(()=>{t.classList.contains("hey-listen")?t.classList.remove("hey-listen"):t.classList.add("hey-listen")},300),setTimeout(()=>{t.classList.remove("hey-listen"),clearInterval(this.flashInterval)},1200)},0)}),console.log(e))};render(){if(!this.props.hasPage)return null;let e=null,t=!1;if(this.state.fullyRender){let r=this.props.contentPad.top+this.state.pageLayoutPad.top+this.state.pageContentPad.top+this.state.pageContentPad.bottom+this.state.pageLayoutPad.bottom+this.props.contentPad.bottom,n=Math.max(10,this.state.windowHeight-r),s=null;this.props.access_level==="password"?s=m(Wl,{target:this.props.pid,onSucces:()=>{this.props.fetchContent(this.props.pid,{force:!0})}}):this.hasOwnProperty("lockedContent")?s=this.lockedContent:s=this.lockedContent=this.props.content,e=m(Q,{children:m(oh,{pageRef:this.pageRef,value:this.getPageInfoContextValue(),children:[m("style",{id:"img-style",children:`
							body.mobile .page-content{
								${this.state.zoomedOut?"padding: 1px 1px 8rem 1px;":"padding: 2rem 2rem 8rem 2rem;"}
							}
							.page-content {
								${this.state.zoomedOut?"padding: 1px;":"padding: 3rem 3rem 8rem 3rem;"}
							}
							body.mobile .caption {
								font-size: 3rem;
							}
							.caption {

							    margin-top: 1rem;
							    font-size: .75rem;
							    font-weight: 400;
							    color: rgba(0, 0, 0, 0.35);
							    font-style: normal;
							    line-height: 1.3;
							}

							.caption a {
							    color: rgba(0, 0, 0, 0.35);
								text-decoration:none;
							}

							.hey-listen::part(media){
			                	opacity: 0.3;
							}
									

							media-item::part(media){
								transition: opacity ease-in-out 0.1s;								
								outline: 1px solid rgba(0,0,0,0.08);
								outline-offset: -1px;
							}

							media-item:hover a.original {
								display: block;
							}
							.caption a.original {
								padding: 8px;
								margin: -8px;
								display:none;
								float: right;
							}

							.quick-view-background {
								background-color: rgba(21,21,21, 0.8);
							}

							body.mobile .sort-controls text-icon {
								height: 5rem;
								border: 1rem solid white;								
							}

							.sort-controls {
								display: ${this.state.authorized?"grid":"none"};
								position: fixed;
								bottom: 1.8rem;
								left: 1.4rem;
								z-index: 1000;
								column-gap: 1px;
								grid-template-columns: 1fr 1fr 1fr 1fr;
								filter: drop-shadow(0px 1px 2px rgba(0,0,0, 0.2));
							}

							.sort-controls text-icon.active {
								color: black;
							}

							.sort-controls text-icon:active {
								transform: translate3d(0px, 2px, 0px);
							}

							.sort-controls text-icon {
								user-select:none;
								transform: translate3d(0px, 0px, 0px);
								transition: .05s transform linear;
								color: #ccc;
								background-color: white;
								border: .5rem solid white;
								border-radius: 100%;
								height: 2.5rem;
								cursor: pointer;
							}

							.sort-controls text-icon.zoom {
								color: black;
							}

							${this.state.zoomedOut?`
							media-item:hover .caption a.page-link {
								display: block;
							}

							media-item .caption {
								margin: 0;
								padding: 0;
								position: absolute;
								inset: 0;
								pointer-events:none;
							}
							media-item .caption a {
								display: none;
								color: transparent;
								pointer-events:auto;
							}

							media-item .caption a.page-link {
								pointer-events: auto;
								overflow: hidden;
								font-size: 0;

								border-style: solid;
								position: absolute;
								top: 0px;
								right: 0px;
								z-index: 99;
							}

							media-item .caption a.page-link::after {
								display: block;
								padding: 5px;
								content: '\u{1F517}';
								font-size: 14px;
								font-family:monospace;
								color: black;
								filter:saturate(0);
							}

							`:""}
						`}),m("div",{className:"page-layout",ref:this.pageLayoutRef,children:m("div",{className:"page-content",ref:this.pageContentRef,children:[m("div",{className:"sort-controls",children:[m("text-icon",{icon:"downwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"forward"})},className:this.state.imageSort==="forward"?"active":""}),m("text-icon",{icon:"upwards-arrow",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({imageSort:"reverse"})},className:this.state.imageSort==="reverse"?"active":""}),m("text-icon",{icon:"shuffle",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.state.imageSort==="shuffle"?this.galleryRef.current.dispatchEvent(new Event("refresh-thumbnail-index")):this.setState({imageSort:"shuffle"})},className:this.state.imageSort==="shuffle"?"active":""}),m("text-icon",{icon:this.state.zoomedOut?"expand-arrows":"collapse-arrows",onPointerDown:l=>{l.preventDefault(),l.stopPropagation(),this.setState({zoomedOut:!this.state.zoomedOut})},className:"zoom"})]}),m(wh,{pageInfo:this.getPageInfoContextValue(),adminMode:this.props.adminMode,bodycopyRef:this.bodycopyRef,children:[m(Qn,{portalHost:this.bodycopyRef}),m("bodycopy",{style:{"--fit-height":n+"px","--resize-parent-width":this.state.resizeParentWidth},ref:this.bodycopyRef,children:this.state.authorized?m("gallery-justify",{onContextMenu:this.onItemClick,ref:this.galleryRef,"thumbnail-index":"img:all",sort:this.state.imageSort,"row-height":this.state.zoomedOut?"10vw":"15vw","mobile-row-height":this.state.zoomedOut?"200px":"100vh","show-title":!0,gutter:this.state.zoomedOut?"1px":"2rem 3rem"}):null})]})]})})]})})}else e=m("div",{style:{height:this.state.lastPageLayoutHeight+"px"}});return m("div",{"page-url":this.props.purl?.toLowerCase(),className:"page",ref:this.pageRef,editing:!1,children:[m("a",{id:this.props.purl}),m(Nl,{passthrough:!1,scrollingElement:this.scrollingElement,children:e})]})}componentDidUpdate=(e,t,r)=>{this.bindObservers(),this.state.fullyRender===!0&&t.fullyRender===!1?this.onFullComponentRender():this.state.fullyRender===!1&&t.fullyRender===!0&&this.onSparseComponentRender(),(e.activePURL!==this.props.activePURL||e.adminMode!==this.props.adminMode)&&this.updateShowCartLinkCounts(),this.props.local_css!==e.local_css&&this.setMobileOffsets(),e.isMobile!==this.props.isMobile&&this.setMobileOffsets(),this.props.hashPurl!==e.hashPurl&&this.runHashScroll()};shouldComponentUpdate(e,t,r){return!(this.props===e&&this.state===t&&this.context===r||this.hasOwnProperty("lockedContent")&&this.props.content!==e.content&&rh({...this.props,content:null},{...e,content:null})&&this.state===t&&this.context===r)}bindObservers=(e=!1)=>{(this.pageRef.current!==this.lastPageRef.current||e)&&(this.lastPageRef.current&&(Ca.delete(this.lastPageRef.current),Wo.unobserve(this.lastPageRef.current),Kh.unobserve(this.lastPageRef.current),ry.unobserve(this.lastPageRef.current)),this.pageRef.current&&!e&&(Ca.set(this.pageRef.current,this),Wo.observe(this.pageRef.current),Kh.observe(this.pageRef.current),ry.observe(this.pageRef.current)),this.lastPageRef.current=this.pageRef.current),(this.pageLayoutRef.current!==this.lastPageLayoutRef.current||e)&&(this.lastPageLayoutRef.current&&(Yh.delete(this.lastPageLayoutRef.current),Wo.unobserve(this.lastPageLayoutRef.current)),this.pageLayoutRef.current&&!e&&(Yh.set(this.pageLayoutRef.current,this),Wo.observe(this.pageLayoutRef.current)),this.lastPageLayoutRef.current=this.pageLayoutRef.current),(this.pageContentRef.current!==this.lastPageContentRef.current||e)&&(this.lastPageContentRef.current&&(jc.delete(this.lastPageContentRef.current),Wo.unobserve(this.lastPageContentRef.current)),this.pageContentRef.current&&!e&&(jc.set(this.pageContentRef.current,this),Wo.observe(this.pageContentRef.current)),this.lastPageContentRef.current=this.pageContentRef.current),(this.bodycopyRef.current!==this.lastBodycopyRef.current||e)&&(this.lastBodycopyRef.current&&(Gh.delete(this.lastBodycopyRef.current),Wo.unobserve(this.lastBodycopyRef.current)),this.bodycopyRef.current&&!e&&(Gh.set(this.bodycopyRef.current,this),Wo.observe(this.bodycopyRef.current)),this.lastBodycopyRef.current=this.bodycopyRef.current)};runHashScroll(){this.props.hashPurl===this.props.purl&&(this.state.fullyRender!==!0?this.setFullRenderState(!0,()=>{this.pageRef.current.scrollIntoView()}):this.pageRef.current.scrollIntoView())}checkLocalStorage=()=>{localStorage.getItem("images-include-offline")&&!this.state.authorized&&(this.setState({authorized:!0}),clearInterval(this.checkStorageInterval))};onScrollRequest=e=>{e.detail.transitionTime=0};onKeyDown=e=>{e.keyCode===27&&!store.getState().frontendState.quickView.inited&&(e.preventDefault(),window.location=window.location.origin)};componentDidMount(){window.addEventListener("keydown",this.onKeyDown),document.body.addEventListener("request-scroll",this.onScrollRequest,{passive:!1}),this.checkStorageInterval=setInterval(()=>{this.checkLocalStorage()},180);var e=document.body.querySelectorAll("style");e.forEach(t=>{t.id!=="img-style"&&(t.disabled=!0)}),setTimeout(()=>{e.forEach(t=>{t.id!=="img-style"&&(t.disabled=!0)})},100),this.runHashScroll(),Ze.on("window-resize",this.onWindowResize),this.state.fullyRender===!0&&this.onFullComponentRender()}onFullComponentRender(){if(this.pageLayoutRef.current){let e=function(t){t.childNodes.forEach(r=>r.setSaveable(!0));for(let r of t.childNodes)e(r)};e(this.pageLayoutRef.current)}this.pageRef.current&&(this.initializeScriptTags(),this.props.pageMounted(this.pageRef.current).then(()=>{this.updateShowCartLinkCounts(),this.fetchCommerceProductsByLink()})),this.props.isMobile&&this.setMobileOffsets(),this.bindObservers()}componentWillUnmount(){document.body.removeEventListener("request-scroll",this.onScrollRequest,{passive:!1}),window.removeEventListener("keydown",this.onKeyDown),clearInterval(this.checkStorageInterval);var e=document.body.querySelectorAll("style");e.forEach(t=>{t.disabled=!1}),Ze.off("window-resize",this.onWindowResize),this.onSparseComponentRender(!0),this.onResize({height:0},!1)}onSparseComponentRender(e=!1){this.bindObservers(e),this.pageRef.current&&this.props.pageUnMounted(this.pageRef.current)}fetchCommerceProductsByLink=()=>{if(!this.pageRef.current||!this.props.has_shop)return;let e=this.pageRef.current.querySelectorAll('[rel="add-to-cart"], [rel="add_to_cart"]'),t=[];Bo.default.each(e,r=>{let n=r.getAttribute("data-product");n&&t.push(n)}),this.props.fetchCommerceProducts({idArray:t,onlyNew:!0})};updateShowCartLinkCounts=()=>{if(!this.pageRef.current||!this.props.has_shop||!this.props.cartData||Bo.default.isEmpty(this.props.cartData)||this.props.adminFrame)return;let e=Bo.default.keys(this.props.cartData).length,t=this.pageRef.current.querySelectorAll('a[rel="show-cart"], a[rel="show_cart"]');Bo.default.each(t,r=>{if(r.hasAttribute("show-count")){let n=r.innerHTML.replace(/ *\([^)]*\) */g,"");r.innerText=n+" ("+e+")"}})};initializeScriptTags=()=>{let e=!1,t=function(r){e=!0};window.addEventListener("error",t,!1),Bo.default.each(this.bodycopyRef.current?.querySelectorAll("script"),r=>{if(r.getAttribute("type")==="text/thumbnail-metadata")return;e=!1;let n=document.createElement("script");[...r.attributes].forEach(s=>{n.setAttribute(s.nodeName,s.nodeValue)}),n.innerHTML=r.textContent,r.replaceWith(n),e&&(e=!1,n.parentNode.insertBefore(document.createComment(n.outerHTML),n),n.remove(),this.props.adminMode&&window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"One or more scripts on this page are broken and were disabled.",type:"notice"}}}))}),window.removeEventListener("error",t)}};Gc.defaultProps={contentPad:{top:0,left:0,bottom:0,right:0}};Gc.contextType=va;LM=Oe((i,e)=>{let t={id:"img",purl:"/img",pin:!1,title:"Images",backdrops:{},content:"",access_level:"public"},r=(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl;return!se&&!r&&(r=window.location.pathname.replace(/^\//,"").toLowerCase()),typeof r=="string"&&(r=r.toLowerCase()),{inAdminFrame:!1,isMobile:i.frontendState.isMobile,adminMode:!1,isEditingPage:!1,hasPage:t!==void 0,pid:t?.id,purl:t?.purl,isPin:t?.pin,title:t?.title,backdrops:t?.backdrops,content:t?.content,access_level:t?.access_level,local_css:t?.local_css,pin_options:t?.pin_options,PIDBeingEdited:i.frontendState.PIDBeingEdited,activePID:i.frontendState.activePID,activePURL:r,pageDepth:it.getParentSetList(i,e.id).length-1,has_shop:i.site.shop_id!==null,cartData:i.commerce?.cart,Editor_PageEditorOutlines:i.adminState?.localStorage?.Editor_PageEditorOutlines}},$W)(Gc)});var zM,Dne,ny,HM,UM=B(()=>{Ce();zM=fe(un(),1);pa();Ne();Dne=fe(Se(),1);te();ny=class extends oe{constructor(e){super(e),this.state={error:!1},this.inputRef=ve()}submit=e=>{e.preventDefault(),this.setState({error:!1,downloadStarted:!1});let t=this.inputRef.current?.value;if(!t)return this.setState({error:"Email address is not valid."});zM.default.post(`https://${Ng?Cl:"dev.cargo.site"}/c3filedownload/validate/${t}/${this.props.hash}`).then(r=>{if(r?.data?.jdata?.valid)return this.setState({error:!1,downloadStarted:!0}),window.location.href=`https://${Ng?Cl:"dev.cargo.site"}/c3filedownload/download/${t}/${this.props.hash}`;this.setState({error:r?.data?.error||"Email address is not valid."})}).catch(r=>{this.setState({error:"Email address is not valid."})})};onKeyDown=e=>{this.setState({error:!1})};render(){return m(Q,{children:[m("style",{children:`

					body {
						letter-spacing: 0;
						padding: 30px;
						color: rgba(0,0,0,.85);
						font-size: 18px;
						line-height: 1;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif, "Sans Serif", Icons;
					}

					.message {
						margin-bottom: 15px;
					}

					.error {
						color: #f00;
					}

					input[type="email"] {
						border-radius: 100px;
						border: 1px solid rgba(0,0,0,0.75);
						padding: 10px 20px;
						font-family: Helvetica;
						font-size: 18px;
						font-style: normal;
						font-weight: 400;
						line-height: 21px;
						letter-spacing: -0.004em;
						text-align: left;
						width: 340px;
					}

					input[type="email"]:placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-webkit-input-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]::-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					input[type="email"]:-moz-placeholder {
						color: rgba(0,0,0,0.75);
					}
					
					.submit {
						-webkit-appearance: none;
						border: none;
						cursor: pointer;
						font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
						font-size: 14.5px;
						white-space: nowrap;
						display: flex;
						margin: 0;
						width: 130px;
						justify-content: flex-start;
						padding: 6.5px 12px 7.5px 15px;
						font-weight: 500;
						flex: 1 1;
						text-align: center;
						height: auto;
						min-height: 28.5px;
						line-height: 1;
						border-radius: 100px;
						user-select: none;
						position: relative;
						background: #262626;
						color: #fff;
						padding-right: 5px;
						margin-top: 10px;
					}
					.submit:active {
						opacity: .7;
					}
				`}),this.state.downloadStarted?m("span",{className:"message",children:"Your download will begin shortly..."}):m(Q,{children:[m("span",{className:"message",children:"Please verify your email address:"}),m("form",{noValidate:!0,onSubmit:this.submit,children:[m("input",{name:"email",type:"Email",placeholder:"Email address...",autofocus:"true",onKeyDown:this.onKeyDown,ref:this.inputRef,formNoValidate:!0}),m("button",{className:"submit",type:"submit",children:"Submit"})]}),this.state.error&&m(Q,{children:[m("br",{}),m("span",{class:"error",children:this.state.error})]})]})]})}},HM=ny});var WM={};ii(WM,{default:()=>KW});function jW(i,e){return{siteId:i.site.id,contactForm:i.frontendState.contactForm,colorTheme:i.siteDesign?.contact_form?.theme||"auto",adminMode:Gi}}function GW(i){return Et({updateFrontendState:Fe.updateFrontendState},i)}var qM,BM,Xh,ay,oy,$ne,sy,VW,YW,KW,$M=B(()=>{Ce();We();ta();qM=fe(un(),1);ht();ri();zt();BM=fe(Se(),1);Ne();te();Xh={},ay=window.matchMedia("(max-aspect-ratio: 1/1)"),oy=ay.matches,$ne=ay.addEventListener("change",i=>{oy=i.matches,Xh[1]&&Xh[1].setState({isMobile:oy})}),sy=class extends oe{constructor(e){super(e),this.state={loaded:!1,showContents:!1,animate:!1,sent:!1,loading:!1,emailValue:"",messageValue:"",emailError:!1,messageError:!1,isMobile:oy,shadowRoot:null,systemTheme:window.matchMedia("(prefers-color-scheme: dark)")?.matches?"dark":"light",transitioningTheme:!1},this.cssLinkRef=ve(),this.contactFormRef=ve(),this.startTime=null,this.inputRef=ve(),this.throttledResize=BM.default.throttle(this.resizeHandler,200)}componentDidMount(){this.contactFormRef.current&&!this.contactFormRef.current.shadowRoot&&this.contactFormRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.contactFormRef.current?.shadowRoot}),this.props.contactForm.inited||this.props.updateFrontendState({contactForm:{transition:!1,inited:!0}}),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",this.darkModeMediaQueryCallback),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})}darkModeMediaQueryCallback=e=>{let t=window.matchMedia("(prefers-color-scheme: dark)");this.setState({systemTheme:t.matches?"dark":"light"})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,t=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${t}px`)};handleEmailChange=e=>{this.setState({emailValue:e.target.value,emailError:!1})};handleMessageChange=e=>{this.setState({messageValue:e.target.value,messageError:!1})};submitForm=()=>{this.validate()&&this.setState({loading:!0},()=>{this.startTime=new Date;let e={from:this.state.emailValue,site_id:this.props.siteId,message:this.state.messageValue};qM.default.post("https://cargo.site/dispatch/notifications/sendContactMessage",e,{headers:{"Content-Type":"application/json; charset=UTF-8"}}).then(r=>{let s=new Date-this.startTime;if(this.startTime=null,s<=2500){let l=2500-s;setTimeout(()=>{this.closeForm(null,"submit")},l)}else this.closeForm(null,"submit")}).catch(r=>{window.store.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{message:"Message failed to send, please try again.",type:"notice"}}}),this.startTime=null,this.handleFormError()})})};closeForm=(e,t)=>{this.startTime===null&&(document.body.style.overflow="",window.removeEventListener("resize",this.throttledResize),t?window.requestAnimationFrame(()=>{this.setState({sent:!0},()=>{this.resetForm()})}):window.requestAnimationFrame(()=>{this.setState({animate:!1},()=>{this.resetForm()})}))};resetForm=()=>{delete Xh[1],setTimeout(()=>{this.props.closeOverlay()},280)};componentDidUpdate=e=>{this.props.contactForm.transition!==e.contactForm.transition&&!e.contactForm.transition&&this.props.contactForm.transition&&this.startTime===null&&this.state.animate&&this.closeForm(),this.props.colorTheme!==e.colorTheme&&this.setState({transitioningTheme:!0},()=>{setTimeout(()=>{this.setState({transitioningTheme:!1})},500)})};componentWillUnmount=()=>{this.props.contactForm.inited&&this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}}),this.props.adminMode&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),document.body.style.overflow="",document.documentElement.style.removeProperty("--contact-form-vh"),document.documentElement.style.removeProperty("--contact-form-vw")};handleFormError=()=>{this.setState({loading:!1})};handleTransitionEnd=()=>{};focusInput=()=>{this.inputRef?.current?.focus()};validate=()=>{let e=/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+$/i,t=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)+$/i,r=!0,n=!0,s=this.state.emailValue,l=this.state.messageValue;s.length<=0&&(r=!1),l.length<=0&&(n=!1);let u=s.split("@");return u.length!==2&&(r=!1),e.test(u[0])||(r=!1),t.test(u[1])||(r=!1),r||this.setState({emailError:!0}),n||this.setState({messageError:!0}),!(!r||!n)};onCSSLoad=()=>{this.setState({showContents:!0,isMobile:ay.matches},()=>{let e=(window.innerHeight-30)*.01,t=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--contact-form-vh",`${e}px`),document.documentElement.style.setProperty("--contact-form-vw",`${t}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",Xh[1]=this,setTimeout(()=>{this.setState({animate:!0})},33)})};render(){let e=this.props.colorTheme==="auto"||!this.props.colorTheme?this.state.systemTheme:this.props.colorTheme;return m("div",{className:"contact-form",ref:this.contactFormRef,children:[" ",this.state.shadowRoot&&Ge(m(Q,{children:[m("link",{rel:"stylesheet",onLoad:this.onCSSLoad,ref:this.cssLinkRef,type:"text/css",href:"https://build.cargo.site/frontend/ff2e39/css/front-end/contact-form.css"}),this.state.showContents===!0?m("div",{className:`background${this.state.animate?" active":""}${this.state.sent?" sent":""}${e?" "+e:""}${this.state.transitioningTheme?" transitioning-theme":""}`,children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.sent?" sent":""}${this.state.isMobile?" mobile":""}`,onTransitionEnd:t=>{this.state.sent===!0&&this.handleTransitionEnd(t)},children:m("div",{className:"modal-inner",children:[m("div",{className:"header",children:[m("div",{className:"title"}),m("div",{className:"exit",onPointerUp:t=>{this.closeForm(t)},children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",children:[m("circle",{opacity:"var(--contact-form-close-circle-opacity)",cx:"10",cy:"10",r:"10",fill:"var(--contact-form-color-flat-reverse)"}),m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.0002 11.0607L14.3099 15.3703L15.3705 14.3096L11.0609 10L15.3705 5.69036L14.3099 4.6297L10.0002 8.93934L5.69054 4.62964L4.62988 5.6903L8.93958 10L4.62988 14.3097L5.69054 15.3704L10.0002 11.0607Z",fill:"var(--contact-form-color-flat)"})]})})]}),m("hr",{}),m("div",{onPointerUp:t=>{this.focusInput(t)},className:"email",children:[m("label",{htmlfor:"email",children:["From:","\xA0"]}),m("div",{className:`text-input${this.state.emailError?" error":""}`,children:m("input",{ref:this.inputRef,type:"email",name:"email",autocomplete:"email",value:this.state.emailValue,onChange:t=>{this.handleEmailChange(t)},placeholder:"(enter your email address)..."})})]}),m("hr",{}),m("div",{className:`text-area${this.state.messageError?" error":""}`,children:m("textarea",{name:"message",type:"text",placeholder:"Write your message...",rows:"1",resize:"false",value:this.state.messageValue,onChange:t=>{this.handleMessageChange(t)}})}),m("hr",{}),m("div",{className:"button-area",children:this.state.loading?m(Q,{children:m("button",{className:"send",children:["Sending",m(VW,{})]})}):m(Q,{children:[m("button",{className:"cancel",onPointerUp:t=>{this.closeForm(t)},children:"Cancel"}),m("button",{className:"send",onPointerUp:t=>{this.submitForm(t)},children:"Send"})]})})]})})}):null]}),this.state.shadowRoot)]})}},VW=()=>m("div",{className:"caution-processing"});YW=Oe(jW,GW)(sy),KW=YW});var VM={};ii(VM,{default:()=>JW,validateShopModel:()=>Qh});function XW(i){return Et({updateFrontendState:Fe.updateFrontendState,fetchCommerceProducts:Fe.fetchCommerceProducts,fetchContent:Fe.fetchContent,fetchShopModel:Fe.fetchShopModel,addCommerceProductToCart:Fe.addCommerceProductToCart,resetCommerceCart:Fe.resetCommerceCart},i)}var Qne,Jh,Zh,Yc,ly,Qh,uy,ZW,JW,cy=B(()=>{Ce();We();Lo();ht();ri();zt();_s();Ne();Qne=fe(un(),1),Jh=fe(Se(),1);te();se||(Zh=window.matchMedia("(prefers-color-scheme: dark)"),Yc=window.matchMedia("(max-aspect-ratio: 1/1)"),Yc.addEventListener("change",()=>{ly?.setState({isMobile:Yc.matches})}));Qh=async()=>{if(At.getState().site.shop_id===null)throw"site does not have shop setup";let e=await At.dispatch(Fe.fetchShopModel());if(Jh.default.isEmpty(e))throw"no model data";if(Gi===!1&&e.has_valid_config===!1&&!At.getState().site?.is_template)throw At.dispatch({type:"UPDATE_FRONTEND_STATE",payload:{alertModal:{header:"Coming Soon",type:"notice"}}}),"shop modal contains invalid config";return e},uy=class extends oe{constructor(e){super(e),Qh().then(t=>{this.setState({shopModel:t},()=>{this.openOverlay()})}).catch(t=>{console.warn(t),this.closeOverlay()}),this.state={shopModel:null,loaded:!1,animate:!1,isMobile:Yc.matches,shadowRoot:null,theme:this.getTheme()},this.cartElementRef=ve(),this.iframeRef=ve(),this.startTime=null,this.inputRef=ve(),this.throttledResize=Jh.default.throttle(this.resizeHandler,200)}closeOverlay=()=>{At.getState().frontendState.cartOpen!==!0?this.props.closeOverlay({replaceHistory:!0}):window.requestAnimationFrame(()=>{this.setState({closing:!0},()=>{setTimeout(this.props.closeOverlay,280)}),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")})};onKeyDown=e=>{if(e.key==="Escape"||e.keyCode===9){let r=window.store?.getState()?.frontendState.alertModal!==!1,n=document.querySelector(".alert-window")!==null;if(r||n)return;this.closeOverlay(e)}};openOverlay(){this.cartElementRef.current&&!this.cartElementRef.current.shadowRoot&&this.cartElementRef.current.attachShadow({mode:"open"}),this.setState({shadowRoot:this.cartElementRef.current?.shadowRoot}),this.props.updateFrontendState({cartOpen:!0}),window.addEventListener("keydown",this.onKeyDown,!0),requestAnimationFrame(()=>{this.iframeRef.current&&(document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no, maximum-scale=1"),this.iframeRef.current.src="/following_frame.html")})}onBeforeCartInit=()=>{this.iframeRef.current.contentWindow.__fetchCommerceProducts__=this.props.fetchCommerceProducts,this.iframeRef.current.contentWindow.__fetchContent__=this.props.fetchContent,this.iframeRef.current.contentWindow.__frontend_history__=this.props.history,this.iframeRef.current.contentWindow.__add_to_cart__=this.props.addCommerceProductToCart,this.iframeRef.current.contentWindow.__reset_cart__=this.props.resetCommerceCart,this.iframeRef.current.contentWindow.__close_overlay__=()=>{this.closeOverlay()}};onCartReady=()=>{this.proxyRoute(),this.proxyTheme()};onCSSLoad=()=>{this.setState({loaded:!0,isMobile:Yc.matches},()=>{let e=(window.innerHeight-30)*.01,t=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${t}px`),window.addEventListener("resize",this.throttledResize),document.body.style.overflow="hidden",document.scrollingElement.style.overflow="hidden",setTimeout(()=>{this.setState({animate:!0})},33)})};resizeHandler=()=>{let e=(window.innerHeight-30)*.01,t=(window.innerWidth-30)*.01;document.documentElement.style.setProperty("--cart-vh",`${e}px`),document.documentElement.style.setProperty("--cart-vw",`${t}px`)};componentWillUnmount=()=>{this.props.updateFrontendState({cartOpen:!1}),ly=null,Zh.removeEventListener("change",this.onThemeChange),window.removeEventListener("cart-before-init",this.onBeforeCartInit),window.removeEventListener("cart-ready",this.onCartReady),document.body.style.overflow="",document.scrollingElement.style.overflow="",window.removeEventListener("resize",this.throttledResize),window.removeEventListener("keydown",this.onKeyDown,!0),document.documentElement.style.removeProperty("--cart-vh"),document.documentElement.style.removeProperty("--cart-vw"),document.querySelector('[name="viewport"]')?.setAttribute("content","width=device-width, initial-scale=1, shrink-to-fit=no")};componentDidMount(){ly=this,Zh.addEventListener("change",this.onThemeChange),window.addEventListener("cart-before-init",this.onBeforeCartInit,!1),window.addEventListener("cart-ready",this.onCartReady,!1)}componentDidUpdate(e,t){this.props.requestedTheme!==e.requestedTheme&&this.onThemeChange(),this.state.theme!==t.theme&&this.proxyTheme(),this.proxyRoute()}onThemeChange=()=>{this.setState({theme:this.getTheme()})};getTheme=()=>this.props.requestedTheme==="auto"?Zh.matches?"dark":"light":this.props.requestedTheme;proxyRoute(){!this.iframeRef||!this.iframeRef.current||Jh.default.isEqual(this.props.match,this.currentMatch)||this.iframeRef.current.contentWindow.renderRoute&&(this.currentMatch=this.props.match,this.iframeRef.current.contentWindow.renderRoute?.(this.currentMatch))}proxyTheme(){try{this.iframeRef.current.contentWindow.dispatchEvent(new CustomEvent("colorScheme",{detail:this.state.theme}))}catch{}}render(){return this.state.shopModel?m("div",{className:"cart",ref:this.cartElementRef,children:[" ",this.state.shadowRoot&&Ge(m(Q,{children:[m("link",{rel:"stylesheet",onLoad:this.onCSSLoad,type:"text/css",href:"https://build.cargo.site/frontend/ff2e39/css/front-end/cart.css"}),m("div",{className:`background${this.state.animate?" active":""}${this.state.closing?" closing ":" "}${this.state.theme}`,onMouseDown:()=>{this.currentMatch&&!this.currentMatch.url.match("checkout")&&this.closeOverlay()},style:{height:this.state.loaded?"":"0"},children:m("div",{className:`modal${this.state.animate?" active":""}${this.state.closing?" closing":""}${this.state.isMobile?" mobile":""}`,style:{visibility:this.state.loaded?"":"hidden"},children:m("div",{className:"modal-inner",children:m("iframe",{ref:this.iframeRef,src:"about:blank"})})})})]}),this.state.shadowRoot)]}):null}};ZW=In(Oe(i=>({requestedTheme:i.siteDesign.cart?.theme||"light"}),XW)(uy)),JW=ZW});function QW(i){return Et({fetchContent:Fe.fetchContent,updateFrontendState:Fe.updateFrontendState},i)}var dy,Ea,ef,jM,GM,py,YM,KM=B(()=>{Ce();Lo();ri();MA();ht();Ne();zt();ga();Si();yc();DM();FM();UM();dy=fe(Se(),1);te();Ea={ROOT_PATH:"/",IMG_PATH:"/siteimages",SITE_PREVIEW_PROXY_PATH:"/site.preview/*",ADMIN_CLIENT_SIDE_RENDERING_PATH:"/client-side-rendering.html",PAGE_PATH:"/:page",PAGE_BY_ID_PATH:"/pid/:pid/:args?",DIGITAL_PRODUCT_DOWNLOAD:"/filedownload/:hash"},ef={CART:"/cart/:section?/:order_id?",CONTACT:"/contact-form"};se||(jM=($M(),ku(WM)).default,GM=(cy(),ku(VM)).default);py=class extends oe{constructor(e){super(e),this.checkForOverlayPath(this.props.location)}shouldComponentUpdate(e){return this.props.location!==e.location&&this.checkForOverlayPath(e.location),!0}checkForOverlayPath=e=>{for(let t in ef){let r=ef[t],n=oa(e.pathname,{path:r});if(n){if(dy.default.isEqual(n,this.lastMatch))return;this.lastMatch=n,this.lockedUnderlayLocation||(this.lockedUnderlayLocation={...this.props.location},this.lockedUnderlayLocation.pathname===n.url&&(this.lockedUnderlayLocation.pathname="/"));return}else delete this.lastMatch}this.lockedUnderlayLocation&&(this.lockedUnderlayLocation=null)};deferredContentRenderer(e,t){let r=this.props.store.getState(),n=t==="purl"?it.getContentByPurl(r,e):it.getContentById(r,e);return n?.overlay&&(e=qS(r,it,n.id),t="pid"),se?m(iy,{id:e,idType:t}):(this.lastRequestedId=e,this.lastRequestedIdType=t,this.currentId?(this.currentId!==this.lastRequestedId||this.currentIdType!==this.lastRequestedIdType)&&(window.__deferred_page_load_promise__=new Promise(s=>{dy.default.defer(l=>{this.props.fetchContent(l,{idType:t}).catch(()=>{}).finally(()=>{this.lastRequestedId===l&&(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType,this.forceUpdate()),delete window.__deferred_page_load_promise__,s()})},this.lastRequestedId)})):(this.currentId=this.lastRequestedId,this.currentIdType=this.lastRequestedIdType),m(OA,{children:m(iy,{id:this.currentId,idType:this.currentIdType,hashPurl:this.props.hashPurl})}))}componentDidUpdate=()=>{this.props.location?.pathname==="/"||this.props.location?.pathname.includes(this.props.homepageId)?document.querySelector("body").classList.add("home"):document.querySelector("body").classList.remove("home")};render(){if(this.props.adminMode&&this.props.adminInitialized===!1||!this.props.hasSite)return null;let e=null,t=null,r=this.props.location;return this.lockedUnderlayLocation&&(r=this.lockedUnderlayLocation,t=this.props.location,e=m("div",{class:"overlay",children:m(Ap,{location:t,children:[m(ln,{exact:!0,path:ef.CART,render:({match:n})=>m(GM,{closeOverlay:(s={})=>{this.props.history[s.replaceHistory?"replace":"push"](this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})}),m(ln,{exact:!0,path:ef.CONTACT,render:({match:n})=>m(jM,{closeOverlay:()=>{this.props.history.push(this.lockedUnderlayLocation.pathname,{preventScrollReset:!0})}})})]})})),m(Q,{children:[e,m(Ap,{location:r,children:[m(ln,{exact:!0,path:Ea.ROOT_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(ln,{exact:!0,path:Ea.DIGITAL_PRODUCT_DOWNLOAD,render:({match:n})=>m(HM,{hash:n.params.hash})}),m(ln,{exact:!0,path:Ea.IMG_PATH,render:({match:n})=>m(LM,{})}),m(ln,{exact:!0,path:Ea.SITE_PREVIEW_PROXY_PATH,render:({match:n})=>this.props.isFeed?this.deferredContentRenderer("root","pid"):this.deferredContentRenderer(this.props.homepageId||"root","pid")}),m(ln,{exact:!0,path:Ea.ADMIN_CLIENT_SIDE_RENDERING_PATH,render:({match:n})=>null}),m(ln,{exact:!0,path:Ea.PAGE_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.page.toLowerCase(),"purl")}),m(ln,{exact:!0,path:Ea.PAGE_BY_ID_PATH,render:({match:n})=>this.deferredContentRenderer(n.params.pid,"pid")}),m(ln,{path:"*",render:({location:n})=>this.deferredContentRenderer(n.pathname.substring(1),"purl")})]})]})}};YM=cn(In(Oe((i,e)=>{let t=se?null:window.location.hash.substring(1).toLowerCase();return{hasSite:!!i.site,homepageId:it.getHomepageId(i),isFeed:i.sets.byId.root.stack,adminInitialized:i.adminState?.initialized||!1,adminMode:i.frontendState.adminMode,hashPurl:t}},QW)(py)))});var XM,ZM,JM=B(()=>{Gr();XM=fe(Se(),1);Ne();ZM={};se||(ZM=window.lightbox={});(function(){"use strict";(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipe=n()})(this,function(){"use strict";var r=function(n,s,l,u){var c={features:null,bind:function(x,I,k,R){var re=(R?"remove":"add")+"EventListener";I=I.split(" ");for(var xe=0;xe<I.length;xe++)I[xe]&&x[re](I[xe],k,!1)},isArray:function(x){return x instanceof Array},createEl:function(x,I){var k=document.createElement(I||"div");return x&&(k.className=x),k},getScrollY:function(){var x=window.pageYOffset;return x!==void 0?x:document.documentElement.scrollTop},unbind:function(x,I,k){c.bind(x,I,k,!0)},removeClass:function(x,I){var k=new RegExp("(\\s|^)"+I+"(\\s|$)");x.className=x.className.replace(k," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},addClass:function(x,I){c.hasClass(x,I)||(x.className+=(x.className?" ":"")+I)},hasClass:function(x,I){return x.className&&new RegExp("(^|\\s)"+I+"(\\s|$)").test(x.className)},getChildByClass:function(x,I){for(var k=x.firstChild;k;){if(c.hasClass(k,I))return k;k=k.nextSibling}},arraySearch:function(x,I,k){for(var R=x.length;R--;)if(x[R][k]===I)return R;return-1},extend:function(x,I,k){for(var R in I)if(I.hasOwnProperty(R)){if(k&&x.hasOwnProperty(R))continue;x[R]=I[R]}},easing:{sine:{out:function(x){return Math.sin(x*(Math.PI/2))},inOut:function(x){return-(Math.cos(Math.PI*x)-1)/2}},cubic:{out:function(x){return--x*x*x+1}}},detectFeatures:function(){if(c.features)return c.features;var x=c.createEl(),I=x.style,k="",R={};if(R.oldIE=document.all&&!document.addEventListener,R.touch="ontouchstart"in window,window.requestAnimationFrame&&(R.raf=window.requestAnimationFrame,R.caf=window.cancelAnimationFrame),R.pointerEvent=navigator.pointerEnabled||navigator.msPointerEnabled,!R.pointerEvent){var re=navigator.userAgent;if(/iP(hone|od)/.test(navigator.platform)){var xe=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);xe&&xe.length>0&&(xe=parseInt(xe[1],10),xe>=1&&xe<8&&(R.isOldIOSPhone=!0))}var ke=re.match(/Android\s([0-9\.]*)/),Ue=ke?ke[1]:0;Ue=parseFloat(Ue),Ue>=1&&(Ue<4.4&&(R.isOldAndroid=!0),R.androidVersion=Ue),R.isMobileOpera=/opera mini|opera mobi/i.test(re)}for(var Je=["transform","perspective","animationName"],Le=["","webkit","Moz","ms","O"],Ke,ft,Pt=0;Pt<4;Pt++){k=Le[Pt];for(var wi=0;wi<3;wi++)Ke=Je[wi],ft=k+(k?Ke.charAt(0).toUpperCase()+Ke.slice(1):Ke),!R[Ke]&&ft in I&&(R[Ke]=ft);k&&!R.raf&&(k=k.toLowerCase(),R.raf=window[k+"RequestAnimationFrame"],R.raf&&(R.caf=window[k+"CancelAnimationFrame"]||window[k+"CancelRequestAnimationFrame"]))}if(!R.raf){var hr=0;R.raf=function(ei){var Kt=new Date().getTime(),si=Math.max(0,16-(Kt-hr)),Pi=window.setTimeout(function(){ei(Kt+si)},si);return hr=Kt+si,Pi},R.caf=function(ei){clearTimeout(ei)}}return R.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,c.features=R,R}};c.detectFeatures(),c.features.oldIE&&(c.bind=function(x,I,k,R){I=I.split(" ");for(var re=(R?"detach":"attach")+"Event",xe,ke=function(){k.handleEvent.call(k)},Ue=0;Ue<I.length;Ue++)if(xe=I[Ue],xe)if(typeof k=="object"&&k.handleEvent){if(!R)k["oldIE"+xe]=ke;else if(!k["oldIE"+xe])return!1;x[re]("on"+xe,k["oldIE"+xe])}else x[re]("on"+xe,k)});var d=this,f=25,g=3,v={allowPanToNext:!0,spacing:.12,bgOpacity:1,mouseUsed:!1,loop:!0,pinchToClose:!0,closeOnScroll:!0,animatedCloseOnScroll:!0,showCaption:!0,closeOnVerticalDrag:!0,verticalDragRange:.75,hideAnimationDuration:222,showAnimationDuration:222,showHideOpacity:!1,focus:!0,escKey:!0,arrowKeys:!0,mainScrollEndFriction:.35,panEndFriction:.35,isClickableElement:function(x){return x.tagName==="A"},getDoubleTapZoom:function(x,I){return x||I.initialZoomLevel<.7?1:1.33},maxSpreadZoom:1.33,modal:!0,scaleMode:"fit"};c.extend(v,u);var _o=null,S=function(){var x=c.getScrollY();_o===null&&(_o=x),Wa||(Wi=Wi+(x-_o),_o=x,V<=d.currItem.fitRatio&&!zr&&v.modal&&(!v.animatedCloseOnScroll||mo||lr?Wi=0:Ve&&Math.abs(Wi)>0&&!Dr&&(wn(),gu()),xr&&clearTimeout(xr),v.animatedCloseOnScroll,xr=setTimeout(function(){wn(),Hs()},200)))},C=function(){return{x:0,y:0}},_=function(){return{x:0,y:0,rotation:0}},M,T,F,H,L,z,ie=C(),X=_(),N=_(),ee,de,Z,Y={},D={},V,G,K,ne,W,U,J=0,ae={},ue=C(),he,me,Ae=0,Ie,De,He,ut,Ve,ot,_e=!0,ct,st=[],$e,je,$t,Ut,_t,Lt,rt,Hi={},Yt=!1,po,Dr=!1,mn=function(x,I){c.extend(d,I.publicMethods),st.push(x)},$o=function(x){var I=Qi();return x>I-1?x-I:x<0?I+x:x},ho={},bi=function(x,I){return ho[x]||(ho[x]=[]),ho[x].push(I)},gt=function(x){var I=ho[x];if(I){var k=Array.prototype.slice.call(arguments);k.shift();for(var R=0;R<I.length;R++)I[R].apply(d,k)}},yr=function(){return new Date().getTime()},sr=function(x){Ts=x,d.bg.style.opacity=x*v.bgOpacity},Ma=function(x,I,k,R,re,xe){(!Yt||re&&re!==d.currItem)&&(R=R/(re?re.fitRatio:d.currItem.fitRatio)),k=k+D.top,x[Ve]=K+I+"px, "+k+"px"+ne+" scale("+R+") rotateZ("+xe+"rad)"},oi=function(x){ur&&(x&&(V>d.currItem.fitRatio?Yt||(Jr(d.currItem,!1,!0),Yt=!0):Yt&&(Jr(d.currItem),Yt=!1)),Ma(ur,N.x,N.y,V,null,N.rotation))},fo=function(x){x.container&&Ma(x.container.style,x.initialPosition.x,x.initialPosition.y,x.initialZoomLevel,x,0)},Vo=function(x,I,k){k[Ve]=K+x+"px, "+I+"px"+ne},Ta=function(x,I){if(!v.loop&&I){var k=H+(ue.x*J-x)/ue.x,R=x-Lr.x;(k<0&&R>0||k>=Qi()-1&&R<0)&&(x=Lr.x+R*v.mainScrollEndFriction)}Lr.x=x,Vo(x,0,L)},Xl=function(x,I){var k=xo[x]-ae[x];return X[x]+ie[x]+k-k*(I/G)},Ui=function(x,I){x.x=I.x,x.y=I.y,I.id&&(x.id=I.id)},Zl=function(x){x.x=Math.round(x.x),x.y=Math.round(x.y)},Jl=null,Ql=function(){Jl&&(c.unbind(document,"mousemove",Ql),c.addClass(n,"quick-view-has-mouse"),v.mouseUsed=!0,gt("mouseUsed")),Jl=setTimeout(function(){Jl=null},100)},Rf=function(){c.bind(document,"keydown",d),rt.transform&&c.bind(d.scrollWrap,"click",d),v.mouseUsed||c.bind(document,"mousemove",Ql),c.bind(window,"resize scroll orientationchange",d),gt("bindEvents")},Mf=function(){c.unbind(window,"resize scroll orientationchange",d),c.unbind(window,"scroll",Z.scroll),c.unbind(document,"keydown",d),c.unbind(document,"mousemove",Ql),rt.transform&&c.unbind(d.scrollWrap,"click",d),lr&&c.unbind(window,ee,d),clearTimeout(po),gt("unbindEvents")},ka=function(x,I){var k=Ns(d.currItem,Y,x);return I&&(dt=k),k},ed=function(x){return x||(x=d.currItem),x.initialZoomLevel},td=function(x){return x||(x=d.currItem),x.w>0?v.maxSpreadZoom:1},id=function(x,I,k,R){return R===d.currItem.initialZoomLevel?(k[x]=d.currItem.initialPosition[x],!0):(k[x]=Xl(x,R),k[x]>I.min[x]?(k[x]=I.min[x],!0):k[x]<I.max[x]?(k[x]=I.max[x],!0):!1)},eu=function(){if(Ve){var x=rt.perspective&&!ct;K="translate"+(x?"3d(":"("),ne=rt.perspective?", 0px)":")";return}Ve="left",c.addClass(n,"quick-view-ie"),Vo=function(I,k){k.left=I+"px"},fo=function(I){var k=I.fitRatio>1?1:I.fitRatio,R=I.container.style,re=k*I.w,xe=k*I.h;R.width=re+"px",R.height=xe+"px",R.left=I.initialPosition.x+"px",R.top=I.initialPosition.y+"px"},oi=function(){if(ur){var I=ur,k=d.currItem,R=k.fitRatio>1?1:k.fitRatio,re=R*k.w,xe=R*k.h;I.width=re+"px",I.height=xe+"px",I.left=N.x+"px",I.top=N.y+"px"}}},Tf=function(x){var I="";v.escKey&&x.keyCode===27?I="close":v.arrowKeys&&(x.keyCode===37?I="prev":x.keyCode===39&&(I="next")),x.keyCode===32&&(x.preventDefault(),x.stopImmediatePropagation(),I="close"),I&&!x.ctrlKey&&!x.altKey&&!x.shiftKey&&!x.metaKey&&(x.preventDefault?x.preventDefault():x.returnValue=!1,d[I]())},tu=function(x){x&&(gn||zn||qi||Go)&&(x.preventDefault(),x.stopPropagation())},rd=function(){d.setScrollOffset(0,c.getScrollY())};se||window.addEventListener("scroll",S);var ar={},mo=0,Ps=function(x){ar[x]&&(ar[x].raf&&je(ar[x].raf),mo--,delete ar[x])},iu=function(x){ar[x]&&Ps(x),ar[x]||(mo++,ar[x]={})},Is=function(){for(var x in ar)ar.hasOwnProperty(x)&&Ps(x)},jo=function(x,I,k,R,re,xe,ke){var Ue=yr(),Je;iu(x);var Le=function(){if(ar[x]){if(Je=yr()-Ue,Je>=R){Ps(x),xe(k),ke&&ke();return}xe((k-I)*re(Je/R)+I),ar[x].raf=$e(Le)}};Le()},kf={shout:gt,listen:bi,viewportSize:Y,options:v,isMainScrollAnimating:function(){return qi},getZoomLevel:function(){return V},getCurrentIndex:function(){return H},isDragging:function(){return lr},isZooming:function(){return Xr},setScrollOffset:function(x,I){ae.x=x,Lt=ae.y=I,gt("updateScrollOffset",ae)},applyZoomPan:function(x,I,k,R){N.x=I,N.y=k,V=x,oi(R)},init:function(){if(!(M||T)){e("init",d);var x;d.framework=c,d.template=n,d.bg=c.getChildByClass(n,"quick-view-bg"),d.captionPositioner=c.getChildByClass(n,"quick-view-caption-positioner"),d.captionWrapper=c.getChildByClass(d.captionPositioner,"quick-view-caption-wrapper"),d.caption=c.getChildByClass(d.captionWrapper,"quick-view-caption"),$t=n.className,M=!0,rt=c.detectFeatures(),$e=rt.raf,je=rt.caf,Ve=rt.transform,_t=rt.oldIE,d.scrollWrap=c.getChildByClass(n,"quick-view-scroll-wrap"),d.container=c.getChildByClass(d.scrollWrap,"quick-view-container"),L=d.container.style,d.itemHolders=he=[{el:d.container.children[0],wrap:0,index:-1},{el:d.container.children[1],wrap:0,index:-1},{el:d.container.children[2],wrap:0,index:-1}],he[0].el.style.display=he[2].el.style.display="none",eu(),Z={resize:d.updateSize,orientationchange:function(){clearTimeout(po),po=setTimeout(function(){Y.x!==d.scrollWrap.clientWidth&&d.updateSize()},500)},scroll:rd,keydown:Tf,click:tu};var I=rt.isOldIOSPhone||rt.isOldAndroid||rt.isMobileOpera;for((!rt.animationName||!rt.transform||I)&&(v.showAnimationDuration=v.hideAnimationDuration=0),x=0;x<st.length;x++)d["init"+st[x]]();if(s){var k=d.ui=new s(d,c);k.init()}gt("firstUpdate"),H=H||v.index||0,(isNaN(H)||H<0||H>=Qi())&&(H=0),d.currItem=Zr(H),(rt.isOldIOSPhone||rt.isOldAndroid)&&(_e=!1),n.setAttribute("aria-hidden","false"),v.modal&&(_e?n.style.position="fixed":(n.style.position="absolute",n.style.top=c.getScrollY()+"px")),n.classList.add("quick-view-vertical-align-"+v.alignVertical),n.classList.add("quick-view-horizontal-align-"+v.alignHorizontal),Lt===void 0&&(gt("initialLayout"),Lt=Ut=c.getScrollY());var R="quick-view-open ";for(v.mainClass&&(R+=v.mainClass+" "),v.showHideOpacity&&(R+="quick-view-animate_opacity "),R+=ct?"quick-view-touch":"quick-view-notouch",R+=rt.animationName?" quick-view-css_animation":"",R+=rt.svg?" quick-view-svg":"",c.addClass(n,R),d.updateSize(),z=-1,Ae=null,x=0;x<g;x++)Vo((x+z)*ue.x+D.left,0,he[x].el.style);_t||c.bind(d.scrollWrap,de,d),bi("initialZoomInEnd",function(){d.setContent(he[0],H-1),d.setContent(he[2],H+1),he[0].el.style.display=he[2].el.style.display="block",v.focus&&n.focus(),Rf()}),d.setContent(he[1],H),d.updateCurrItem(),setTimeout(d.updateCaption,v.showAnimationDuration+50),gt("afterInit",H),e("after-init",d),_e||(W=setInterval(function(){!mo&&!lr&&!Xr&&V===d.currItem.initialZoomLevel&&d.updateSize()},1e3)),c.addClass(n,"quick-view-visible")}},close:function(){M&&(M=!1,T=!0,gt("close"),e("closing",d),Mf(),hu(d.currItem,null,!0,d.destroy))},destroy:function(){gt("destroy"),e("destroy",d),cr&&clearTimeout(cr),n.setAttribute("aria-hidden","true"),n.className=$t,W&&clearInterval(W),c.unbind(d.scrollWrap,de,d),c.unbind(window,"scroll",d),window.removeEventListener("scroll",S),lu(),Is(),ho=null},panTo:function(x,I,k){k||(x>dt.min.x?x=dt.min.x:x<dt.max.x&&(x=dt.max.x),I>dt.min.y?I=dt.min.y:I<dt.max.y&&(I=dt.max.y)),N.x=x,N.y=I,oi()},handleEvent:function(x){x=x||window.event,Z[x.type]&&Z[x.type](x)},goTo:function(x){x=$o(x);var I=x-H;Ae=I,H=x,d.currItem=Zr(H),J-=I,Ta(ue.x*J),Is(),qi=!1,d.updateCurrItem()},next:function(){d.goTo(H+1)},prev:function(){d.goTo(H-1)},updateCurrZoomItem:function(x){if(x&&(gt("beforeChange",0),e("before-slide-change",d,0)),he[1].el.children.length){var I=he[1].el.children[0];c.hasClass(I,"quick-view-zoom-wrap")?ur=I.style:ur=null}else ur=null;dt=d.currItem.bounds,G=V=d.currItem.initialZoomLevel,N.x=dt.center.x,N.y=dt.center.y,x&&(gt("afterChange",H),e("after-slide-change",d))},invalidateCurrItems:function(){U=!0;for(var x=0;x<g;x++)he[x].item&&(he[x].item.needsUpdate=!0)},updateCaption:function(){if(d.currItem.caption&&v.showCaption){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.appendChild(d.currItem.caption),qt(d.currItem),d.caption.classList.remove("hidden")}else if(v.showCaption){var x=function(){for(;d.caption.childNodes.length>0;)d.caption.childNodes[0].parentNode.removeChild(d.caption.childNodes[0]);d.caption.removeEventListener("transitionend",x)};d.caption.classList.contains("hidden")?x():(d.caption.addEventListener("transitionend",x),d.caption.classList.add("hidden"))}},updateCurrItem:function(x){if(Ae!==0){var I=Math.abs(Ae),k;if(!(x&&I<2)){d.currItem=Zr(H),Yt=!1,gt("beforeChange",Ae);var R=Ae;R===null&&(R=0),e("slide-change",d,R),I>=g&&(z+=Ae+(Ae>0?-g:g),I=g);for(var re=0;re<I;re++)Ae>0?(k=he.shift(),he[g-1]=k,z++,Vo((z+2)*ue.x+D.left,0,k.el.style),d.setContent(k,H-I+re+1+1)):(k=he.pop(),he.unshift(k),z--,Vo(z*ue.x+D.left,0,k.el.style),d.setContent(k,H+I-re-1-1));if(ur&&Math.abs(Ae)===1){var Ue=Zr(me);Ue.initialZoomLevel!==V&&(Ns(Ue,Y),Jr(Ue),fo(Ue))}var xe=1+-Ae,ke=he[xe];Ae=0,d.updateCurrZoomItem(),me!==void 0&&d.updateCaption();var Ue=Zr(me),Je=Ue?.container?.querySelector("media-item");Je&&(Je.pause?.(),Je.getAttribute("autoplay")!="true"&&Je.setCurrentTime?.(0),Je.removeAttribute("autoplay"));var Le=Zr(H),Ke=Le?.container?.querySelector("media-item");Ke&&(Ke.setAttribute("force-visible",!0),Ke.onload=()=>{Le.autoplay?Ke.play?.():setTimeout(()=>{Ke?.play?.()},400)}),me=H,gt("afterChange",H)}}},updateSize:function(x){if(!_e&&v.modal){var I=c.getScrollY();if(Lt!==I&&(n.style.top=I+"px",Lt=I),!x&&Hi.x===window.innerWidth&&Hi.y===window.innerHeight)return;Hi.x=window.innerWidth,Hi.y=window.innerHeight,n.style.height=Hi.y+"px"}var k=window.getComputedStyle(d.template),R=parseFloat(k.getPropertyValue("padding-left"))+parseFloat(k.getPropertyValue("border-left-width")),re=parseFloat(k.getPropertyValue("margin-left")),xe=parseFloat(k.getPropertyValue("padding-right"))+parseFloat(k.getPropertyValue("border-right-width")),ke=parseFloat(k.getPropertyValue("margin-right")),Ue=parseFloat(k.getPropertyValue("padding-top"))+parseFloat(k.getPropertyValue("border-top-width")),Je=parseFloat(k.getPropertyValue("margin-top")),Le=parseFloat(k.getPropertyValue("padding-bottom"))+parseFloat(k.getPropertyValue("border-bottom-width")),Ke=parseFloat(k.getPropertyValue("margin-bottom"));let ft="quick-view-vertical-align-"+v.alignVertical,Pt="quick-view-horizontal-align-"+v.alignHorizontal;ft!=="quick-view-vertical-align-center"&&n.classList.remove("quick-view-vertical-align-center"),ft!=="quick-view-vertical-align-top"&&n.classList.remove("quick-view-vertical-align-top"),ft!=="quick-view-vertical-align-bottom"&&n.classList.remove("quick-view-vertical-align-bottom"),Pt!=="quick-view-horizontal-align-center"&&n.classList.remove("quick-view-horizontal-align-center"),Pt!=="quick-view-horizontal-align-left"&&n.classList.remove("quick-view-horizontal-align-left"),Pt!=="quick-view-horizontal-align-right"&&n.classList.remove("quick-view-horizontal-align-right"),n.classList.add(ft),n.classList.add(Pt),D.top=Ue,D.left=R,D.bottom=Le,D.right=xe,D.marginTop=Je,D.marginLeft=re,D.marginBottom=Ke,D.marginRight=ke;var wi=d.scrollWrap.getBoundingClientRect();if(Y.x=wi.width,Y.y=wi.height,rd(),ue.x=Y.x+Y.x*v.spacing,ue.y=Y.y,Ta(ue.x*J),gt("beforeResize"),z!==void 0){for(var hr,ei,Kt,si=0;si<g;si++)hr=he[si],Vo((si+z)*ue.x+D.left,0,hr.el.style),Kt=H+si-1,v.loop&&Qi()>2&&(Kt=$o(Kt)),ei=Zr(Kt),ei&&(U||ei.needsUpdate||!ei.bounds)?(d.cleanSlide(ei),d.setContent(hr,Kt),si===1&&(d.currItem=ei,d.updateCurrZoomItem(!0)),ei.needsUpdate=!1):hr.index===-1&&Kt>=0&&d.setContent(hr,Kt),ei&&ei.container&&(Ns(ei,Y),Jr(ei),fo(ei));U=!1}G=V=d.currItem.initialZoomLevel,dt=d.currItem.bounds,dt&&(N.x=dt.center.x,N.y=dt.center.y,oi(!0)),gt("resize")},zoomTo:function(x,I,k,R,re){I&&(G=V,xo.x=Math.abs(I.x)-N.x,xo.y=Math.abs(I.y)-N.y,Ui(X,N));var xe=ka(x,!1),ke={};id("x",xe,ke,x),id("y",xe,ke,x);var Ue=V,Je={x:N.x,y:N.y};Zl(ke);var Le=function(Ke){Ke===1?(V=x,N.x=ke.x,N.y=ke.y,d.currItem.caption&&v.showCaption&&(Math.abs(V-d.currItem.fitRatio)>.01?d.caption.classList.add("hidden"):d.caption.classList.remove("hidden"))):(V=(x-Ue)*Ke+Ue,N.x=(ke.x-Je.x)*Ke+Je.x,N.y=(ke.y-Je.y)*Ke+Je.y),re&&re(Ke),oi(Ke===1)};k?jo("customZoomTo",0,1,k,R||c.easing.sine.inOut,Le):Le(1)}},ru=30,nu=10,nd,Na,Zi={},go={},Ji={},pi={},vo={},Or=[],bo={},As,yo=[],wo={},Da,Go,Rs,Oa=0,La=C(),ou=0,lr,Fa,zn,gn,za,vn,Ei,Xr,od,su,dt,Lr=C(),ur,qi,xo=C(),Hn=C(),Bi,Ha,Ms,Ts,ks,sd=function(x,I){return x.x===I.x&&x.y===I.y},ad=function(x,I){return Math.abs(x.x-I.x)<f&&Math.abs(x.y-I.y)<f},au=function(x,I){return wo.x=Math.abs(x.x-I.x),wo.y=Math.abs(x.y-I.y),Math.sqrt(wo.x*wo.x+wo.y*wo.y)},lu=function(){za&&(je(za),za=null)},ld=function(){lr&&(za=$e(ld),Ff())},Nf=function(){return!(v.scaleMode==="fit"&&V===d.currItem.initialZoomLevel)},uu=function(x,I){return!x||x===document||x.getAttribute("class")&&x.getAttribute("class").indexOf("quick-view-scroll-wrap")>-1?!1:I(x)?x:uu(x.parentNode,I)},cu={},ud=function(x,I){return cu.prevent=!uu(x.target,v.isClickableElement),gt("preventDragEvent",x,I,cu),cu.prevent},cd=function(x,I){return I.x=x.pageX+-D.left+-D.marginLeft,I.y=x.pageY+-D.top+-D.marginTop,I.clientY=x.clientY,I.id=x.identifier,I},dd=function(x,I,k){k.x=(x.x+I.x)*.5,k.y=(x.y+I.y)*.5},du=function(x,I,k){if(x-Na>50){var R=yo.length>2?yo.shift():{};R.x=I,R.y=k,yo.push(R),Na=x}},pd=function(){var x=N.y-d.currItem.initialPosition.y;return Math.min(1.2-Math.abs(x/(Y.y/2)),1)},Yo={},Df={},Un=[],Ua,Rt=function(x){for(;Un.length>0;)Un.pop();return ot?(Ua=0,Or.forEach(function(I){Ua===0?Un[0]=I:Ua===1&&(Un[1]=I),Ua++})):x.type.indexOf("touch")>-1?x.touches&&x.touches.length>0&&(Un[0]=cd(x.touches[0],Yo),x.touches.length>1&&(Un[1]=cd(x.touches[1],Df))):(Yo.x=x.pageX,Yo.y=x.pageY,Yo.clientY=x.clientY,Yo.id="",Un[0]=Yo),Un},Mt=function(x,I){var k,R=0,re=N[x]+I[x],xe,ke=I[x]>0,Ue=Lr.x+I.x,Je=Lr.x-bo.x,Le,Ke;if(re>dt.min[x]||re<dt.max[x]?k=v.panEndFriction:k=1,re=N[x]+I[x]*k,(v.allowPanToNext||V===d.currItem.initialZoomLevel)&&(ur?Bi==="h"&&x==="x"&&!zn&&(ke?(re>dt.min[x]&&(k=v.panEndFriction,R=dt.min[x]-re,xe=Math.round(dt.min[x]-X[x])),(xe<=0||Je<0)&&Qi()>1?(Ke=Ue,Je<0&&Ue>bo.x&&(Ke=bo.x)):dt.min.x!==dt.max.x&&(Le=re)):(re<dt.max[x]&&(k=v.panEndFriction,R=re-dt.max[x],xe=Math.round(X[x]-dt.max[x])),(xe<=0||Je>0)&&Qi()>1?(Ke=Ue,Je>0&&Ue<bo.x&&(Ke=bo.x)):dt.min.x!==dt.max.x&&(Le=re))):Ke=Ue,x==="x"))return Ke!==void 0&&(Ta(Ke,!0),Ke===bo.x?vn=!1:vn=!0),dt.min.x!==dt.max.x&&(Le!==void 0?N.x=Le:vn||(N.x+=I.x*k)),Ke!==void 0;qi||vn||V>d.currItem.fitRatio&&(N[x]+=I[x]*k)},hd=null,Of=function(x){if(!(x.type==="mousedown"&&x.button>0)){if(Ko){x.preventDefault();return}if(!(Rs&&x.type==="mousedown")){if(ud(x,!0)&&x.preventDefault(),zs=x.type,hd=setTimeout(function(){d.template.classList.add("mouse-down")},200),gt("pointerDown"),ot){var I=c.arraySearch(Or,x.pointerId,"id");I<0&&(I=Or.length),Or[I]={x:x.pageX,y:x.pageY,clientY:x.clientY,id:x.pointerId}}var k=Rt(x),R=k.length;Ei=null,Is(),(!lr||R===1)&&(lr=Ha=!0,c.bind(window,ee,d),Da=zr=ks=Ms=Go=vn=gn=Fa=zn=!1,Bi=null,mu=k[0].y+-Lt,gt("firstTouchStart",k),Ui(X,N),ie.x=ie.y=0,Ui(pi,k[0]),Ui(vo,pi),bo.x=ue.x*J,yo=[{x:pi.x,y:pi.y}],Na=nd=yr(),ka(V,!0),lu(),ld()),!Xr&&R>1&&!qi&&!vn&&(G=V,zn=!1,Xr=Fa=!0,ie.y=ie.x=0,Ui(X,N),Ui(Zi,k[0]),Ui(go,k[1]),dd(Zi,go,Hn),xo.x=Math.abs(Hn.x)-N.x,xo.y=Math.abs(Hn.y)-N.y,od=su=au(Zi,go))}}},Lf=function(x){if(x.preventDefault(),ot){var I=c.arraySearch(Or,x.pointerId,"id");if(I>-1){var k=Or[I];k.x=x.pageX,k.y=x.pageY,k.clientY=x.clientY}}if(lr){var R=Rt(x);if(!Bi&&!gn&&!Xr)if(Lr.x!==ue.x*J)Bi="h";else{var re=Math.abs(R[0].x-pi.x)-Math.abs(R[0].y-pi.y);Math.abs(re)>=nu&&(Bi=re>0?"h":"v",Ei=R)}else Ei=R;Fs=Fs+(mu-R[0].clientY),mu=R[0].clientY}},Ff=function(){if(Ei){var x=Ei.length;if(x!==0)if(Ui(Zi,Ei[0]),Ji.x=Zi.x-pi.x,Ji.y=Zi.y-pi.y,Xr&&x>1){if(pi.x=Zi.x,pi.y=Zi.y,!Ji.x&&!Ji.y&&sd(Ei[1],go))return;Ui(go,Ei[1]),zn||(zn=!0,gt("zoomGestureStarted"),d.currItem.caption&&v.showCaption&&d.caption.classList.add("hidden"));var I=au(Zi,go),k=yi(I);k>d.currItem.initialZoomLevel+d.currItem.initialZoomLevel/15&&(ks=!0);var R=1,re=ed(),xe=td();if(k<re)if(v.pinchToClose&&!ks&&G<=d.currItem.initialZoomLevel){var ke=re-k,Ue=1-ke/(re/1.2);sr(Ue),gt("onPinchClose",Ue),Ms=!0}else R=(re-k)/re,R>1&&(R=1),k=re-R*(re/3);else k>xe&&(R=(k-xe)/(re*6),R>1&&(R=1),k=xe+R*re);R<0&&(R=0),od=I,dd(Zi,go,La),ie.x+=La.x-Hn.x,ie.y+=La.y-Hn.y,Ui(Hn,La),N.x=Xl("x",k),N.y=Xl("y",k),Da=k>V,V=k,oi()}else{if(!Bi||(Ha&&(Ha=!1,Math.abs(Ji.x)>=nu&&(Ji.x-=Ei[0].x-vo.x),Math.abs(Ji.y)>=nu&&(Ji.y-=Ei[0].y-vo.y,Fs-=-(Ei[0].y-vo.y))),pi.x=Zi.x,pi.y=Zi.y,Ji.x===0&&Ji.y===0))return;if(Bi==="v"&&v.animatedCloseOnScroll&&zs==="touchstart"){if(Wi=Fs,Fs=0,!zr&&!Dr){zr=!0,wn(),gu();var Je=!1,Le=0,Ke=1,ft=0;So=0,en=0;var Pt=pi.y,wi=pi.y,hr,ei,Kt=document.documentElement.scrollTop,si=document.documentElement.scrollHeight,Pi=Y.y,Zo=!1,$a=document.querySelectorAll(".content_container, .pinned > div:not(.fixed)"),Va=[],vu=function(){Zo||(Zo=!0,ei=requestAnimationFrame(function(){$a.style.transform="translateY("+-en+"px)",Va.each(function(Ee){var Qe=this.parentElement.__backdropData,yt=this.parentElement.__cached_size,Xt=this.parentElement.__cached_page_size;if(Qe){var Ct=0,Co=0,$i=0;yt&&(Ct=yt.top,Co=yt.height,$i=Co),Xt&&($i=Xt.height);var Vi=parseFloat(Qe.yPos)||0;this.style.position==="fixed"&&(this.style.position="absolute");var xn=Kt+en,Jo=Kt+en+Cargo.Backdrop.cache_window_data.height,Sr=Ct+Kt,Bs=Ct+Kt+$i;if(Sr<=xn&&Bs>=Jo){var ja=Sr-xn;this.style.transform="translateY("+-ja+"px)"}else Bs<Jo?this.style.transform="translateY("+($i-Cargo.Backdrop.cache_window_data.height)+"px)":this.style.transform="translateY(0px)"}}),Zo=!1}))},qs=function(Ee){if(Ee.touches.length==0||Ee.touches.length>1){Hr(),er();return}Ee.preventDefault(),So=wi-Ee.touches[0].pageY,en=So,So+Kt<=0?(scrollMonitor.__frozen=!0,en=-Kt):So+Kt+Pi>=si?(scrollMonitor.__frozen=!0,en=0):scrollMonitor.__frozen&&delete scrollMonitor.__frozen,ft=Pt-Ee.touches[0].pageY,Pt=Ee.touches[0].pageY,vu()},Hr=function(){window.removeEventListener("touchmove",qs),window.removeEventListener("touchend",Hr),window.addEventListener("touchstart",er),cancelAnimationFrame(ei),$a.style.transform="",Va.each(function(){this.__cacheStyle&&(this.style=this.__cacheStyle,delete this.__cacheStyle)}),document.documentElement.scrollTop=document.documentElement.scrollTop+So,$(),requestAnimationFrame(function(){scrollMonitor.__frozen&&delete scrollMonitor.__frozen,Cargo.View.Backdrop.updateBackdropScrollPosition(!0),Cargo.Event.trigger("lightbox-scroll-finished")})},er=function(){ft=0,cancelAnimationFrame(hr),window.removeEventListener("touchstart",er)},$=function(){Ke=Ke*.95;var Ee=ft*Ke;document.documentElement.scrollTop=document.documentElement.scrollTop+Ee,Math.abs(Ee)>.5?hr=requestAnimationFrame(function(){$()}):er()};window.addEventListener("touchmove",qs),window.addEventListener("touchend",Hr)}return}else if(Bi==="v"&&v.closeOnVerticalDrag&&!Nf()){ie.y+=Ji.y,N.y+=Ji.y;var pe=pd();Go=!0,gt("onVerticalDrag",pe),sr(pe),oi();return}du(yr(),Zi.x,Zi.y),Bi==="h"&&v.showCaption&&!gn&&d.caption.classList.add("hidden"),gn=!0,dt=d.currItem.bounds;var le=Mt("x",Ji);le||(Mt("y",Ji),Zl(N),oi())}}},zf=function(x){if(zs="",rt.isOldAndroid){if(Rs&&x.type==="mouseup")return;x.type.indexOf("touch")>-1&&(clearTimeout(Rs),Rs=setTimeout(function(){Rs=0},600))}clearTimeout(hd),d.template.classList.remove("mouse-down"),gt("pointerUp"),ud(x,!1)&&x.preventDefault();var I;if(ot){var k=c.arraySearch(Or,x.pointerId,"id");if(k>-1)if(I=Or.splice(k,1)[0],navigator.pointerEnabled)I.type=x.pointerType||"mouse";else{var R={4:"mouse",2:"touch",3:"pen"};I.type=R[x.pointerType],I.type||(I.type=x.pointerType||"mouse")}}var re=Rt(x),xe,ke=re.length;if(x.type==="mouseup"&&(ke=0),ke===2)return Ei=null,!0;ke===1&&Ui(vo,re[0]),ke===0&&!Bi&&!qi&&(I||(x.type==="mouseup"?I={x:x.pageX+-D.left+-D.marginLeft,y:x.pageY+-D.top+-D.marginTop,type:"mouse"}:x.changedTouches&&x.changedTouches[0]&&(I={x:x.changedTouches[0].pageX+-D.left+-D.marginLeft,y:x.changedTouches[0].pageY+-D.top+-D.marginTop,type:"touch"})),gt("touchRelease",x,I));var Ue=-1;if(ke===0&&(lr=!1,c.unbind(window,ee,d),lu(),Xr?Ue=0:ou!==-1&&(Ue=yr()-ou)),ou=ke===1?yr():-1,Ue!==-1&&Ue<150?xe="zoom":xe="swipe",Xr&&ke<2&&(Xr=!1,ke===1&&(xe="zoomPointerUp"),gt("zoomGestureEnded")),Ei=null,!(!gn&&!zn&&!qi&&!Go&&!zr)){if(Is(),As||(As=Hf()),As.calculateSwipeSpeed("x"),zr)xr&&clearTimeout(xr),zr=!1,wn(),Hs();else if(Go){var Je=pd();if(Je<v.verticalDragRange)d.close();else{var Le=N.y,Ke=Ts;jo("verticalDrag",0,1,300,c.easing.cubic.out,function(Pt){N.y=(d.currItem.initialPosition.y-Le)*Pt+Le,sr((1-Ke)*Pt+Ke),oi()}),gt("onVerticalDrag",1)}return}if((vn||qi)&&ke===0){var ft=Uf(xe,As);if(ft)return;xe="zoomPointerUp"}if(!qi){if(xe!=="swipe"){pu();return}!vn&&V>d.currItem.fitRatio&&fd(As)}}},Hf=function(){var x,I,k={lastFlickOffset:{},lastFlickDist:{},lastFlickSpeed:{},slowDownRatio:{},slowDownRatioReverse:{},speedDecelerationRatio:{},speedDecelerationRatioAbs:{},distanceOffset:{},backAnimDestination:{},backAnimStarted:{},calculateSwipeSpeed:function(R){yo.length>1?(x=yr()-Na+50,I=yo[yo.length-2][R]):(x=yr()-nd,I=vo[R]),k.lastFlickOffset[R]=pi[R]-I,k.lastFlickDist[R]=Math.abs(k.lastFlickOffset[R]),k.lastFlickDist[R]>20?k.lastFlickSpeed[R]=k.lastFlickOffset[R]/x:k.lastFlickSpeed[R]=0,Math.abs(k.lastFlickSpeed[R])<.1&&(k.lastFlickSpeed[R]=0),k.slowDownRatio[R]=.95,k.slowDownRatioReverse[R]=1-k.slowDownRatio[R],k.speedDecelerationRatio[R]=1},calculateOverBoundsAnimOffset:function(R,re){k.backAnimStarted[R]||(N[R]>dt.min[R]?k.backAnimDestination[R]=dt.min[R]:N[R]<dt.max[R]&&(k.backAnimDestination[R]=dt.max[R]),k.backAnimDestination[R]!==void 0&&(k.slowDownRatio[R]=.7,k.slowDownRatioReverse[R]=1-k.slowDownRatio[R],k.speedDecelerationRatioAbs[R]<.05&&(k.lastFlickSpeed[R]=0,k.backAnimStarted[R]=!0,jo("bounceZoomPan"+R,N[R],k.backAnimDestination[R],re||300,c.easing.sine.out,function(xe){N[R]=xe,oi()}))))},calculateAnimOffset:function(R){k.backAnimStarted[R]||(k.speedDecelerationRatio[R]=k.speedDecelerationRatio[R]*(k.slowDownRatio[R]+k.slowDownRatioReverse[R]-k.slowDownRatioReverse[R]*k.timeDiff/10),k.speedDecelerationRatioAbs[R]=Math.abs(k.lastFlickSpeed[R]*k.speedDecelerationRatio[R]),k.distanceOffset[R]=k.lastFlickSpeed[R]*k.speedDecelerationRatio[R]*k.timeDiff,N[R]+=k.distanceOffset[R])},panAnimLoop:function(){if(ar.zoomPan&&(ar.zoomPan.raf=$e(k.panAnimLoop),k.now=yr(),k.timeDiff=k.now-k.lastNow,k.lastNow=k.now,k.calculateAnimOffset("x"),k.calculateAnimOffset("y"),oi(),k.calculateOverBoundsAnimOffset("x"),k.calculateOverBoundsAnimOffset("y"),k.speedDecelerationRatioAbs.x<.05&&k.speedDecelerationRatioAbs.y<.05)){N.x=N.x,N.y=N.y,oi(),Ps("zoomPan");return}}};return k},fd=function(x){if(x.calculateSwipeSpeed("y"),dt=d.currItem.bounds,x.backAnimDestination={},x.backAnimStarted={},Math.abs(x.lastFlickSpeed.x)<=.05&&Math.abs(x.lastFlickSpeed.y)<=.05)return x.speedDecelerationRatioAbs.x=x.speedDecelerationRatioAbs.y=0,x.calculateOverBoundsAnimOffset("x"),x.calculateOverBoundsAnimOffset("y"),!0;iu("zoomPan"),x.lastNow=yr(),x.panAnimLoop()},Uf=function(x,I){var k;qi||(Oa=H);var R;if(x==="swipe"){var re=pi.x-vo.x,xe=I.lastFlickDist.x<10;re>ru&&(xe||I.lastFlickOffset.x>20)?R=-1:re<-ru&&(xe||I.lastFlickOffset.x<-20)&&(R=1)}var ke;R&&(H+=R,H<0?(H=v.loop?Qi()-1:0,ke=!0):H>=Qi()&&(H=v.loop?0:Qi()-1,ke=!0),(!ke||v.loop)&&(Ae+=R,J-=R,k=!0));var Ue=ue.x*J,Je=Math.abs(Ue-Lr.x),Le;return!k&&Ue>Lr.x!=I.lastFlickSpeed.x>0?Le=333:(Le=Math.abs(I.lastFlickSpeed.x)>0?Je/Math.abs(I.lastFlickSpeed.x):333,Le=Math.min(Le,400),Le=Math.max(Le,250)),Oa===H&&(k=!1),qi=!0,gt("mainScrollAnimStart"),jo("mainScroll",Lr.x,Ue,Le,c.easing.cubic.out,Ta,function(){Is(),qi=!1,Oa=-1,(k||Oa!==H)&&d.updateCurrItem(),gt("mainScrollAnimComplete")}),k?d.updateCurrItem(!0):d.updateCaption(),k},yi=function(x){return 1/su*x*G},pu=function(){var x=V,I=ed(),k=td();V<I?x=I:V>k&&(x=k);var R=1,re,xe=Ts;return Ms&&!Da&&!ks&&V<I?(d.close(),!0):(Ms&&(re=function(ke){sr((R-xe)*ke+xe)}),d.zoomTo(x,0,200,c.easing.cubic.out,re),!0)};mn("Gestures",{publicMethods:{initGestures:function(){var x=function(I,k,R,re,xe){Ie=I+k,De=I+R,He=I+re,xe?ut=I+xe:ut=""};ot=rt.pointerEvent,ot&&rt.touch&&(rt.touch=!1),ot?navigator.pointerEnabled?x("pointer","down","move","up","cancel"):x("MSPointer","Down","Move","Up","Cancel"):rt.touch?(x("touch","start","move","end","cancel"),ct=!0):x("mouse","down","move","up"),ee=De+" "+He+" "+ut,de=Ie,ot&&!ct&&(ct=navigator.maxTouchPoints>1||navigator.msMaxTouchPoints>1),d.likelyTouchDevice=ct,Z[Ie]=Of,Z[De]=Lf,Z[He]=zf,ut&&(Z[ut]=Z[He]),rt.touch&&(de+=" mousedown",ee+=" mousemove mouseup",Z.mousedown=Z[Ie],Z.mousemove=Z[De],Z.mouseup=Z[He]),ct||(v.allowPanToNext=!1)}}});var cr,hu=function(x,I,k,R){if(cr&&clearTimeout(cr),Ko=!0,qa=!0,k){let Je=x.el?.closest?.("gallery-slideshow");if(Je){let Le=x.el?.assignedSlot?.name?.replace("slot-","")??-1;Le!==-1&&Je.goToSlide(parseInt(Le))}}var re;x.initialLayout?(re=x.initialLayout,x.initialLayout=null):re=v.getThumbBoundsFn&&v.getThumbBoundsFn(H);var xe=k?v.hideAnimationDuration:v.showAnimationDuration,ke=function(){if(Ps("initialZoom"),k)d.template.removeAttribute("style"),d.bg.removeAttribute("style");else{if(sr(1),I&&(I.style.display="block"),x.autoplay){let Je=x.container.querySelector("media-item");Je&&(Je.onload=()=>{Je.play?.()})}c.addClass(n,"quick-view-hide-overflow"),c.addClass(n,"quick-view-animated-in"),gt("initialZoom"+(k?"OutEnd":"InEnd"))}R&&R(),Ko=!1};if(!xe||!re||re.x===void 0){gt("initialZoom"+(k?"Out":"In")),V=x.initialZoomLevel,Ui(N,x.initialPosition),oi(),n.style.opacity=k?0:1,sr(1),xe?setTimeout(function(){ke()},xe):ke();return}var Ue=function(){var Je=F,Le=d.currItem.loadError||v.showHideOpacity,Ke=zr,ft=k?25:90;Je&&(ft=0),x.miniImg&&(x.miniImg.style.webkitBackfaceVisibility="hidden");var Pt=parseFloat(x.w),wi=parseFloat(x.h);x.useViewportWidth&&(Pt=(Y.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(wi=(Y.y-(D.top+D.bottom))*x.viewportHeightPercentage);var hr=re.w/re.h,ei=Pt/wi,Kt=hr>ei;if(!k){V=Kt?re.h/wi:re.w/Pt;var si=(re.w-Pt*V)*.5,Pi=(re.h-wi*V)*.5,Zo=si*Math.cos(re.transform.rotation)-Pi*Math.sin(re.transform.rotation),$a=si*Math.sin(re.transform.rotation)+Pi*Math.cos(re.transform.rotation);N.rotation=re.transform.rotation,N.y=re.y+-(D.top+D.marginTop)+$a,N.x=re.x+-(D.left+D.marginLeft)+Zo,d[Le?"template":"bg"].style.opacity=.001,oi(),N.rotation=0}if(iu("initialZoom"),k&&!Je&&c.removeClass(n,"quick-view-animated-in"),k){c.removeClass(n,"quick-view-hide-overflow");var Va=d.getCurrentIndex();XM.default.each(d.itemHolders,function(Hr){Hr.index!==Va&&(Hr.el.style.display="none")}),v.showCaption&&d.caption.classList.add("hidden")}let vu=d.currItem.el?.getAttribute?.("rel")==="quick-view";(Le||Ke||vu)&&(k?c[(Je?"remove":"add")+"Class"](n,"quick-view-animate_opacity"):setTimeout(function(){c.addClass(n,"quick-view-animate_opacity")},30));var qs=function(){if(gt("initialZoom"+(k?"Out":"In")),k){var Hr=Kt?re.h/wi:re.w/Pt,er=(re.w-Pt*Hr)*.5,$=(re.h-wi*Hr)*.5,pe=er*Math.cos(re.transform.rotation)-$*Math.sin(re.transform.rotation),le=er*Math.sin(re.transform.rotation)+$*Math.cos(re.transform.rotation),Ee={x:N.x,y:N.y,rotation:0},Qe=V,yt=Ts,Xt=document.documentElement.scrollTop,Ct=en,Co=function($i){var Vi=Xt-document.documentElement.scrollTop,xn=Ct-en;if($i===1?(V=Hr,N.x=re.x+-(D.left+D.marginLeft)+pe,N.y=re.y+Vi+xn+-(D.top+D.marginTop)+le,N.rotation=re.transform.rotation):(V=(Hr-Qe)*$i+Qe,N.x=(re.x+-Ee.x+-(D.left+D.marginLeft)+pe)*$i+Ee.x,N.y=(re.y+Vi+xn+-(D.top+D.marginTop)+le)*$i+(1-$i)*(Ee.y+Vi+xn),N.rotation=(re.transform.rotation-Ee.rotation)*$i+Ee.rotation),oi(),Ke){var Jo=1-$i;if(Math.hasOwnProperty("cbrt")){var Sr=1-Math.cbrt(Jo);Jo=1-Sr*Sr*Sr*Sr}n.style.opacity=Jo}else Le?n.style.opacity=1-$i:sr(yt-$i*yt)};Je?jo("initialZoom",0,1,xe,c.easing.cubic.out,Co,ke):(Co(1),cr=setTimeout(ke,xe+20))}else{if(V=x.initialZoomLevel,Ui(N,x.initialPosition),oi(),sr(1),ur){ur.opacity="",ur.transitionDuration="";let $i=x.container.offsetHeight}Le?n.style.opacity=1:sr(1),cr=setTimeout(ke,xe+20)}};ft===0?qs():cr=setTimeout(function(){qs()},ft)};Ue()},qn,Tt={},Bn=[],qa,Ko,md={index:0,errorMsg:'<div class="quick-view-error-msg"><a href="%url%" target="_blank">The image</a> could not be loaded.</div>',forceProgressiveLoading:!1,preload:[1,1],getNumItemsFn:function(){return qn.length}},Zr,Qi,dr,qf=function(){return{center:{x:0,y:0},max:{x:0,y:0},min:{x:0,y:0}}},wr=function(x,I,k){var R=x.bounds;v.alignHorizontal==="left"?R.center.x=0:v.alignHorizontal==="right"?R.center.x=Tt.x-I+x.hGap.left:R.center.x=(Tt.x-I)/2+x.hGap.left,v.alignVertical==="top"?R.center.y=0:v.alignVertical==="bottom"?R.center.y=Tt.y-k+x.vGap.top:R.center.y=(Tt.y-k)/2+x.vGap.top,R.max.x=I>Tt.x?Tt.x-I+x.hGap.left:R.center.x,R.max.y=k>Tt.y?Tt.y-k+x.vGap.top:R.center.y,R.min.x=I>Tt.x?x.hGap.left:R.center.x,R.min.y=k>Tt.y?x.vGap.top:R.center.y},Ns=function(x,I,k){var R=!k;if(R&&(x.vGap||(x.vGap={top:0,bottom:0}),x.hGap||(x.hGap={left:0,right:0}),gt("parseVerticalMargin",x)),x.useViewportHeight||x.useViewportWidth?(Tt.x=I.x-x.hGap.left-x.hGap.right,Tt.y=I.y-x.vGap.top-x.vGap.bottom):(Tt.x=I.x-x.hGap.left-x.hGap.right+-(D.left+D.right),Tt.y=I.y-x.vGap.top-x.vGap.bottom+-(D.top+D.bottom)),R){var Ue=x.w,Je=x.h;x.useViewportWidth&&(Ue=(I.x-(D.left+D.right))*x.viewportWidthPercentage),x.useViewportHeight&&(Je=(I.y-(D.top+D.bottom))*x.viewportHeightPercentage);var re=Tt.x/Ue,xe=Tt.y/Je;x.useViewportHeight||x.useViewportWidth?x.fitRatio=1:x.fitRatio=re<xe?re:xe;var ke=v.scaleMode;ke==="orig"?k=1:ke==="fit"&&(k=x.fitRatio),k>1&&(k=1),k==0&&(k=.01),x.initialZoomLevel=k,x.bounds||(x.bounds=qf())}if(k){var Ue=x.w,Je=x.h;return x.useViewportWidth&&(Ue=I.x*x.viewportWidthPercentage),x.useViewportHeight&&(Je=I.y*x.viewportHeightPercentage),(x.useViewportHeight||x.useViewportWidth)&&(k=1),wr(x,Ue*k,Je*k),R&&k===x.initialZoomLevel&&(x.initialPosition=x.bounds.center),x.bounds}},Ds=function(x,I,k,R,re,xe){if(I.loadError)return;R&&(I.imageAppended=!0,Jr(I,R,I===d.currItem&&Yt),xe?(I.placeholder&&I.placeholder.classList.remove("quick-view-item"),setTimeout(function(){I&&I.loaded&&I.placeholder&&(I.placeholder.style.display="none",I.placeholder=null)},500)):(R.classList.add("quick-view-item"),k.appendChild(R)));let ke=I.container.querySelector("media-item");if(ke){(x===H||!I.noLazyLoading)&&ke.setAttribute("force-visible",!0),I.hash&&I.hash!=="placeholder"&&ke.hasAttribute("src")?(ke.setAttribute("hash",I.hash),ke.removeAttribute("src")):I.src&&ke.getAttribute("src")!==I.src?(I.posterSrc&&!ke.poster&&ke.setAttribute("poster",I.posterSrc),ke.setAttribute("src",I.src)):I.model&&(ke.model=I.model);let Ue=ke.shadowRoot.querySelector("video");Ue&&(Ue.style.display="table",setTimeout(()=>{Ue.style.display=""},0)),I.autoplay&&(ke.onload=()=>{setTimeout(()=>{ke?.play?.()})})}},bn=function(x){x.loading=!0,x.loaded=!1;var I=document.createElement("img"),k=function(){x.loading=!1,x.loaded=!0,x.loadComplete?x.loadComplete(x):x.img=null,I.onload=I.onerror=null,I=null};I.onload=k,I.onerror=function(){x.loadError=!0,k()};var R=x.el?.shadowRoot?.querySelector('img[part*="media"]')?.src??x.posterSrc??null;R&&x.src&&R!==x.src&&(x.src.toLowerCase().endsWith(".jpg")||x.src.toLowerCase().endsWith(".gif")||x.src.toLowerCase().endsWith(".png")||x.src.toLowerCase().endsWith(".webp")||x.src.toLowerCase().endsWith(".jpeg")||x.src.toLowerCase().endsWith(".svg")?R=x.src:R=null),R?(I.setAttribute("decoding","sync"),I.setAttribute("src",R)):setTimeout(()=>{k()})},Os=function(x,I){if(x.src&&x.loadError&&x.container)return I&&(x.container.innerHTML=""),x.container.innerHTML=v.errorMsg.replace("%url%",x.src),!0},Jr=function(x,I,k){I||(I=x.container.lastChild);var R=k?x.w:x.w*x.fitRatio,re=k?x.h:x.h*x.fitRatio,xe=x.w*x.fitRatio,ke=x.h*x.fitRatio;x.useViewportWidth&&(R=Y.x*x.viewportWidthPercentage,R=xe=R-(D.left+D.right)),x.useViewportHeight&&(re=Y.y*x.viewportHeightPercentage,re=ke=re-(D.top+D.bottom)),x.renderedSize={w:xe,h:ke},x===d.currItem&&qt(x),!lr&&D.top>5&&D.right>5&&D.bottom>5&&D.left>5&&(R=Math.round(R),re=Math.round(re)),I.style.transform="translate3d(0,0,0)",I.style.width=R+"px",I.style.height=re+"px",I.style.setProperty("--frame-padding",re+"px"),I.style.setProperty("padding","0px"),I.style.setProperty("border","none"),I.style.setProperty("outline","none")},qt=function(x){var I=x.renderedSize.w,k=x.renderedSize.h,R=Math.max(1,x.fitRatio);d.captionWrapper.style.width=I/R+"px",d.captionWrapper.style.right=D.right+"px",d.captionWrapper.style.left=D.left+"px";var re=0;switch(v.alignVertical){case"center":re=(Y.y+-D.bottom+-D.top+-k/R)*.5+D.bottom;break;case"top":re=Y.y+-D.bottom+-D.top+-k/R+D.bottom;break;case"bottom":re=D.bottom;break}d.captionWrapper.style.height=re+"px"},yn=function(){if(Bn.length){for(var x,I=0;I<Bn.length;I++)x=Bn[I],x.holder.index===x.index&&Ds(x.index,x.item,x.baseDiv,x.img,!1,x.clearPlaceholder);Bn=[]}};mn("Controller",{publicMethods:{lazyLoadItem:function(x){x=$o(x);var I=Zr(x);!I||(I.loaded||I.loading)&&!U||(gt("gettingData",x,I),bn(I))},initController:function(){c.extend(v,md,!0),d.items=qn=l,Zr=d.getItemAt,Qi=v.getNumItemsFn,dr=v.loop,Qi()<3&&(v.loop=!1),bi("beforeChange",function(x){var I=v.preload,k=x===null?!0:x>=0,R=Math.min(I[0],Qi()),re=Math.min(I[1],Qi()),xe;for(xe=1;xe<=(k?re:R);xe++)d.lazyLoadItem(H+xe);for(xe=1;xe<=(k?R:re);xe++)d.lazyLoadItem(H-xe)}),bi("initialLayout",function(){d.currItem.initialLayout=v.getThumbBoundsFn&&v.getThumbBoundsFn(H)}),bi("mainScrollAnimComplete",yn),bi("initialZoomInEnd",yn),bi("destroy",function(){for(var x,I=0;I<qn.length;I++)x=qn[I],x.container&&(x.container=null),x.placeholder&&(x.placeholder=null),x.img&&(x.img=null),x.preloader&&(x.preloader=null),x.loadError&&(x.loaded=x.loadError=!1);Bn=null})},getItemAt:function(x){return x>=0&&qn[x]!==void 0?qn[x]:!1},allowProgressiveImg:function(){return!0},setContent:function(x,I){v.loop&&(I=$o(I));var k=d.getItemAt(x.index);k&&(k.container=null);var R=d.getItemAt(I),re;if(!R){x.el.innerHTML="";return}gt("gettingData",I,R),x.index=I,x.item=R;var xe=R.container=c.createEl("quick-view-zoom-wrap"),ke=x.el?.querySelector("media-item"),Ue=!1;if(ke){let ft=ke.getFileType();(ft.startsWith("vimeo")||ft.startsWith("youtube")||ft==="url")&&(Ue=!0)}if(Ue?x.el.classList.add("iframe-item"):x.el.classList.remove("iframe-item"),Os(R),Ns(R,Y),!R.loadError&&!R.loaded){R.loadComplete=function(ft){if(M){if(x&&x.index===I){if(Os(ft,!0)){ft.loadComplete=ft.img=null,Ns(ft,Y),fo(ft),x.index===H&&d.updateCurrZoomItem();return}ft.imageAppended||(rt.transform&&(qi||Ko)?Bn.push({item:ft,baseDiv:xe,img:ft.img,index:I,holder:x,clearPlaceholder:!0}):Ds(I,ft,xe,ft.img,qi||Ko,!0))}ft.loadComplete=null,ft.img=null,gt("imageLoadComplete",I,ft)}};var Je="quick-view-item",Le=c.createEl(Je,"media-item");if(Le.setAttribute("force-visible",R.noLazyLoading&&I!==H?"false":"true"),Le.setAttribute("disable-scroll-animation",!0),Le.setAttribute("disable-zoom",!0),Le.setAttribute("width",R.w),Le.setAttribute("height",R.h),Le.setAttribute("uses","inline-part-styles"),Le.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),Le.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px; background: transparent;"),R.usePlaceholder)Le.setAttribute("hash","placeholder");else if(R.fileType=="video"||R.fileType.startsWith("vimeo")||R.fileType.startsWith("youtube"))R.src?R.posterSrc?Le.setAttribute("src",R.posterSrc):Le.setAttribute("src",R.src):R.hash&&R.hash!=="placeholder"&&Le.setAttribute("hash",R.hash),R.autoplay?(R.el?.getCurrentTime?.().then(ft=>{Le.onload=()=>{setTimeout(()=>{Le.setCurrentTime?.(ft)},0)}}),Le.setAttribute("muted",!0),Le.setAttribute("loop",!0),Le.setAttribute("autoplay",!0),Le.setAttribute("browser-default",!1)):(R.el?.pause?.(),R.poster&&Le.setAttribute("poster",R.poster),Le.setAttribute("browser-default",!0));else if(R.fileType==="image"){var Ke=R.el?.shadowRoot?.querySelector('img[part*="media"]')?.src;Ke&&R.src&&Ke!==R.src&&(Ke=R.src),Ke?Le.setAttribute("src",Ke):R.src?Le.setAttribute("src",R.src):R.hash&&R.hash!=="placeholder"&&Le.setAttribute("hash",R.hash)}else R.fileType==="url"&&(R.src?Le.setAttribute("src",R.src):R.hash&&R.hash!=="placeholder"&&Le.setAttribute("hash",R.hash));Jr(R,Le),xe.appendChild(Le),R.placeholder=Le,R.loading||bn(R),d.allowProgressiveImg()&&(!qa&&rt.transform?Bn.push({item:R,baseDiv:xe,img:R.img,index:I,holder:x}):Ds(I,R,xe,R.img,!0,!0))}else R.loadError?R.fileType=="url"&&Jr(R,null):(re=c.createEl("quick-view-item","media-item"),re.setAttribute("force-visible",!1),re.setAttribute("disable-scroll-animation",!0),re.setAttribute("disable-zoom",!0),re.setAttribute("width",R.w),re.setAttribute("height",R.h),re.setAttribute("disable-scroll-animation",!0),re.setAttribute("disable-zoom",!0),re.setAttribute("width",R.w),re.setAttribute("height",R.h),re.setAttribute("uses","inline-part-styles"),re.setAttribute("media-style","padding: 0px; border-width: 0px; border-radius: 0px; outline-width: 0px;"),re.setAttribute("style","padding: 0, border-width: 0px; border-radius: 0px; outline-width: 0px;"),R.usePlaceholder?re.setAttribute("hash","placeholder"):R.hash?re.setAttribute("hash",R.hash):R.src&&re.setAttribute("src",R.src),(R.fileType=="video"||R.fileType.startsWith("vimeo")||R.fileType.startsWith("youtube"))&&(R.autoplay?(re.setAttribute("muted",!0),re.setAttribute("loop",!0),re.setAttribute("browser-default",!1)):re.setAttribute("browser-default",!0)),Jr(R,re),Ds(I,R,xe,re,!0));!qa&&I===H?(ur=xe.style,hu(R,re||R.img)):fo(R),x.el.innerHTML="",x.el.appendChild(xe)},cleanSlide:function(x){x.img&&(x.img.onload=x.img.onerror=null),x.loaded=x.loading=x.img=x.imageAppended=!1}}});var Qr,fu={},Ls=function(x,I,k){var R=document.createEvent("CustomEvent"),re={origEvent:x,target:x.target,releasePoint:I,pointerType:k||"touch"};R.initCustomEvent("pswpTap",!0,!0,re),x.target.dispatchEvent(R)};mn("Tap",{publicMethods:{initTap:function(){bi("firstTouchStart",d.onTapStart),bi("touchRelease",d.onTapRelease),bi("destroy",function(){fu={},Qr=null})},onTapStart:function(x){x.length>1&&(clearTimeout(Qr),Qr=null)},onTapRelease:function(x,I){if(I&&!gn&&!Fa&&!mo){var k=I;if(Qr&&(clearTimeout(Qr),Qr=null,ad(k,fu))){gt("doubleTap",k);return}if(I.type==="mouse"){Ls(x,I,"mouse");return}var R=x.target.tagName.toUpperCase();if(R==="BUTTON"||c.hasClass(x.target,"quick-view-single-tap")){Ls(x,I);return}Ui(fu,k),Qr=setTimeout(function(){Ls(x,I),Qr=null},300)}}}});var Ba,Fs=0,mu=0,Wi=0,Xo=!1,Fr=0,zr=!1,So=0,en=0,zs="",_o=null,Wa=!1,gu=function(){Dr=!0,gd()},wn=function(){Ba&&(je(Ba),Ba=null,Fr=0,Wi=0,Dr=!1)},Hs=function(){if(!(Dr||Us)){var x=N.y,I=N.x,k=Ts,R=V;jo("resetVertical",0,1,300,c.easing.cubic.out,function(re){V=d.currItem.initialZoomLevel*re+(1-re)*R,N.y=(d.currItem.initialPosition.y-x)*re+x;var xe=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-V*parseFloat(d.currItem.w))*.5;N.x=d.currItem.initialPosition.x+xe,sr((1-k)*re+k),oi()})}},gd=function(){Xo||(Xo=!0,Dr&&(Ba=$e(gd),pr(),Xo=!1))},Us=!1,pr=function(){!zr&&Wa&&(document.documentElement.scrollTop=document.documentElement.scrollTop+Wi);var x=Math.min(Y.y,Y.x),I=Math.abs(Wi)/x,k=Math.max(0,Math.min(1.3-Math.abs(Fr/(x/3)),1));if(k<.85||Us||I>.2){wn(),xr&&clearTimeout(xr),Us||(Us=!0,zr?(F=!0,d.close()):setTimeout(function(){F=!0,d.close()},25));return}sr(k);var R=Math.abs(Fr)/(Y.y*.75);if(d.currItem.hasOwnProperty("thumbRect")){var re=d.currItem.initialZoomLevel*parseFloat(d.currItem.h)*.5<d.currItem.thumbRect.h;re&&(R=0)}V=(1-R*R)*d.currItem.initialZoomLevel;var xe=(d.currItem.initialZoomLevel*parseFloat(d.currItem.w)-V*parseFloat(d.currItem.w))*.5,ke=(d.currItem.initialZoomLevel*parseFloat(d.currItem.h)-V*parseFloat(d.currItem.h))*.5;N.y=d.currItem.initialPosition.y+ke+-Fr,N.x=d.currItem.initialPosition.x+xe,oi(),Fr=Fr+Wi,Wi=0},xr,hi;mn("DesktopZoom",{publicMethods:{initDesktopZoom:function(){_t||(ct?d.setupDesktopZoom():d.setupDesktopZoom(!0))},setupDesktopZoom:function(x){hi={};var I="wheel mousewheel DOMMouseScroll";bi("bindEvents",function(){c.bind(n,I,d.handleMouseWheel)}),bi("unbindEvents",function(){hi&&c.unbind(n,I,d.handleMouseWheel)}),d.mouseZoomedIn=!1;var k,R=function(){d.mouseZoomedIn&&(c.removeClass(n,"quick-view-zoomed-in"),d.mouseZoomedIn=!1),V<1?c.addClass(n,"quick-view-zoom-allowed"):c.removeClass(n,"quick-view-zoom-allowed"),re()},re=function(){k&&(c.removeClass(n,"quick-view-dragging"),k=!1)};bi("resize",R),bi("afterChange",R),bi("pointerDown",function(){d.mouseZoomedIn&&(k=!0,c.addClass(n,"quick-view-dragging"))}),bi("pointerUp",re),x||R()},handleMouseWheel:function(x){if(Wa=!0,V<=d.currItem.fitRatio&&v.modal&&(!v.closeOnScroll||mo||lr?x.preventDefault():Ve&&Math.abs(x.deltaY)>2&&(F=!0,d.close())),hi.x=0,"deltaX"in x)x.deltaMode===1?(hi.x=x.deltaX*18,hi.y=x.deltaY*18):(hi.x=x.deltaX,hi.y=x.deltaY);else if("wheelDelta"in x)x.wheelDeltaX&&(hi.x=-.16*x.wheelDeltaX),x.wheelDeltaY?hi.y=-.16*x.wheelDeltaY:hi.y=-.16*x.wheelDelta;else if("detail"in x)hi.y=x.detail;else return;if(V<=d.currItem.fitRatio&&!zr){Wi=Wi+hi.y,v.modal&&(!v.animatedCloseOnScroll||mo||lr?(x.preventDefault(),Wi=0):Ve&&Math.abs(hi.y)>0&&!Dr&&(wn(),gu()),xr&&clearTimeout(xr),xr=setTimeout(function(){wn(),Hs()},200));return}else Wi=0,x.stopPropagation();ka(V,!0);var I=N.x-hi.x,k=N.y-hi.y;(v.modal||I<=dt.min.x&&I>=dt.max.x&&k<=dt.min.y&&k>=dt.max.y)&&x.preventDefault(),d.panTo(I,k)},toggleDesktopZoom:function(x){x=x||{x:Y.x/2+ae.x,y:Y.y/2+ae.y};var I=v.getDoubleTapZoom(!0,d.currItem),k=V===I;d.mouseZoomedIn=!k,d.zoomTo(k?d.currItem.initialZoomLevel:I,x,333),c[(k?"remove":"add")+"Class"](n,"quick-view-zoomed-in"),d.currItem.caption&&v.showCaption&&(k?d.caption.classList.remove("hidden"):d.caption.classList.add("hidden"))}}}),c.extend(d,kf)};return r}),this.template=`<div class="quick-view" tabindex="-1" role="dialog" aria-hidden="true"> 
	

</div>`;var i=function(){var r=document.querySelector(".quick-view-container");r.outerHTML=this.template,r=null}.bind(this),e=function(){};this.setEventProxy=function(r){typeof r=="function"&&(e=r)};var t=function(r,n,s,l,u,c,d){var f=Math.acos,g=Math.atan,v=Math.sqrt,S=Math.PI,C={x:u,y:c},_=0,M={x:1,y:1},T={x:0,y:0},F=r*l-n*s;if(d)r?(T={x:g(s/r),y:g(n/r)},M={x:r,y:F/r}):n?(_=S*.5,M={x:n,y:F/n},T.x=g(l/n)):(M={x:s,y:l},T.x=S*.25);else if(r||n){var H=v(r*r+n*n);_=n>0?f(r/H):-f(r/H),M={x:H,y:F/H},T.x=g((r*s+n*l)/(H*H))}else if(s||l){var L=v(s*s+l*l);_=S*.5-(l>0?f(-s/L):-f(s/L)),M={x:F/L,y:L},T.y=g((r*s+n*l)/(L*L))}else M={x:0,y:0};return{scale:M,translate:C,rotation:_,skew:T}};this.isActive=!1,this.activeGallery=void 0,this.openImageArray=function(r,n,s){if(!(r===void 0||this.activeGallery!==void 0)){var l=document.querySelectorAll(".quick-view")[0],u=this,c=s.alignVertical||"center",d=s.alignHorizontal||"center",f=s.useControls,g=s.animatedCloseOnScroll,v=s.showCaption,S={index:n,maxSpreadZoom:1,getThumbBoundsFn:function(H){if(s&&s.preventAnimation||u.activeGallery==null)return!1;var L=u.activeGallery.getItemAt(H),z;if(!L||!L.el)return!1;L.el.tagName==="A"?z=L.el.querySelector("media-item, video, iframe, img")||L.el:z=L.el;let ie=z.closest("marquee-set");if(ie){let _e=ie.querySelector('marquee-inner[slot="contents"]'),ct=ie.querySelector('marquee-inner[slot="contents-clone"]');if(u.isActive&&ct)return!1}if(z&&z.tagName==="MEDIA-ITEM"&&(z=z.shadowRoot.querySelector('[part*="media"]')),!z)return!1;let X=z.getRootNode();for(;X&&X!==document;)X instanceof ShadowRoot?X=X.host.getRootNode():X=void 0;if(!X)return!1;let N=getComputedStyle(z),ee=parseFloat(N.getPropertyValue("padding-top"))||0,de=parseFloat(N.getPropertyValue("padding-bottom"))||0,Z=parseFloat(N.getPropertyValue("padding-left"))||0,Y=parseFloat(N.getPropertyValue("padding-right"))||0,D=parseFloat(N.getPropertyValue("border-top"))||0,V=parseFloat(N.getPropertyValue("border-bottom"))||0,G=parseFloat(N.getPropertyValue("border-left"))||0,K=parseFloat(N.getPropertyValue("border-right"))||0,ne={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}},W=z,U=z,J=0,ae=0,ue=0,he=0;for(;W;)N=getComputedStyle(W),ee=parseFloat(N.getPropertyValue("padding-top"))||0,de=parseFloat(N.getPropertyValue("padding-bottom"))||0,Z=parseFloat(N.getPropertyValue("padding-left"))||0,Y=parseFloat(N.getPropertyValue("padding-right"))||0,D=parseFloat(N.getPropertyValue("border-top"))||0,V=parseFloat(N.getPropertyValue("border-bottom"))||0,G=parseFloat(N.getPropertyValue("border-left"))||0,K=parseFloat(N.getPropertyValue("border-right"))||0,W==z?(ue=W.offsetWidth-(Z+G+Y+K),he=W.offsetHeight-(ee+D+de+V),J=J+W.offsetLeft+G+Z,ae=ae+W.offsetTop+D+ee):(J=J+W.offsetLeft+G,ae=ae+W.offsetTop+D),W=W.offsetParent;let me=[];for(;U;){let _e=[],ct=getComputedStyle(U),st=ct.getPropertyValue("transform"),$e=ct.getPropertyValue("position")==="fixed",je;var Ae=st.indexOf("matrix(")>-1,Ie=st.indexOf("matrix3d(")>-1,De=Ae||Ie;if(Ae){_e=st.replace(")","").replace("matrix(","").split(",");for(var He=0;He<_e.length;He++)_e[He]=parseFloat(_e[He]);je=t(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5],!1)}else if(Ie){_e=st.replace(")","").replace("matrix3d(","").split(",");for(var He=0;He<_e.length;He++)_e[He]=parseFloat(_e[He]);je=t(_e[0],_e[1],_e[4],_e[5],_e[12],_e[13],!1)}else je={rotation:0,scale:{x:1,y:1},skew:{x:0,y:0},translate:{x:0,y:0}};if(De){let $t=J+ue*.5,Ut=ae+he*.5,_t=J-$t,Lt=ae-Ut,rt=_t*Math.cos(je.rotation)-Lt*Math.sin(je.rotation),Hi=_t*Math.sin(je.rotation)+Lt*Math.cos(je.rotation);J=rt+$t,ae=Hi+Ut,J+=je.translate.x,ae+=je.translate.y,ne.rotation=je.rotation+ne.rotation,ne.scale.x=je.scale.x+ne.scale.x,ne.scale.y=je.scale.y+ne.scale.y,ne.translate.y=je.translate.y+ne.translate.y,ne.translate.x=je.translate.x+ne.translate.x}U?.assignedSlot?U=U.assignedSlot:U=U.parentNode,U?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(U=U.host),U?.nodeType!==Node.ELEMENT_NODE&&(U=null),U&&($e?me.push("fixed"):me.push(U.scrollTop))}let ut=me.findIndex(_e=>_e==="fixed");ut!==-1&&(me=me.slice(0,ut));let Ve=me.reduce((_e,ct=0)=>_e+ct);ae=ae-Ve;var ot={x:J,y:ae,w:ue,h:he,padding:{top:ee,bottom:de,left:Z,right:Y},border:{top:D,bottom:V,left:G,right:K},transform:ne};return L.thumbRect=ot,ot},closeEl:!0,arrowEl:!1,tapToClose:!0,closeOnScroll:!1,alignHorizontal:d,alignVertical:c,useControls:f,animatedCloseOnScroll:g,showCaption:v},C=!1,_=!1,M=function(){_=!0},T=function(){_=!1};if(window.addEventListener("touchend",T),window.addEventListener("touchstart",M),s!==void 0&&typeof s=="object"){for(var F in s)s.hasOwnProperty(F)&&(S[F]=s[F]);s.disableZoom===!0&&(C=!0,S.zoomEl=!1,S.getDoubleTapZoom=function(H,L){return L.initialZoomLevel},S.pinchToClose=!1)}return this.activeGallery=new this.PhotoSwipe(l,this.PhotoSwipeUI_Default,r,S),s.afterInit&&this.activeGallery.listen("afterInit",s.afterInit),C?l.classList.add("quick-view-zoom-disabled"):l.classList.remove("quick-view-zoom-disabled"),this.activeGallery.init(),this.isActive=!0,this.activeGallery.elementArray=r,this.activeGallery.listen("destroy",function(){l.parentNode!==null?(l.parentNode.removeChild(l),window.removeEventListener("touchend",T),window.removeEventListener("touchstart",M)):(window.removeEventListener("touchend",T),window.removeEventListener("touchstart",M)),u.isActive=!1,u.activeGallery=void 0}),this.activeGallery}};(function(r,n){r===void 0&&window!==void 0&&(r=window),r.PhotoSwipeUI_Default=n()})(this,function(){"use strict";var r=function(n,s){var l=this,u=!1,c=!0,d,f,g,v,S,C,_,M={closeElClasses:["holder","caption","zoom-wrap","ui","top-bar","container"],timeToIdle:1500,timeToIdleOutside:1500,closeEl:!0,fullscreenEl:!0,zoomEl:!0,counterEl:!0,arrowEl:!0,tapToClose:!1,tapToToggleControls:!0,useControls:!1,clickToCloseNonZoomable:!0,fitControlsWidth:1200},T,F,H=function(W){if(T)return!0;W=W||window.event,_.timeToIdle&&_.mouseUsed&&!v&&Z();for(var U=W.target||W.srcElement;U.nodeName==="svg"||U.nodeName==="path"||U.nodeName==="circle"||U.nodeName==="polyline"||U.nodeName==="g"||U.nodeName==="foreignObject"||U.nodeName==="line";)U=U.parentNode;for(var J,ae=U.getAttribute("class")||"",ue,he=0;he<K.length;he++)J=K[he],J.onTap&&ae.indexOf("quick-view-"+J.name)>-1&&(J.onTap(),ue=!0);if(ue){W.stopPropagation&&W.stopPropagation(),T=!0;var me=s.features.isOldAndroid?600:30;F=setTimeout(function(){T=!1},me)}},L=function(){return!n.likelyTouchDevice||_.mouseUsed||screen.width>_.fitControlsWidth},z=function(W,U,J){s[(J?"add":"remove")+"Class"](W,"quick-view-"+U)},ie=function(W){for(var U=0;U<_.closeElClasses.length;U++)if(s.hasClass(W,"quick-view-"+_.closeElClasses[U]))return!0},X,N,ee=0,de=!1,Z=function(W){if(W){var U=cl(W.target,function(J){if(J&&J.nodeType===Node.ELEMENT_NODE)return J.classList.contains("left-arrow")||J.classList.contains("right-arrow")||J.classList.contains("close-button")});de=!!U}clearTimeout(N),ee=0,v&&l.setIdle(!1)},Y=function(W){W=W||window.event;var U=W.relatedTarget||W.toElement;(!U||U.nodeName==="HTML")&&(clearTimeout(N),N=setTimeout(function(){l.setIdle(!0)},_.timeToIdleOutside))},D=function(){_.fullscreenEl&&!s.features.isOldAndroid&&(d||(d=l.getFullscreenAPI()),d?(s.bind(document,d.eventK,l.updateFullscreen),l.updateFullscreen(),s.addClass(n.template,"quick-view-supports-fs")):s.removeClass(n.template,"quick-view-supports-fs"))},V=function(){_.timeToIdle&&S("mouseUsed",function(){s.bind(document,"mousemove",Z),s.bind(document,"mouseout",Y),X=setInterval(function(){ee++,ee===2&&l.setIdle(!0)},_.timeToIdle/2)})},G=function(){S("onVerticalDrag",function(U){c&&U<.95?l.hideControls():!c&&U>=.95&&l.showControls()});var W;S("onPinchClose",function(U){c&&U<.9?(l.hideControls(),W=!0):W&&!c&&U>.9&&l.showControls()}),S("zoomGestureEnded",function(){W=!1,W&&!c&&l.showControls()})},K=[{name:"button--zoom",option:"zoomEl",onTap:n.toggleDesktopZoom},{name:"button-close",option:"closeEl",onTap:n.close},{name:"button-prev",option:"arrowEl",onTap:n.prev},{name:"button-next",option:"arrowEl",onTap:n.next},{name:"button--fs",option:"fullscreenEl",onTap:function(){d.isFullscreen()?d.exit():d.enter()}}],ne=function(){var W,U,J,ae=function(me){if(me){for(var Ae=me.length,Ie=[],De=0;De<Ae;De++){W=me[De],U=W.className;for(var He=0;He<K.length;He++)J=K[He],U.indexOf("quick-view-"+J.name)>-1&&(_[J.option]?(s.removeClass(W,"quick-view-element--disabled"),Ie.push(W),J.onInit&&J.onInit(W)):s.addClass(W,"quick-view-element--disabled"))}Ie.length>0}};ae(f.children);for(var ue=f.querySelectorAll(".quick-view-group"),he=0;he<ue.length;he++)ae(ue[he].children)};l.init=function(){s.extend(n.options,M,!0),_=n.options,f=s.getChildByClass(n.scrollWrap,"quick-view-ui"),S=n.listen,S("beforeChange",l.update),S("doubleTap",function(W){var U=n.currItem.initialZoomLevel;n.getZoomLevel()!==U?n.zoomTo(U,W,333):n.zoomTo(_.getDoubleTapZoom(!1,n.currItem),W,333)}),S("preventDragEvent",function(W,U,J){var ae=W.target||W.srcElement;ae&&ae.getAttribute("class")&&W.type.indexOf("mouse")>-1&&(ae.getAttribute("class").indexOf("__caption")>0||/(SMALL|STRONG|EM)/i.test(ae.tagName))&&(J.prevent=!1)}),S("destroy",function(){_.captionEl&&(_fakeCaptionContainer&&f.removeChild(_fakeCaptionContainer),s.removeClass(_captionContainer,"quick-view-caption--empty"))}),l.bindEvents(),D()},l.unbindEvents=function(){X&&clearInterval(X),s.unbind(document,"mouseout",Y),s.unbind(document,"mousemove",Z),s.unbind(n.scrollWrap,"pswpTap",l.onGlobalTap),window.removeEventListener("mousedown",l.onGlobalClick),d&&(s.unbind(document,d.eventK,l.updateFullscreen),d.isFullscreen()&&(_.hideAnimationDuration=0,d.exit()),d=null)},l.setupIdle=function(){V()},l.bindEvents=function(){_.useControls,window.addEventListener("mousedown",l.onGlobalClick),s.bind(n.scrollWrap,"pswpTap",l.onGlobalTap),n.likelyTouchDevice},l.setIdle=function(W){window.store?.getState()?.frontendState?.adminMode||de||(v=W)},l.update=function(){c&&n.currItem?u=!0:u=!1},l.updateFullscreen=function(W){W&&setTimeout(function(){n.setScrollOffset(0,s.getScrollY())},50),s[(d.isFullscreen()?"add":"remove")+"Class"](n.template,"quick-view-fs")},l.onGlobalClick=function(W){let U=W.target.closest('.quick-view, media-item:not([disable-zoom="true"]), href[rel="quick-view"]');U&&(U.getAttribute("rel")=="quick-view"||U.nodeName==="MEDIA-ITEM")?n.elementArray.findIndex(ae=>ae.el==U)===-1&&n.close():U||n.close()},l.onGlobalTap=function(W){W=W||window.event;var U=W.target||W.srcElement;if(!T){if(W.detail&&W.detail.pointerType==="mouse"){if(ie(U)){n.close();return}if(s.hasClass(U,"quick-view-item")){if(_.disableZoom){let J=U.getFileType?.();if(J&&!n.currItem.autoplay&&(J.startsWith("vimeo")||J.startsWith("youtube")||J==="video"))return;n.close();return}if(n.getZoomLevel()===1&&n.getZoomLevel()<=n.currItem.fitRatio){if(_.clickToCloseNonZoomable){n.close();return}}else n.toggleDesktopZoom(W.detail.releasePoint)}}else if(_.tapToToggleControls&&(c?l.hideControls():l.showControls()),_.tapToClose&&(s.hasClass(U,"quick-view-item")||ie(U))){(!U.getFileType||U.getFileType?.()==="image")&&n.close();return}}},l.onMouseOver=function(W){W=W||window.event;var U=W.target||W.srcElement;z(f,"ui--over-close",ie(U))},l.hideControls=function(){},l.showControls=function(){},l.toggleFullscreen=function(){d.isFullscreen()?d.exit():d.enter()},l.supportsFullscreen=function(){var W=document;return!!(W.exitFullscreen||W.mozCancelFullScreen||W.webkitExitFullscreen||W.msExitFullscreen)},l.getFullscreenAPI=function(){var W=document.documentElement,U,J="fullscreenchange";return W.requestFullscreen?U={enterK:"requestFullscreen",exitK:"exitFullscreen",elementK:"fullscreenElement",eventK:J}:W.mozRequestFullScreen?U={enterK:"mozRequestFullScreen",exitK:"mozCancelFullScreen",elementK:"mozFullScreenElement",eventK:"moz"+J}:W.webkitRequestFullscreen?U={enterK:"webkitRequestFullscreen",exitK:"webkitExitFullscreen",elementK:"webkitFullscreenElement",eventK:"webkit"+J}:W.msRequestFullscreen&&(U={enterK:"msRequestFullscreen",exitK:"msExitFullscreen",elementK:"msFullscreenElement",eventK:"MSFullscreenChange"}),U&&(U.enter=function(){if(g=_.closeOnScroll,_.closeOnScroll=!1,this.enterK==="webkitRequestFullscreen")n.template[this.enterK](Element.ALLOW_KEYBOARD_INPUT);else return n.template[this.enterK]()},U.exit=function(){return _.closeOnScroll=g,document[this.exitK]()},U.isFullscreen=function(){return document[this.elementK]}),U}};return r})}).call(ZM)});var QM=ce((woe,e8)=>{e8.exports={}});var my={};ii(my,{default:()=>n8,openQuickViewFromElement:()=>fy});function t8(i,e){return{imageSettings:i.siteDesign.images,settings:i.siteDesign.quick_view,quickView:i.frontendState.quickView,adminMode:i.frontendState.adminMode}}function i8(i){return Et({updateFrontendState:actions.updateFrontendState},i)}var tf,hy,eT,r8,fy,n8,rf=B(()=>{Ce();We();ht();ri();Si();Gr();Ne();_s();Lo();JM();tf=fe(Se(),1);te();hy=class extends oe{constructor(e){super(e),this.state={lightboxActive:!1,navigationElement:null,showInterface:!1,showArrows:!0,navTransitioning:!1,pointerDown:!1},this.template=ve(),this.navigationRef=ve(),this.lightbox=window.lightbox,this.QuickView=window.QuickView,Promise.resolve().then(()=>fe(QM(),1)),this.htmlTemplate=`
			<div class="quick-view-bg quick-view-background"></div> 
			<div class="quick-view-scroll-wrap"> 

				<div class="quick-view-container"> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
					<div class="quick-view-holder"></div> 
				</div> 

			</div>

			<div class="quick-view-caption-positioner"> 
				<div class="quick-view-caption-wrapper"> 
					<div class="quick-view-caption caption hidden" data-quick-view-caption><span></span></div>
				</div> 
			</div>`}onPointerDown=e=>{this.setState({pointerDown:!0}),Fo&&this.hideArrows()};onPointerUp=e=>{this.setState({pointerDown:!1})};onPointerMove=e=>{if(!this.state.showInterface&&!Fo&&!this.state.pointerDown&&this.setState({showInterface:!0}),Fo)return;let t=document.querySelector(".quick-view-caption");e&&e.target&&(this.state.navigationElement?.contains(e.target)||e.target===t||t&&t.contains(e.target))?this.hideInterface.cancel():!Fo&&this.hideInterface()};isInAdmin=()=>Gi&&this.props.adminMode===!0;hideInterface=tf.default.debounce(()=>{this.isInAdmin()||this.setState({showInterface:!1})},1500);hideArrows=tf.default.debounce(()=>{this.isInAdmin()||this.setState({showArrows:!1})},500);bindEvents(){Fo||document.addEventListener("pointerleave",this.hideInterface),window.addEventListener("pointerdown",this.onPointerDown),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerdown",this.onPointerMove)}unbindEvents(){Fo||document.removeEventListener("pointerleave",this.hideInterface),window.removeEventListener("pointerdown",this.onPointerDown),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerdown",this.onPointerMove)}componentDidUpdate(e,t){this.state.navigationElement!==this.navigationRef.current&&(this.navigationRef.current&&!this.navigationRef.current.shadowRoot&&this.navigationRef.current.attachShadow({mode:"open"}),this.setState({navigationElement:this.navigationRef.current})),this.props.location!==e.location&&this.closeQuickView(),!e.quickView.inited&&this.props.quickView.inited&&this.setState({lightboxActive:!0,showInterface:!1},()=>{this.props.quickView.mode==="preview"?(window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}}),this.previewInAdmin()):this.launchQuickView(),this.bindEvents(),this.lightbox.activeGallery?.listen("initialZoomInEnd",()=>{this.setState({showInterface:!0,showArrows:!1}),!Fo&&this.hideInterface()}),this.lightbox.activeGallery?.listen("onVerticalDrag",n=>{this.state.showInterface&&n<.95?this.setState({showInterface:!1}):!this.state.showInterface&&n>=.95&&this.setState({showInterface:!0})});var r;this.lightbox.activeGallery?.listen("onPinchClose",n=>{this.state.showInterface&&n<.9?(this.setState({showInterface:!1}),r=!0):r&&!this.state.showInterface&&n>.9&&this.setState({showInterface:!0})}),this.lightbox.activeGallery?.listen("zoomGestureEnded",()=>{r=!1,r&&!this.state.showInterface&&this.setState({showInterface:!1})}),this.lightbox?.activeGallery?.listen("close",()=>{this.setState({showInterface:!1,showArrows:!0}),this.unbindEvents()}),this.lightbox?.activeGallery?.listen("destroy",()=>{window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}}),this.props.updateFrontendState({quickView:{mode:"default",inited:!1,autoScrolling:!1,activeGallery:null,elementArray:void 0,activeIndex:0}}),this.setState({lightboxActive:!1,showInterface:!1,showArrows:!0})})}),e.quickView.inited&&!this.props.quickView.inited&&this.lightbox.isActive&&this.lightbox.activeGallery.close(),e.quickView.autoScrolling!==this.props.quickView.autoScrolling&&this.lightbox.activeGallery&&(this.props.quickView.autoScrolling?this.lightbox.activeGallery.options.animatedCloseOnScroll=!1:this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll),!tf.default.isEqual(e.settings,this.props.settings)&&this.lightbox.activeGallery&&(e.settings.show_ui!==this.props.settings.show_ui&&this.props.settings.show_ui&&(this.setState({showInterface:!0}),this.hideInterface()),this.lightbox.activeGallery.options.alignHorizontal=this.props.settings.contentAlignHorizontal,this.lightbox.activeGallery.options.alignVertical=this.props.settings.contentAlignVertical,this.lightbox.activeGallery.options.animatedCloseOnScroll=this.props.settings.close_on_scroll,this.props.settings.captions!==e.settings.captions&&(this.lightbox.activeGallery.options.showCaption=this.props.settings.captions,this.props.settings.captions?(this.lightbox.activeGallery.caption.style.display="",this.lightbox.activeGallery.updateCaption()):this.lightbox.activeGallery.caption.style.display="none"),this.lightbox.activeGallery.updateSize(!0))}closeQuickView=e=>{At.getState().frontendState?.quickView?.inited!==!1&&this.props.updateFrontendState({quickView:{inited:!1}})};render(){return this.state.lightboxActive||this.state.navTransitioning?m(Q,{children:[m("div",{ref:this.template,className:"quick-view",dangerouslySetInnerHTML:{__html:this.htmlTemplate}}),this.props.settings.show_ui?m("div",{className:"quick-view nav",ref:this.navigationRef,children:[this.state.navigationElement?m("style",{children:`
							.quick-view-caption {
								opacity: ${this.state.showInterface?"1":"0"};
							}
						`}):null,this.state.navigationElement?Ge(m(Q,{children:[m("style",{children:`
								[part*="slideshow-nav"],
								.quick-view-caption {
									opacity: ${this.state.showInterface?"1":"0"};
								}
								${Fo&&`
									[part*="slideshow-nav-next-button"],
									[part*="slideshow-nav-previous-button"]{
										opacity: ${this.state.showArrows?"1":"0"};
										${this.state.showArrows?"":"pointer-events: none !important;"}
								}`}
								
							`}),m("div",{part:"slideshow-nav",onTransitionStart:e=>{this.setState({navTransitioning:!0})},onTransitionEnd:e=>{this.setState({navTransitioning:!1})},children:[this.isInAdmin()||this.props.quickView.elementArray?.length>1?m(Q,{children:[m("div",{part:"slideshow-nav-previous-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.prev()},children:m("svg",{part:"slideshow-nav-prev",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})}),m("div",{part:"slideshow-nav-next-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.next()},children:m("svg",{part:"slideshow-nav-next",x:"0px",y:"0px",viewBox:"0 0 36 36",style:"enable-background:new 0 0 36 36;",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-arrow",d:"M22.3,28l-10-10l10-10"})]})})]},"slideshow-nav-buttons"):null,m("div",{part:"slideshow-nav-close-button",onClick:e=>{e.preventDefault(),this.lightbox?.activeGallery?.close()},children:m("svg",{part:"slideshow-nav-close",x:"0px",y:"0px",width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",children:[m("rect",{part:"slideshow-nav-background",width:"36",height:"36",rx:"36"}),m("path",{part:"slideshow-nav-x",d:"M9.3,9.3L18,18l-8.7,8.7 M26.7,9.3L18,18l8.7,8.7"})]})})]})]}),this.state.navigationElement.shadowRoot):null]}):null]}):null}launchQuickView=()=>{if(!this.props.quickView.elementArray)return;let e=this.props.quickView.activeIndex;(e===-1||isNaN(e))&&(e=0);let t=this.props.quickView.elementArray[e],r=!1,n=t?.el?.getAttribute?.("rel")==="quick-view";lightbox.openImageArray(this.props.quickView.elementArray,e,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,showHideOpacity:n,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1,afterInit:s=>{let l=lightbox.activeGallery.template,u=window.getComputedStyle(l),c=parseInt(u.getPropertyValue("width")),d=parseInt(u.getPropertyValue("height"));Math.abs(document.documentElement.clientWidth-c)<2&&Math.abs(document.documentElement.clientHeight-d)<2&&(r=!0),r||this.props.quickView.elementArray[s]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:!1}})),this.props.updateFrontendState({quickView:{activeIndex:s}})}}),lightbox?.activeGallery?.listen("afterChange",s=>{if(!this.props.quickView.inited)return;this.props.updateFrontendState({quickView:{activeIndex:s}}),this.props.quickView.elementArray[s]?.el?.dispatchEvent(new CustomEvent("request-scroll",{bubbles:!0,cancelable:!0,composed:!0,detail:{transitionTime:250,preventQuickViewClose:!0,lazyScroll:r}}))})};previewInAdmin=()=>{let t=[[6800,5e3],[5e3,6800],[5e3,5e3]].map(r=>{let n=document.createElement("media-item"),s=document.createElement("span");return s.classList.add("caption-background"),s.innerHTML="Lorem ipsum dolor sit amet, consectetur adipiscing",n.setAttribute("width",r[0]),n.setAttribute("height",r[1]),{useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:!1,fileType:"placeholder",w:r[0],h:r[1],caption:s,hash:null,src:n.href,usePlaceholder:!1,el:n}});this.lightbox.openImageArray(t,0,{disableZoom:!this.props.imageSettings.image_full_zoom,preventAnimation:!1,animatedCloseOnScroll:!!this.props.settings?.close_on_scroll,alignHorizontal:this.props.settings?.contentAlignHorizontal||"center",alignVertical:this.props.settings?.contentAlignVertical||"center",useControls:!1,showCaption:!!this.props.settings?.captions,isAdmin:!1})}};eT=Oe(t8,i8)(hy),r8=(i="")=>{let e="none";if(i){let l=i.toLowerCase();if(l.endsWith(".mov")||l.endsWith(".mp4")||l.endsWith(".webm"))e="video";else if(l.endsWith(".png")||l.endsWith(".webp")||l.endsWith(".jpg")||l.endsWith(".jpeg")||l.endsWith(".gif")||l.endsWith(".avif")||l.endsWith(".apng")||l.endsWith(".svg"))e="image";else{e="url";var t,r=/https?:\/\/(?:www\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|)(\d+)(?:$|\/|\?)/,s=i.match(r);if(s&&s[3]){t=s[3];let u=i.split("/");u[u.length-1]!=t&&(t+="/"+u[u.length-1]),e="vimeo:"+t}var n=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,s=i.match(n);s&&s[7].length==11&&(t=s[7],e="youtube:"+t)}}return e},fy=i=>{let e=At.getState();if(i&&i.nodeName!=="MEDIA-ITEM"&&(i=i.closest('a[rel="quick-view"]')||i),window.lightbox.activeGallery&&e.frontendState.quickView.elementArray){let d=e.frontendState.quickView.elementArray.findIndex(f=>f.el==i);if(d!==-1){window.lightbox.activeGallery.goTo(d);return}}let t=i.closest(".page"),r=i.getAttribute("hash"),n=[],s=cl(i,d=>d?.tagName?.startsWith("GALLERY-")),l=!1,u=i.closest("marquee-set");if(s){if(s.getAttribute("thumbnail-index")==="img:all")l=!0;else if(s&&s.getAttribute("disable-zoom")==="true")return;n=Array.from(s.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]'))}else{t?n=Array.from(t.querySelector("bodycopy")?.querySelectorAll('media-item:not([disable-zoom="true"]):not([href]), a[rel="quick-view"], media-item[rel="quick-view"], media-item[force-quick-view="true"]')):n=Array.from(document.querySelectorAll('bodycopy media-item:not([disable-zoom="true"]):not([href]), bodycopy a[rel="quick-view"], bodycopy media-item[rel="quick-view"], bodycopy media-item[force-quick-view="true"]'));let d=u&&i.closest('[slot="contents-clone"]');n=n.filter(f=>!cl(f,g=>!!(g?.tagName?.startsWith("GALLERY-")||g.tagName==="MARQUEE-INNER"&&(g.slot==="contents-clone"&&!d||g.slot==="contents"&&d))))}n=n.filter(d=>{if(d.tagName!=="A")return!0;let f=d.getAttribute("href")||"";return!(f===""||f=="#"||f.indexOf("mailto:")==0||f.indexOf("tel:")==0)});let c=n.indexOf(i);Promise.all(n.map((d,f)=>new Promise(g=>{var v=!1,S=d?.querySelector("figcaption"),C=S?.innerHTML;S&&C!==""&&(v=document.createElement("span"),v.classList.add("caption-background"),v.innerHTML=C);let _=!1,M=!1,T=1,F=1,H=1600,L=1600,z=null,ie=null,X=!1,N="url",ee=null,de=null;if(d.tagName==="MEDIA-ITEM"&&d.getAttribute("rel")!=="quick-view"){z=d.getAttribute("hash")||"",ie=d.getAttribute("src"),de=d.getAttribute("poster");var Z=d?.shadowRoot?.querySelector("video")?.getAttribute("poster");Z||(Z=d?.shadowRoot?.querySelector('img[part*="poster"]')?.getAttribute("src")),Z=Z,N=d.getFileType(),X=z==="placeholder"&&!ie;let V=screen.width,G=screen.height,K=Math.max(Math.ceil(screen.width/d._size.width),Math.ceil(screen.height/d._size.height));if(X)g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,fileType:N,w:d._size.width*K,h:d._size.height*K,caption:v,hash:"placeholder",src:null,posterSrc:Z,autoplay:!1,usePlaceholder:!0,el:d,model:d.model});else{var Y=null,D=()=>{switch(!0){case N==="url":z=null,_=!0,M=!0;break;case N.startsWith("youtube"):case N.startsWith("vimeo"):case N=="video":H=d._size.width*K,L=d._size.height*K;break;default:H=d._size.width*K,L=d._size.height*K;break}N.startsWith("youtube")||N.startsWith("vimeo")||N=="video"?d.getAttribute("autoplay")?g({useViewportWidth:_,useViewportHeight:M,viewportWidthPercentage:T,viewportHeightPercentage:F,fileType:N,w:H,h:L,caption:v,hash:z,src:ie,posterSrc:Z,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:M,viewportWidthPercentage:T,viewportHeightPercentage:F,fileType:N,poster:d.getAttribute("poster"),w:H,h:L,caption:v,hash:z,src:ie,posterSrc:Z,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model}):g({useViewportWidth:_,useViewportHeight:M,viewportWidthPercentage:T,viewportHeightPercentage:F,fileType:N,w:H,h:L,caption:v,hash:z,posterSrc:null,src:ie,autoplay:d.getAttribute("autoplay")=="true",usePlaceholder:!1,el:d,model:d.model})};D()}}else if(N=r8(d.getAttribute("href")),N.startsWith("vimeo")||N.startsWith("youtube")){let V="";N.startsWith("vimeo")?V="https://vimeo.com/api/oembed.json?url="+d.getAttribute("href")+"&width=640":V="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+d.getAttribute("href"),fetch(V,{mode:"cors"}).then(G=>{G.json().then(K=>{g({useViewportWidth:!1,useViewportHeight:!1,viewportWidthPercentage:1,viewportHeightPercentage:1,autoplay:d.getAttribute("autoplay")=="true",fileType:N,w:K.width*20,h:K.height*20,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})})})}else if(N==="url"){let V=Mp()&&d.href.indexOf(".pdf")>-1&&d.href.indexOf("docs.google.com/viewer")==-1,G=V?`https://docs.google.com/viewer?url=${d.href}&embedded=true&chrome=false`:d.href;g({useViewportWidth:!0,useViewportHeight:!0,viewportWidthPercentage:T,viewportHeightPercentage:F,fileType:N,noLazyLoading:!!V,w:1600,h:1e3,caption:v,hash:null,src:G,usePlaceholder:!1,el:d,model:d.model})}else{ee=document.createElement("media-item");let V,G=d.href.toLowerCase();ee.onerror=function(){ee?.remove(),g({useViewportWidth:_,useViewportHeight:M,viewportWidthPercentage:T,viewportHeightPercentage:F,autoplay:d.getAttribute("autoplay")=="true",fileType:N,w:1600,h:1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},ee.onload=K=>{clearTimeout(V),K.onload=null;let ne=K.getFileType();if(d.hasAttribute("width")&&d.hasAttribute("height"))d.getAttribute("width").indexOf("%")>-1&&d.getAttribute("height").indexOf("%")>-1?(_=!0,M=!0,T=parseFloat(d.getAttribute("width"))/100,F=parseFloat(d.getAttribute("height"))/100):(H=parseFloat(d.getAttribute("width")),L=parseFloat(d.getAttribute("height")));else switch(!0){case ne==="url":_=!0,M=!0,X=!1;break;default:H=K._size.width,L=K._size.height;break}K.remove(),g({useViewportWidth:_,useViewportHeight:M,viewportWidthPercentage:T,viewportHeightPercentage:F,autoplay:d.getAttribute("autoplay")=="true",fileType:ne,w:H*1e3,h:L*1e3,caption:v,hash:null,src:d.href,usePlaceholder:!1,el:d,model:d.model})},ee.setAttribute("style","position: fixed; top: -900px; left: -900px; width: 100px; height: 100px; overflow:hidden;"),ee.setAttribute("force-visible",!0),document.body.appendChild(ee),ee.setAttribute("src",d.href)}}))).then(d=>{At.dispatch(actions.updateFrontendState({quickView:{mode:"default",inited:!0,autoScrolling:!1,elementArray:d,activeIndex:c===-1?0:c}}))})};eT.defaultProps={settings:{show_ui:!0,captions:!1,quickViewAlignment:"center-center",contentAlignVertical:"center",contentAlignHorizontal:"center"}};n8=In(eT)});var Pa,gy,vy,tT=B(()=>{Ce();Ne();Lo();ga();ri();ht();zt();Si();Pa=fe(Se(),1);Vh();cy();se||(window.logSiteStructure=()=>{let i=window.store.getState(),e=i.structure.bySort,t=Object.keys(e);t.sort((n,s)=>e[n]-e[s]);let r={};t.forEach(n=>{let s=i.pages.byId[n]||i.sets.byId[n];r[n]={title:s.title,sort:e[n],index:i.structure.indexById[n],page_count:s.page_count}}),console.table(r)});gy=class extends oe{constructor(e){super(e),this.state={},this.isMac=!1,se||(Promise.resolve().then(()=>(rf(),my)).then(({openQuickViewFromElement:t})=>{this.setState({openQuickViewFromElement:t})}),this.isMac=Rp())}handleGlobalClick=e=>{let t=e.target,r=t;if(t.shadowRoot?t=e.composedPath().find(s=>s.tagName==="A")||t:t.closest("a")&&(t=t.closest("a")),Fi.handleGlobalClick(t,r),!e.defaultPrevented&&t&&(t.nodeName==="A"||t.nodeName==="a")&&t.getAttribute("href")&&t.getAttribute("href")!==""){let s=t.getAttribute("rel");if(this.props.adminMode){e.preventDefault();return}let l=t.getAttribute("href")||"",u=t.getAttribute("target"),c;switch(s){case"history":e.preventDefault();let d=this.props.store.getState(),f=it.getContentByPurl(store.getState(),l.replace(/\//,""));if(f?.overlay){Fi.toggleOverlay(f.id);return}c=t.getAttribute("data-tags");let g=!1;if(c?.length>0)l=c;else{let C=it.getHomepagePurl(d);l.toLowerCase()===C&&!d.sets.byId.root.stack&&(l="/")}l.startsWith("/")||(l="/"+l),l==="/contact-form"&&(g=!0),r.nodeName==="MEDIA-ITEM"&&r?.classList.contains("thumbnail")&&l.replace(/\//,"")===this.props.activePURL&&window.scrollTo(0,0),this.isMac&&e.metaKey===!0||!this.isMac&&e.ctrlKey===!0?window.open(l,"_blank"):this.props.history.push(l,{preventScrollReset:g});break;case"prev_page":case"prev-page":e.preventDefault(),this.loadPrevPage();break;case"next_page":case"next-page":e.preventDefault(),this.loadNextPage();break;case"home_page":case"home-page":e.preventDefault(),this.props.history.push("/");break;case"random_page":case"random-page":e.preventDefault(),this.loadRandomPage();break;case"quick-view":case"quick_view":e.preventDefault(),this.state.openQuickViewFromElement?.(e.target);break;case"close-overlay":case"close_overlay":e.preventDefault();let v=r.closest("[page-url]")?.id;Fi.getOverlay(v)?Fi.closeOverlay(v):this.props.history.push("/");break;case"add-to-cart":case"add_to_cart":e.preventDefault(),this.props.addCommerceProductToCart((t.getAttribute("data-product")||e.target.getAttribute("data-product"))??null,(t.getAttribute("data-variant")||e.target.getAttribute("data-variant"))??null,{callback:()=>{this.props.history.push("/cart",{preventScrollReset:!0})},failureCallback:C=>{this.props.updateFrontendState({alertModal:{header:C,type:"notice"}})}});break;case"show_cart":case"show-cart":e.preventDefault(),Qh().then(C=>{this.props.history.push("/cart",{preventScrollReset:!0})}).catch(C=>{console.warn(C)});break;case"filter-index":case"filter_index":e.preventDefault(),c=t.getAttribute("data-tags");let S=t.getAttribute("data-set");var n=new CustomEvent("filter-thumbnail-index",{bubbles:!0,cancelable:!0,composed:!0,detail:{filter:c?"tag:"+c:S?"set:"+S:"all"}});t.dispatchEvent(n);break;default:this.props.isInHomepagePreview?(e.preventDefault(),parent.window.open(l)):u!=="_blank"&&(e.preventDefault(),parent.location.href=l);break}}};openAdmin=()=>{if(window.parent!==window)return;let e=this.props.activePID;if(this.props.store.getState().sets.byId[e]!==void 0){let t=document.querySelector(".content .pages .page");t?e=t.id:e=""}window.location.href="/edit/"+e};showCargoSiteIndicator=()=>{let e=new Image;e.onload=function(){let t=document.createElement("div");t.style.width="100%",t.style.height="100%",t.style.zIndex="2147483647",t.style.position="fixed",t.style.background='url("https://static.cargo.site/assets/C3/c3label.svg") center center / contain no-repeat',t.style.backgroundSize="60%",t.style.transform="rotate(-30deg)",setTimeout(function(){t.style.transition="opacity 500ms",setTimeout(function(){t.parentNode.removeChild(t)},700),setTimeout(function(){t.style.opacity="0"})},1e3),document.body.appendChild(t)},e.src="https://static.cargo.site/assets/C3/c3label.svg"};handleGlobalKeyDown=e=>{if(e.target.nodeName==="INPUT"||e.target.nodeName==="TEXTAREA")return;let t=this.props.store.getState();if(!this.props.adminMode){if(this.isMac&&e.metaKey&&e.which===191||!this.isMac&&e.ctrlKey&&e.which===191){this.showCargoSiteIndicator();return}if(this.isMac&&e.metaKey&&e.which===27||!this.isMac&&e.ctrlKey&&e.which===27){this.openAdmin();return}if(e.shiftKey&&(e.keyCode===65||e.keyCode===69)&&!t.frontendState.contactForm.inited&&!t.frontendState.cartOpen&&!t.frontendState?.quickView?.inited&&(this.props.inAdminFrame?this.props.editorRole!=="Viewer"&&(this.props.activePID&&this.props.activePID.length>0&&this.props.activePID!=="root"?parent.navigateAdmin("/"+this.props.activePID):parent.navigateAdmin("/")):this.openAdmin()),e.keyCode===82&&!t.frontendState.contactForm.inited&&!t.frontendState.cartOpen&&!t.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadRandomPage()):e.keyCode===37&&!t.frontendState.contactForm.inited&&!t.frontendState.cartOpen&&!t.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey?(e.preventDefault(),this.loadPrevPage()):e.keyCode===39&&!t.frontendState.contactForm.inited&&!t.frontendState.cartOpen&&!t.frontendState?.quickView?.inited&&!e.metaKey&&!e.ctrlKey&&(e.preventDefault(),this.loadNextPage()),e.which===27&&!e.metaKey&&!e.ctrlKey){if(t.frontendState?.contactForm?.inited){this.props.updateFrontendState({contactForm:{transition:!0,inited:!0}}),setTimeout(()=>{this.props.updateFrontendState({contactForm:{transition:!1,inited:!1}})},300);return}if(t.frontendState.quickView.inited||t.frontendState.cartOpen||t.frontendState?.contactForm?.inited||t.frontendState.alertModal)return;if(!this.props.inAdminFrame){let r=Fi.getAllOverlays();r.length>0?Fi.closeOverlay(r[r.length-1].pid):this.props.history.location.pathname!=="/"&&this.props.history.push("/")}}}};componentDidMount(){se||(window.addEventListener("click",this.handleGlobalClick),window.addEventListener("keydown",this.handleGlobalKeyDown))}componentWillUnmount(){se||(window.removeEventListener("click",this.handleGlobalClick),window.removeEventListener("keydown",this.handleGlobalKeyDown))}render(){return this.props.children}loadRandomPage=()=>{let e=this.props.store.getState(),t=[];if(Pa.default.each(e.sets.byId,s=>{if(s.stack&&s.id!=="root")s.page_count>0&&e.frontendState.activePID!==s.id&&t.push([s.id]);else{let l=Array.apply(null,{length:s.page_count}).map(Number.call,c=>[s.id,c]),u=it.getSetContentsByIndex(e,s.id);t=t.concat(l.filter(([c,d])=>{let f=u[d];return!(f&&(f.id===e.frontendState.activePID||f.id===e.site.homepage_id||f.id===e.site.mobile_homepage_id||f.page_type==="set"||f.pin===!0))}))}}),t.length===0)return;let r=t[Math.floor(Math.random()*t.length)],n=e.sets.byId[r[0]];r.length===2?this.props.fetchContent(n.id,{indexes:[r[1]],idType:"pid"}).then(s=>{s.data&&s.data[0]?this.props.history.push("/"+s.data[0].purl):this.loadRandomPage()}):r.length===1&&this.props.history.push("/"+n.purl)};loadNextPage=()=>{let e=this.props.store.getState(),t=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!t||t.page_type==="set"&&!t.stack)return;let r=e.structure.indexById[t.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(t,"next"):this.props.fetchContent(t.id,{next:!0}).then(c=>{c?.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Pa.default.findKey(e.structure.byParent,c=>c.includes(t.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let s=Pa.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(s.length===n.page_count)return;for(let c=0;c<n.page_count&&(r++,r>=n.page_count&&(r=0),!!s.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(e.structure.indexById[d]!==null&&(c[e.structure.indexById[d]]=d),c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadNextPage()})};loadPrevPage=()=>{let e=this.props.store.getState(),t=e.pages.byId[this.props.activePID]||e.sets.byId[this.props.activePID];if(!t||t.page_type==="set"&&!t.stack)return;let r=e.structure.indexById[t.id];if(r===null){e.adminState?.crdt.initializedAdminList?this.loadNearestContentNeighbor(t,"prev"):this.props.fetchContent(t.id,{prev:!0}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)});return}let n=e.sets.byId[Pa.default.findKey(e.structure.byParent,c=>c.includes(t.id))];if(!n||n.page_count===void 0||n.page_count<=1)return;let s=Pa.default.without(e.structure.byParent[n.id]?.map(c=>e.pages.byId[c]||e.sets.byId[c]).map(function(c){if(c&&(c.page_type==="set"&&(c.stack===!1||c.page_count===0)||c.id===e.site.homepage_id||c.id===e.site.mobile_homepage_id))return e.structure.indexById[c.id]}),void 0);if(s.length===n.page_count)return;for(let c=0;c<=n.page_count&&(r--,r<0&&(r=n.page_count-1),!!s.includes(r));c++);let u=(e.structure.byParent[n.id]?.reduce((c,d)=>(c[e.structure.indexById[d]]=d,c),{}))[r];u?this.props.history.push("/"+(e.pages.byId[u]||e.sets.byId[u])?.purl):this.props.fetchContent(n.id,{indexes:[r],idType:"pid"}).then(c=>{this.loadPrevPage()})};loadNearestContentNeighbor=(e,t)=>{let r=this.props.store.getState();if(t!=="next"&&t!=="prev")throw'direction needs to be "next" or "prev"';let n=Object.keys(r.structure.bySort).sort((c,d)=>r.structure.bySort[c]-r.structure.bySort[d]);t==="prev"&&n.reverse();let s=n.indexOf(e.id);if(s===-1)throw"Unable to locate current id in sort list";let l;for(let c=1;c<n.length+1;c++){let d=n[(s+c)%n.length],f=r.structure.byParent.hasOwnProperty(d);if(f&&r.sets.byId[d]?.stack===!0){l=d;break}else if(!f&&r.structure.indexById[d]!==null&&d!==r.site.homepage_id&&d!==r.site.mobile_homepage_id){l=d;break}}let u=r.pages.byId[l]||r.sets.byId[l];u?this.props.history.push("/"+u.purl):this.props.fetchContent(l,{idType:"pid"}).then(c=>{c.data&&c.data[0]&&this.props.history.push("/"+c.data[0].purl)})}},vy=cn(In(Oe((i,e)=>{let t;return i.auth.data?.id&&(t=Pa.default.find(i.site?.editors,r=>r.id===parseInt(i.auth.data.id))?.role),{editorRole:t,adminMode:i.frontendState.adminMode,inAdminFrame:i.frontendState.inAdminFrame,activePID:i.frontendState.activePID,isInHomepagePreview:i.auth.previewing,activePURL:(i.pages.byId[i.frontendState.activePID]||i.sets.byId[i.frontendState.activePID])?.purl}},i=>Et({updateFrontendState:Fe.updateFrontendState,fetchContent:Fe.fetchContent,addCommerceProductToCart:Fe.addCommerceProductToCart},i))(gy)))});var iT=B(()=>{});var rT=B(()=>{We();iT();te()});var nT=B(()=>{});var oT,nf,sT=B(()=>{We();oT=fe(Se());rT();Qp();nT();te();nf=class extends oe{constructor(e){super(e),this.ref=Be.createRef(),this.maxValue=100,this.speed=9,this.currValue=null,this.rafID=null,this.state={value:0,complete:!1,successLoading:!1}}componentDidMount=()=>{this.ref.current.addEventListener("mousestart",this.unlockStartHandler,!1)};unlockStartHandler=()=>{window.cancelAnimationFrame(this.rafID),this.currValue=this.state.value};unlockEndHandler=()=>{this.currValue=+this.state.value,this.currValue>=this.maxValue?this.successHandler():(this.rafID=window.requestAnimationFrame(this.animateHandler),this.setState({complete:!1}))};animateHandler=()=>{this.setState({value:this.currValue}),this.currValue>-1&&window.requestAnimationFrame(this.animateHandler),this.currValue=this.currValue-this.speed,setTimeout(oT.default.bind(function(){this.setState({value:0})},this),150)};successHandler=()=>{this.setState({successLoading:!0,complete:!1}),setTimeout(()=>{this.props.onConfirm()},800)};onRangeChange(e){e.persist(),this.setState({value:e.currentTarget.value}),this.setState({complete:e.currentTarget.value>=100})}componentWillUnmount=()=>{this.ref?.current?.removeEventListener("mousestart",this.unlockStartHandler,!1)};render(){return m("div",{className:`slide-confirm-slider${this.state.successLoading?" success-loading":""}`,ref:this.ref,onMouseDown:e=>{this.unlockStartHandler(e)},onMouseUp:e=>{this.unlockEndHandler(e)},onTouchEnd:e=>{this.unlockEndHandler(e)},children:[m("span",{className:"slide-message",children:this.props.slideMessage}),m("div",{className:"slide-progress",style:{left:"calc("+this.state.value+"% - calc("+this.state.value/100+" * 40px))"}}),m("input",{type:"range",min:"0",value:this.state.value,className:`pullee${this.state.complete?" complete":""}`,onChange:e=>{this.onRangeChange(e)}}),this.state.successLoading?m(Ho,{className:"accent"}):null]})}}});var aT=B(()=>{});var by,yy,of,lT=B(()=>{We();by=fe(Se());sT();Qp();aT();te();yy=Be.createContext({header:null,message:null,slideMessage:null,placeholder:null,existingValue:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,confirmButton:"Yes",denyButton:"No",maxInputLength:null,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null}),of=class extends oe{constructor(e){super(e),this.modalDefaults={header:null,htmlHeader:null,message:null,slideMessage:null,htmlMessage:null,type:"alert",children:null,customElement:null,preventCancel:!1,preventClose:!1,confirmButton:"OK",denyButton:"Cancel",cancelButton:!1,overCart:!1,checkBoxConfirmation:null,checkBoxConfirmationValue:!1,frontendData:null,maxInputLength:null,closeManually:!1,validateInput:()=>!0,onOpen:()=>null,onConfirm:()=>null,onCancel:()=>null,onDeny:()=>null,onClose:()=>null},this.state={modalOpen:!1,animate:!1,processConfirm:!1,...this.modalDefaults},this.overlayRef=Be.createRef(),this.inputRef=Be.createRef(),this.transitioning=!1,this.ignoreUnmount=!1,this.internalHotKeySet=!1,this.alterEventExecution=!0,this.clickStartedInModal=!1}openModal=e=>{if(this.transitioning||this.state.modalOpen||this.state.animate)return;document.activeElement?.blur(),this.transitioning=!0;let t=by.default.defaults(e,this.modalDefaults),r=new Event("openAlertModal");window.dispatchEvent(r),t.onOpen&&t.onOpen(),window.__c3_admin__===!0&&(window.store.getState().adminState.pauseGlobalEventExecution?this.alterEventExecution=!1:window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!0}})),t.manuallyBindHotkeys&&(this.internalHotKeySet=!0,window.addEventListener("keydown",this.onKeyDown,!0)),window.addEventListener("keydown",this.onTabKeyDown),t.ignoreUnmount&&(this.ignoreUnmount=!0),this.originalStyle=window.getComputedStyle(document.body).overflow,document.body.style.overflow="hidden",window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1,...t},()=>{window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!0},()=>{setTimeout(()=>{this.transitioning=!1},280)})})})}),t.frontendData&&t.frontendData.contentWindow.getSelection().removeAllRanges(),window.focus()};dispatchCloseEvents=()=>{let e=new Event("closeAlertModal");window.dispatchEvent(e),window.__c3_admin__===!0&&this.alterEventExecution&&window.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{pauseGlobalEventExecution:!1}})};unbindInternalHotkeys=()=>{this.internalHotKeySet&&(this.internalHotKeySet=!1,window.removeEventListener("keydown",this.onKeyDown,!0)),window.removeEventListener("keydown",this.onTabKeyDown)};closeModal=e=>{if(!this.state.modalOpen)return;let t=by.default.defaults(e,this.modalDefaults);this.transitioning=!0,this.dispatchCloseEvents(),this.unbindInternalHotkeys(),document.body.style.overflow=this.originalStyle,window.requestAnimationFrame(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!0,animate:!1},()=>{setTimeout(()=>{this.unmounted&&!this.ignoreUnmount||this.setState({modalOpen:!1,animate:!1},()=>{this.state.onClose&&(this.state.onClose(),this.setState({modalOpen:!1,animate:!1,processConfirm:!1,existingValue:null,...this.modalDefaults},()=>{this.transitioning=!1}))})},280)})})};validateInput=()=>{};confirmModal=e=>{if(this.state.closeManually){this.setState({processConfirm:!0}),this.state.onConfirm();return}if(this.state.type==="dialog"&&this.inputRef.current)this.state.onConfirm&&this.state.onConfirm(this.inputRef.current.value);else{let t={};t.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onConfirm(t)}this.closeModal()};onKeyDown=e=>{e?.key==="Enter"&&this.state.type!=="slide-confirm"&&this.confirmModal(e),e?.key==="Escape"&&(e.preventDefault(),e.stopImmediatePropagation(),this.cancelModal(e))};denyModal=()=>{if(!this.state.processConfirm){if(this.state.onDeny){let e={};e.checkBoxConfirmationValue=this.state.checkBoxConfirmationValue??null,this.state.onDeny(e)}this.closeModal()}};cancelModal=e=>{this.state.preventCancel||this.state.preventClose||(this.state.onDeny&&e==="action"&&this.state.onDeny(),e?.type==="keydown"&&(e.preventDefault(),e.stopImmediatePropagation()),this.state.onCancel&&this.state.onCancel(),this.closeModal())};overlayClick=e=>{if(this.clickStartedInModal){this.clickStartedInModal=!1;return}e.target==this.overlayRef.current&&this.cancelModal()};onMouseDown=e=>{this.clickStartedInModal=!0};onTabKeyDown=e=>{let t=e.key==="Tab"||e.keyCode===9;this.state.modalOpen&&t&&e.preventDefault()};componentDidMount(){}componentWillUnmount(){this.unmounted=!0}render(){let e=this.state.confirmButton||"OK",t=this.state.denyButton||"Cancel",r=this.state.header&&m("div",{className:"header",children:this.state.header}),n=this.state.message&&m("div",{className:"sub-message",children:this.state.message}),s=this.state.htmlHeader&&m("div",{className:"header",dangerouslySetInnerHTML:{__html:this.state.htmlHeader}}),l=this.state.htmlMessage&&m("div",{className:"sub-message",dangerouslySetInnerHTML:{__html:this.state.htmlMessage}}),u=this.state.placeholder?this.state.placeholder:"",c=this.state.existingValue?this.state.existingValue:"",d=this.state.confirmButton!==!1&&m("button",{className:"confirm rounded",onClick:T=>this.confirmModal(T,null),children:[e,this.state.processConfirm?m(Ho,{className:"default-border-radius"}):""]}),f=!this.state.preventCancel&&m("button",{className:"deny rounded",onClick:this.denyModal,children:t}),g=this.state.children&&!this.state.wrapperlessChildren?m("div",{className:"form",children:this.state.children}):this.state.wrapperlessChildren?this.state.children:null,v=()=>m(Q,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"opt-buttons",children:[f,d]})]}),S=()=>m(Q,{children:[m("div",{className:"message",children:[r,n,s,l]}),m("div",{className:"input"}),m("div",{className:"buttons",children:d})]}),C=()=>m(Q,{children:[m("div",{className:"message",children:[r,s,n,l]}),g,m("div",{className:"input"}),m("div",{className:"buttons",children:[f,d]})]}),_=()=>m(Q,{children:[m("div",{className:"message",children:[r,n]}),m("div",{className:"input",children:this.state.maxInputLength?m("input",{type:"text",maxLength:this.state.maxInputLength,placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef}):m("input",{type:"text",placeholder:u,autoFocus:!0,defaultValue:c,ref:this.inputRef})}),m("div",{className:"buttons",children:[m("button",{className:"deny rounded",onClick:this.denyModal,children:"Cancel"}),m("button",{className:"confirm rounded",onClick:T=>this.confirmModal(T,null),children:"OK"})]})]}),M=()=>m(Q,{children:[m("div",{className:"message",children:[r,n]}),this.state.checkBoxConfirmation?m("div",{className:"footer",children:m("label",{onClick:T=>{T.preventDefault(),this.setState({checkBoxConfirmationValue:!this.state.checkBoxConfirmationValue})},className:"checkbox",htmlFor:"alert_checkbox_confirmation",children:[this.state.checkBoxConfirmation,m("input",{readOnly:!0,name:"alert_checkbox_confirmation",id:"alert_checkbox_confirmation",type:"checkbox",checked:this.state.checkBoxConfirmationValue?"checked":""})]})}):null,m("div",{className:"buttons",children:[this.state.cancelButton?m("button",{className:"deny rounded",onClick:this.cancelModal,children:"Cancel"}):null,m("button",{className:"deny rounded",onClick:this.denyModal,children:this.state.denyButton}),m("button",{className:"confirm rounded",onClick:T=>this.confirmModal(T,null),children:this.state.confirmButton})]})]});return m(yy.Provider,{value:{openModal:this.openModal,closeModal:this.closeModal},children:[this.state.modalOpen?m(Q,{children:[this.state.HotKeyProxy?m(Q,{children:[this.state.type!=="slide-confirm"&&this.state.HotKeyProxy("enter","all",this.confirmModal),this.state.HotKeyProxy("escape","all",this.cancelModal)]}):null,m("div",{className:`alert-window${this.state.animate?" active":""}${this.state.preventCancel||this.state.preventClose?" no-exit":""}${this.state.overCart?" over-cart":""}`,onClick:this.overlayClick,ref:this.overlayRef,children:this.state.customElement?this.state.customElement:m("div",{onMouseDown:this.onMouseDown,className:`alert-modal${" "+this.state.type}${this.state.className?" "+this.state.className:""}`,children:[this.state.type==="alert"&&m(v,{}),this.state.type==="notice"&&m(S,{}),this.state.type==="confirm"&&m(C,{}),this.state.type==="dialog"&&m(_,{}),this.state.type==="publish"&&m(M,{}),this.state.type==="custom"&&m(Q,{children:[m("div",{className:"message",children:[r,n]}),g]}),this.state.type==="slide-confirm"&&m(Q,{children:[m("div",{className:"message",children:[r,n,s,l,g]}),m("div",{className:"buttons",children:[m("br",{}),m("br",{}),m("button",{className:"deny",onClick:this.denyModal,children:"Cancel"}),m(nf,{onConfirm:T=>this.confirmModal(T,null),slideMessage:this.state.slideMessage??"Slide to delete"})]})]})]})})]}):null,this.props.children]})}}});function s8(i,e){return{alertModal:i.frontendState.alertModal,adminMode:i.frontendState.adminMode}}function a8(i){return Et({updateFrontendState:Fe.updateFrontendState},i)}var Sse,o8,l8,uT,cT=B(()=>{Ce();ht();ri();zt();Sse=fe(Se(),1);lT();te();o8=({alertModal:i,adminMode:e,...t})=>m(of,{children:m(yy.Consumer,{children:r=>{i&&!e&&r.openModal({...i,manuallyBindHotkeys:!0,onConfirm:n=>{t.onConfirm&&t.onConfirm(),t.updateFrontendState({alertModal:!1})},onClose:n=>{t.onClose&&t.onclose(),t.updateFrontendState({alertModal:!1})},onCancel:n=>{t.onCancel&&t.onCancel(),t.updateFrontendState({alertModal:!1})}})}})});l8=Oe(s8,a8)(o8),uT=l8});var sf,wy=B(()=>{sf=(i,e=window)=>new Promise((t,r)=>{var n=e.document.getElementsByTagName("head")[0],s=e.document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=i,s.media="all",s.onload=t,s.onError=r,n.appendChild(s)})});var dT,pT,hT=B(()=>{wy();dT="https://api.cargo.site/v1/fonts/css?family=",pT=(i,e)=>new Promise((t,r)=>{if(!e||e.length===0)return t();let n=e.join("%7C").replace(/[\. -]+/g,"");if(i.context==="server"){fetch(dT+n).then(async l=>{let u=await l.text();t(u)}).catch(r);return}let s=e.map(l=>{let u=i.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});s.forEach(l=>i.context.document.body.appendChild(l)),sf(dT+n,i.context).then(l=>{i.context.document.fonts.ready.then(()=>{s.forEach(u=>u.remove()),t()})}).catch(r)})});var u8,c8,fT,mT=B(()=>{wy();u8="https://fonts.googleapis.com/css?family=",c8=["100","100italic","200","200italic","300","300italic","400","400italic","500","500italic","600","600italic","700","700italic","800","800italic","900","900italic"],fT=(i,e)=>new Promise((t,r)=>{if(!e||e.length===0)return t();if(i.context==="server")return r("Google fonts should only be loaded by the client");let n=e.map(l=>l.indexOf(":")===-1?l+":"+c8.join(","):l).join("%7C").replace(/ /g,"+"),s=e.map(l=>{let u=i.context.document.createElement("span");return u.style=`display:block;position:absolute;top:-9999px;left:-9999px;
			font-size:300px;width:auto;height:auto;line-height:normal;margin:0;
			padding:0;font-variant:normal;white-space:nowrap;font-family:${l};`,u.textContent="BESbswy",u});s.forEach(l=>i.context.document.body.appendChild(l)),sf(u8+n,i.context).then(l=>{i.context.document.fonts.ready.then(()=>{s.forEach(u=>u.remove()),t()})}).catch(r)})});var xy,gT=B(()=>{hT();mT();xy=i=>{if(!i)throw"No config given";i.context=i.context||window,i.active=i.active||function(){};let e=[];return e.push(fT(i,i.families?.reduce?.((t,r)=>(r.provider==="google"&&t.push(r.family),t),[]))),e.push(pT(i,i.families?.reduce?.((t,r)=>(r.provider==="cargo"&&t.push(r.family),t),[]))),Promise.all(e).catch(t=>{console.log("something went wrong while loading the site's fonts...",t)}).finally(t=>{i.active?.(t)})}});var vT,Sy,_y,Kc,Cy=B(()=>{Ce();We();ht();vT=fe(Se(),1);Ne();Si();Rr();te();Sy=new Set,_y=class extends oe{constructor(e){super(e),this.state={src:null,lastSrc:null,loaded:!1},this.uid=vT.default.uniqueId(),this.decodingQueue=[]}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e,t){let{model:r,adminMode:n,isZoomable:s,alt:l,hash:u,src:c,decoding:d}=e,f=e.width??r?.width??1600,g=e.height??r?.height??1600,v=this.state.src||this.blankURI;return Sy.has(this.state.src)||(v=this.state.lastSrc||this.blankURI),v=this.props.isLazyLoadable?v:this.blankURI,Vt("img",{onClick:this.props.onClick,crossorigin:"",alt:l||null,src:v,width:f,height:g,className:`media${s?" image-zoom":""} `+(this.props.className||""),ref:this.props.mediaRef,onLoad:this.onLoad,decoding:"sync",part:this.props.part||void 0})}onLoad=e=>{this.props.mediaRef.current&&(this.props.mediaRef.current.src===this.blankURI||this.props.mediaRef.current.src===""||(this.setState({loaded:!0}),this.props.onLoad&&(this.props.model?this.props.onLoad({width:this.props.model.width,height:this.props.model.width}):this.props.onLoad({width:this.props.mediaRef.current.naturalWidth,height:this.props.mediaRef.current.naturalHeight}))))};componentDidUpdate(e,t){let r=this.props["dynamic-src"]||this.props.src||void 0,n=e["dynamic-src"]||e.src||void 0;(this.props.renderWidth!==e.renderWidth||this.props.renderHeight!==e.renderHeight||e.isLazyLoadable!==this.props.isLazyLoadable||r!==n||this.props.model&&this.props.model?.hash!==e.model?.hash)&&this.onSizeChange()}componentDidMount(){this.firstLoad=!0,this.onSizeChange()}decodeImage=(e,t)=>{if(this.decodingQueue.indexOf(e)>-1)return;this.decodingQueue.push(e);let r=document.createElement("img"),n=()=>{r.onload=null,Sy.has(r.src)?this.forceUpdate():(Sy.add(r.src),this.state.src==r.src&&this.forceUpdate())};this.firstLoad?(r.decoding="async",r.onload=n,r.onerror=this.props.onError,r.src=e):(r.decoding="async",r.src=e,r.onerror=this.props.onError,r.decode().then(s=>{n()}).catch(s=>{n()}))};onSizeChange=()=>{let e=this.props["dynamic-src"]||this.props.src||void 0,t=this.props.renderWidth,r=this.props.renderHeight,n=t<500?50:250,s=Math.ceil(t/n)*n,l=r<500?50:250,u=Math.ceil(r/l)*l;this.props.model&&s!==0&&u!==0&&(e=Il({w:s,h:u},this.props.model).url),this.props.isLazyLoadable&&e&&this.decodeImage(e),this.setState(c=>e==c.src||!e?null:(this.firstLoad=!1,{lastSrc:c.src,src:e}))}},Kc=Kn((i,e)=>{let t=i.model?.is_video&&i.model?.poster?i.model.poster:i.model;return t&&t.loading&&(t=null),m(_y,{...i,model:t,mediaRef:e})})});var bT,Ia,af,d8,Aa,lf,p8,Ey,yT,wT=B(()=>{Ce();We();bT=fe(Se(),1);te();Ia=new Set,af="unloaded",d8=function(){if(af==="unloaded"){let t=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{af="loaded",Ia.forEach(r=>{r.initYoutubePlayer()}),Ia.clear(),typeof t=="function"&&t()},af="loading";var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(i,e)}af==="loaded"&&(Ia.forEach(t=>{t.initYoutubePlayer()}),Ia.clear())},Aa=new Set,lf="unloaded",p8=function(){if(lf==="unloaded"){lf="loading";var i=document.createElement("script");i.onload=()=>{lf="loaded",Aa.forEach(t=>{t.initVimeoPlayer()}),Aa.clear()},i.src="https://player.vimeo.com/api/player.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(i,e)}lf==="loaded"&&(Aa.forEach(t=>{t.initVimeoPlayer()}),Aa.clear())},Ey=class extends oe{constructor(e){super(e),this.state={apiPlayer:null,nativeSize:{width:1,height:1},wasInLazyLoadRange:e.isLazyLoadable},this.uid=bT.default.uniqueId(),this.html="",this.divRef=ve()}render(e){let{src:t,width:r,height:n,model:s}=e;return m(Q,{children:[e.adminMode?m("div",{style:{position:"absolute",zIndex:9999,pointerEvents:"auto",background:"transparent",inset:0}}):null,m("div",{onPointerEnter:this.props.onPointerEnter,onPointerOut:this.props.onPointerOut,dangerouslySetInnerHTML:{__html:this.html},style:{position:"absolute",inset:0},ref:this.divRef})]})}setIframeStyles=()=>{if(!this.divRef.current)return;let e=this.divRef.current.querySelector("iframe");if(e||this.props.fileType.startsWith("youtube:")||this.props.fileType.startsWith("vimeo:")&&this.state.apiPlayer&&(e=this.state.apiPlayer.element),!e)return;let t="margin: auto; position: absolute;";t+="width: 100%; height: 100%; inset: 0;",e.setAttribute("part","iframe iframe"+this.props.statusPartAppendix),e.setAttribute("style",t)};loadAPIPlayer=()=>{Aa.delete(this),Ia.delete(this),this.props.fileType.startsWith("youtube:")?(Ia.add(this),d8()):this.props.fileType.startsWith("vimeo:")&&(Aa.add(this),p8())};initVimeoPlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=this.props.fileType.replace("vimeo:","").split("/"),t=new window.Vimeo.Player(this.divRef.current,{id:e.length>1&&this.props.src?this.props.src:e[0],h:e[1]||void 0,width:this.props.width||640,height:this.props.height||480,loop:this.props.loop,autopause:!1,autoplay:!1,volume:this.props.autoplay||this.props.muted?0:1,background:!this.props["browser-default"],pip:!1,speed:!0,portrait:!1,muted:this.props.autoplay||this.props.muted});this.setState({apiPlayer:t},()=>{Promise.all([t.getVideoWidth(),t.getVideoHeight()]).then(r=>{t.on("loaded",()=>{t.element?.setAttribute("id","vimeo-player-"+this.uid),t.element?.setAttribute("frameborder","0"),this.setIframeStyles()}),t.on("play",()=>{this.props.onPlay?.()}),t.on("pause",()=>{this.props.onPause?.()}),t.on("ended",()=>{this.props.onEnded?.()}),t.pause().then(t.setCurrentTime(0));var n=r[0],s=r[1];this.setState({nativeSize:{width:n,height:s}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((l,u)=>{this.props.muted||this.props.autoplay?this.state.apiPlayer.setVolume(0).then(()=>{this.state.apiPlayer.play().then(()=>{l(!0)}).catch(c=>{u(c)})}).catch(c=>{u(c)}):this.state.apiPlayer.play().then(c=>{l(!0)}).catch(c=>{u(c)})}),pause:()=>new Promise((l,u)=>{this.state.apiPlayer.pause().then(c=>{l(!0)})}),setCurrentTime:l=>new Promise((u,c)=>{this.state.apiPlayer.setCurrentTime(l).then(d=>{u(!0)})}),getCurrentTime:()=>new Promise((l,u)=>{this.state.apiPlayer.getCurrentTime().then(c=>{l(c)})}),setVolume:l=>new Promise((u,c)=>{this.state.apiPlayer.setVolume(l).then(d=>{u(!0)})}),getVolume:()=>new Promise((l,u)=>{this.state.apiPlayer.getVolume().then(c=>{l(c)})}),getDuration:()=>new Promise((l,u)=>{this.state.apiPlayer.getDuration().then(c=>{l(!0)})}),stop:()=>new Promise((l,u)=>{Promise.all([t.pause(),t.setCurrentTime(0)]).then(()=>{l(!0)})}),setPlaybackRate:l=>new Promise((u,c)=>{this.state.apiPlayer.setPlaybackRate(l).then(d=>{u(!0)})}),size:{width:n,height:s}})})})};initYoutubePlayer=()=>{for(;this.divRef.current?.childNodes?.[0];)this.divRef.current.childNodes[0].remove();let e=document.createElement("iframe"),t=this.props.fileType.replace("youtube:","");e.setAttribute("style","display:none;"),this.divRef.current.appendChild(e);let r=this.props.src.indexOf("?")>-1?this.props.src.split("?")[0]:this.props.src,n=this.props.fileType?.replace("youtube:","")||null,s="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url="+r;n&&n.length>0&&(s="https://cargo.site/_api/v2/proxy/url?url=https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v="+n),fetch(s,{mode:"cors"}).then(l=>{l.json().then(u=>{let c=u.width*2||640,d=u.height*2||480;e.setAttribute("id","youtube-player"),e.setAttribute("allow","accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"),e.setAttribute("allowfullscreen",""),e.setAttribute("frameborder","0");let f={autoplay:0,width:c,height:d,modestbranding:1,loop:this.props.loop,host:"https://www.youtube.com",controls:this.props["browser-default"]?void 0:0,disablekb:this.props["browser-default"]?1:0,enablejsapi:1,origin:window.location.origin,rel:0},g=Object.entries(f).filter(([S,C])=>C!==void 0).map(([S,C])=>S+"="+C).join("&");e.setAttribute("src","https://www.youtube.com/embed/"+t+"?"+g),this.setState({nativeSize:{width:c,height:d}}),this.setIframeStyles();let v=new YT.Player(e,{videoId:t,playerVars:f,events:{onReady:()=>{this.setState({nativeSize:{width:c,height:d}}),this.props.onNewPlayer&&this.props.onNewPlayer({play:()=>new Promise((S,C)=>{this.state.apiPlayer.playVideo(),S(!0)}),pause:()=>new Promise((S,C)=>{this.state.apiPlayer.pauseVideo(),S(!0)}),stop:()=>new Promise((S,C)=>{this.state.apiPlayer.stopVideo(),esolve(!0)}),size:{width:c,height:d},setCurrentTime:S=>new Promise((C,_)=>{switch(this.state.apiPlayer.getPlayerState()){case 0:case 1:case 2:this.state.apiPlayer.seekTo(S,!1)}C(!0)}),getCurrentTime:()=>new Promise((S,C)=>{S(this.state.apiPlayer.getCurrentTime())}),setVolume:S=>new Promise((C,_)=>{this.state.apiPlayer.setVolume(S*100),C(!0)}),getVolume:S=>new Promise((C,_)=>{C(this.state.apiPlayer.getVolume()/100)}),getDuration:()=>new Promise((S,C)=>{S(this.state.apiPlayer.getDuration())}),setPlaybackRate:S=>new Promise((C,_)=>{this.state.apiPlayer.setPlaybackRate(S),C(!0)})})},onStateChange:S=>{switch(S.data){case YT.PlayerState.ENDED:this.props.onEnded?.();break;case YT.PlayerState.PAUSED:this.props.onPause?.();break;case YT.PlayerState.PLAYING:this.props.onPlay?.();break}}}});this.setState({apiPlayer:v})})})};componentDidUpdate(e,t){if((this.props.width!==e.width||this.props.height!==e.height||this.state.nativeSize!==t.nativeSize||this.props["image-fit"]!==e["image-fit"])&&this.setIframeStyles(),this.props.statusPartAppendix!==e.statusPartAppendix){let r=this.divRef.current?.querySelector("iframe");r&&r.setAttribute("part","iframe iframe"+this.props.statusPartAppendix)}e.isLazyLoadable!==this.props.isLazyLoadable&&this.props.isLazyLoadable&&this.setState({wasInLazyLoadRange:!0}),(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted||t.wasInLazyLoadRange!==this.state.wasInLazyLoadRange)&&(e.src&&this.props.onNewPlayer(null),clearTimeout(this.initPlayerTimeout),this.initPlayerTimeout=setTimeout(()=>{e.fileType.startsWith("youtube")&&this.state.apiPlayer&&(this.state.apiPlayer?.destroy(),this.loadAPIPlayer()),e.fileType.startsWith("vimeo")&&this.state.apiPlayer&&(this.state.apiPlayer.off("loaded"),this.state.apiPlayer.off("play"),this.state.apiPlayer.off("pause"),this.state.apiPlayer?.destroy().then(()=>{this.loadAPIPlayer()}))},0))}componentDidMount(){this.loadAPIPlayer()}componentWillUnmount(){clearTimeout(this.initPlayerTimeout),Ia.delete(this),Aa.delete(this)}},yT=Kn((i,e)=>m(Ey,{...i,mediaRef:e}))});var xT,Py,ST,_T=B(()=>{Ce();ht();Cy();wT();Rr();Ne();We();xT=fe(Se(),1);te();Py=class extends oe{constructor(e){super(e),this.nullPlayer={play:()=>new Promise((t,r)=>{r("null player play")}),pause:()=>new Promise((t,r)=>{r("null player pause")}),stop:()=>new Promise((t,r)=>{r("null player stop")}),getDuration:()=>new Promise((t,r)=>{r("null player getDuration")}),getCurrentTime:()=>new Promise((t,r)=>{r("null player getCurrentTime")}),setCurrentTime:()=>new Promise((t,r)=>{r("null player setCurrentTime")}),getVolume:()=>new Promise((t,r)=>{r("null player getVolume")}),setVolume:()=>new Promise((t,r)=>{r("null player setVolume")}),setPlaybackRate:()=>new Promise((t,r)=>{r("null player setPlaybackRate")}),size:{width:0,height:0}},this.state={playing:!1,paused:!0,stopped:!0,hasPlayedThrough:!1,interacted:!1,hasAttention:!1,videoLoaded:!1,posterLoaded:!1,activePlayer:this.nullPlayer},this.posterRef=ve(),this.videoRef=ve(),this.videoPlayerRef=ve()}blankURI="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";render(e){let{model:t,posterModel:r,adminMode:n,isZoomable:s,alt:l,hash:u,src:c,fileType:d,decoding:f,"browser-default":g,"dynamic-src":v}=e,S=e.width??t?.width??1600,C=e.height??t?.height??1600,_=v||c||"",M=null;t&&(t.is_url?M=t.url:M="https://freight.cargo.site/i/"+t.hash+"/"+t.name);let T="";t?.loading||!M?T=_||"":T=M||"",d==="video"&&(T=this.props.isLazyLoadable?T:"");let F=null;r&&!r.loading?r.is_video&&r.poster?F=Il({w:this.props.renderWidth},r.poster).url||"":F=Il({w:this.props.renderWidth},r).url||"":t&&t.poster&&!t.poster.loading?F=Il({w:this.props.renderWidth},t.poster).url||"":(this.props["dynamic-poster"]||this.props.poster)&&(F=this.props["dynamic-poster"]||this.props.poster||null,F=F.startsWith("https://")?F:""),F=this.props.isLazyLoadable?F:"";let H=this.state.playing?"-playing":this.state.stopped?"-stopped":this.state.paused?"-paused":"",L=!g;return m("div",{onPointerEnter:this.onPointerEnter,onPointerOut:this.onPointerOut,part:"media video-player"+(H?" video-player"+H:""),ref:this.props.mediaRef,className:`media${s?" image-zoom":""}`,children:m("div",{className:"video-player-crop",children:[L?m(Kc,{ref:this.posterRef,src:F||this.blankURI,isZoomable:s,onLoad:this.onPosterLoad,isLazyLoadable:this.props.isLazyLoadable,renderWidth:this.props.renderWidth,renderHeight:this.props.renderHeight,width:S,height:C,style:{transform:"rotate(1deg)"},part:"poster"+(H?" poster"+H:"")}):null,d==="video"?m("video",{ref:this.videoRef,playsinline:"true",autoplay:this.props.autoplay,loop:this.props.loop,muted:this.props.muted||this.props.autoplay,src:T,controls:g,onLoadedMetadata:this.onVideoLoad,preload:"metadata",part:"video"+(H?" video"+H:""),poster:g?F:null,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,width:S,height:C}):m(yT,{...this.props,statusPartAppendix:H,fileType:d,ref:this.videoRef,loop:this.props.loop,width:S,height:C,onPlay:this.onPlay,onPause:this.onPause,onEnded:this.onEnded,onNewPlayer:this.onNewPlayer,src:T})]})})}componentDidMount(){this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,Object.defineProperty(this.props.baseNode,"playing",{get:()=>this.state.playing,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,configurable:!0}),Object.defineProperty(this.props.baseNode,"stopped",{get:()=>this.state.stopped,configurable:!0}),this.autoplayInterval=setInterval(()=>{this.props.autoplay&&!this.state.playing&&this.props.visible&&!this.state.interacted&&(this.props.loop||!this.state.hasPlayedThrough)&&this.play()},1200),this.configurePlayer(),this.props.visible&&this.enteredView()}configurePlayer=()=>{this.props.muted||this.props.autoplay?this.state.activePlayer.setVolume(0).then(()=>{this.props.visible&&this.enteredView()}).catch(e=>{}):this.state.activePlayer.setVolume(1).catch(e=>{}),this.props["playback-rate"]!=1&&this.state.activePlayer.setPlaybackRate(this.props["playback-rate"]).catch(e=>{})};componentDidUpdate(e,t){t.activePlayer!=this.state.activePlayer&&(this.configurePlayer(),this.setState({interacted:!1})),(this.props.visible!=e.visible||t.activePlayer!=this.state.activePlayer)&&(this.props.visible?this.enteredView():this.exitedView()),this.props.poster!==e.poster&&this.resetVideoPlayer(),this.props.isLazyLoadable!==e.isLazyLoadable&&(this.props.isLazyLoadable||(this.videoRef.current?.pause(),this.videoRef.current?.removeAttribute("src"),this.videoRef.current?.load())),this.props.muted!==e.muted&&this.state.activePlayer.setVolume(this.props.muted||this.props.autoplay?0:1),this.props.fileType==="video"&&(t.videoLoaded!==this.state.videoLoaded||t.posterLoaded!==this.state.posterLoaded)&&(this.props.poster&&this.state.posterLoaded&&this.state.videoLoaded?this.initializeVideoElementPlayer():this.state.videoLoaded&&this.initializeVideoElementPlayer()),(e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"])&&(this.setState({interacted:!1}),this.state.activePlayer.setCurrentTime(0),this.props.autoplay?this.play():this.stop())}componentWillUnmount(){clearInterval(this.autoplayInterval),this.pause(),this.exitedView.cancel(),delete this.props.baseNode.playing,delete this.props.baseNode.paused,delete this.props.baseNode.stopped,delete this.props.baseNode.play,delete this.props.baseNode.pause,delete this.props.baseNode.getCurrentTime,delete this.props.baseNode.setCurrentTime}play=()=>{this.state.activePlayer&&this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(e=>{this.state.activePlayer.getVolume().then(t=>{t!==0&&this.state.activePlayer.setVolume(0).then(()=>{this.state.activePlayer.play().then(()=>{this.setState({playing:!0,paused:!1,stopped:!1})}).catch(r=>{})}).catch(r=>{})}).catch(t=>{})})};pause=()=>{this.state.activePlayer&&this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0})}).catch(e=>{})};stop=()=>{this.state.activePlayer&&(this.pause(),this.state.activePlayer.pause().then(()=>{this.setState({playing:!1,paused:!0,stopped:!0}),this.state.activePlayer.setCurrentTime(0)}).catch(e=>{}))};onPointerEnter=e=>{this.props["play-on"]==="hover"&&(this.props.poster&&this.state.activePlayer.setCurrentTime(0),this.play()),this.setState({hasAttention:!0})};onPointerOut=e=>{this.props["play-on"]==="hover"&&this.pause(),this.setState({hasAttention:!1})};onPosterLoad=()=>{this.setState({posterLoaded:!0})};onVideoLoad=()=>{this.setState({videoLoaded:!0})};onNewPlayer=e=>{if(!e){this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:this.nullPlayer},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime});return}this.setState({playing:!1,stopped:!0,paused:!0,hasPlayedThrough:!1,activePlayer:e},()=>{this.props.baseNode.play=this.state.activePlayer.play,this.props.baseNode.pause=this.state.activePlayer.pause,this.props.baseNode.getCurrentTime=this.state.activePlayer.getCurrentTime,this.props.baseNode.setCurrentTime=this.state.activePlayer.setCurrentTime,this.props.onLoad&&this.props.onLoad({width:e.size.width,height:e.size.height}),this.props.visible&&this.enteredView()})};initializeVideoElementPlayer=()=>{this.videoRef.current.paused&&this.videoRef.current.currentTime!==0&&(this.videoRef.current.currentTime=0),this.onNewPlayer({play:()=>new Promise((e,t)=>{this.videoRef.current.play().then(function(){e(!0)}).catch(function(r){t(r)})}),pause:()=>new Promise((e,t)=>{this.videoRef.current.pause(),e(!0)}),stop:()=>new Promise((e,t)=>{this.videoRef.current.pause(),this.videoRef.current.currentTime=0,e(!0)}),getDuration:()=>new Promise((e,t)=>{e(this.videoRef.current.duration)}),getCurrentTime:()=>new Promise((e,t)=>{e(this.videoRef.current.currentTime)}),setCurrentTime:e=>new Promise((t,r)=>{this.videoRef.current.currentTime===e?t(!0):(this.videoRef.current.currentTime=e,this.videoRef.current.addEventListener("seeked",()=>{t(!0)},{once:!0}))}),getVolume:()=>new Promise((e,t)=>{e(this.videoRef.current.volume)}),setVolume:e=>new Promise((t,r)=>{this.videoRef.current.volume=e,e==0&&(this.videoRef.current.muted=!0),t(!0)}),setPlaybackRate:e=>new Promise((t,r)=>{this.videoRef.current.playbackRate=Math.max(.1,Math.min(2,parseFloat(e))),"preservesPitch"in this.videoRef.current?this.videoRef.current.preservesPitch=!1:"mozPreservesPitch"in this.videoRef.current?this.videoRef.current.mozPreservesPitch=!1:"webkitPreservesPitch"in this.videoRef.current&&(this.videoRef.current.webkitPreservesPitch=!1),t(!0)}),size:{width:this.videoRef.current.videoWidth||320,height:this.videoRef.current.videoHeight||240}})};onPlay=()=>{this.setState(e=>{let t={...e};return e.hasAttention&&(t.interacted=!0),t.playing=!0,t.paused=!1,t.stopped=!1,t})};onPause=()=>{this.setState(e=>{let t={...e};return e.hasAttention&&(t.interacted=!0),t.playing=!1,t.paused=!0,t})};onEnded=()=>{this.setState({hasPlayedThrough:!0})};resetVideoPlayer=()=>{Promise.all([this.state.activePlayer.setCurrentTime(0),this.state.activePlayer.pause()]).then(()=>{this.setState({hasPlayedThrough:!1,paused:!0,stopped:!0},()=>{this.props.poster&&this.videoRef.current&&this.props["browser-default"]&&this.videoRef.current.load()})})};enteredView(){this.exitedView.cancel(),(this.props.autoplay==!0||this.props["play-on"]==="hover"&&this.state.hasAttention)&&!this.state.playing&&this.play()}exitedView=xT.default.debounce(()=>{this.pause(),Promise.all([this.state.activePlayer.pause(),this.state.activePlayer.getCurrentTime(),this.state.activePlayer.getDuration()]).then(([e,t,r])=>{r-t<.1&&!this.props.loop&&this.resetVideoPlayer()})},500)},ST=Kn((i,e)=>m(Py,{...i,mediaRef:e}))});var xae,Iy,CT,ET=B(()=>{Ce();ht();Rr();We();xae=fe(Se(),1);te();Iy=class extends oe{constructor(e){super(e)}render(e){let{model:t,src:r,isLazyLoadable:n}=e,s=t?.is_url?t.url:r;return m("iframe",{part:"media iframe",frameborder:"0",className:this.props.loaded?"loaded":"",onload:this.onLoad,ref:this.props.mediaRef,src:n?s:""})}onLoad=()=>{this.props.onLoad&&this.props.onLoad()};componentDidMount(){this.props.isLazyLoadable&&this.startGDocsLoadCheck()}componentDidUpdate(e,t){this.props.loaded!==e.loaded&&(clearInterval(this.gDocsTimeoutCheck),this.props.loaded||this.startGDocsLoadCheck()),this.props.isLazyLoadable!==e.isLazyLoadable&&(clearInterval(this.gDocsTimeoutCheck),this.props.isLazyLoadable&&this.startGDocsLoadCheck())}componentWillUnmount(){clearInterval(this.gDocsTimeoutCheck)}startGDocsLoadCheck=()=>{let e=this.props.model?.is_url?this.props.model.url:this.props.src;if(e.indexOf("https://docs.google.com/viewer")==0){let t=2500;this.gDocsTimeoutCheck=setInterval(()=>{this.props.mediaRef.current?.contentDocument?(this.props.mediaRef.current.setAttribute("src",""),this.props.mediaRef.current.setAttribute("src",e)):clearInterval(this.gDocsTimeoutCheck),t=t+500,t>4e3&&(console.warn("Google Docs Viewer failed to load"),clearInterval(this.gDocsTimeoutCheck))},t)}}},CT=Kn((i,e)=>m(Iy,{...i,mediaRef:e}))});var Cs,jl,Ay,Ry,PT,IT=B(()=>{Ce();We();Ot();Ne();Di();to();Ci();Cs=fe(Se(),1);te();jl=new Set,Ay=Cs.default.debounce(()=>{let i=Array.from(jl),e=[],t=i.filter(s=>s.state.selected).length>1,r=0;if(t){let s=i.map(c=>{let d;return c.state.selected?d=c.props.baseNode.getBoundingClientRect():d={top:-9e9},{component:c,rect:d}});e=Cs.default.sortBy(s,(c,d)=>c.rect.top);let l=e.filter(c=>c.component.state.selected),u=l[l.length-1].component.props.baseNode._size;r=l[l.length-1].rect.bottom+-l[0].rect.top+-u.mediaItemSize.padSize+-u.mediaSize.padSize,e=e.map(c=>c.component)}else e=i;let n=!1;e.forEach(s=>{!t||!s.state.selected?s.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?s.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(s.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r},()=>{s.setEditorFrame()}),n=!0)})},100);se||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",Ay):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",Ay)}),document.addEventListener("selectionchange",Ay));Ry=class extends oe{constructor(e){super(e),this.state={selected:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,overlayPosition:{x:0,y:0},mediaItemEditorInfo:{},resizeCorner:0,pointerAttention:!1,pointerProxyAttention:!1,activeGallery:null,disabledFigureOptions:[],editorFramePosition:{x:0,y:0},editorMediaFramePosition:{x:0,y:0},UIWindow:!1,cursorOrientation:"nwse-resize",isResizing:!1,dragStartPosition:{x:0,y:0},dragDelta:{x:0,y:0},scalingLimit:1e3,resizeDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},initialDimensions:{scale:"100%",scaleArray:[100,"%"],newWidth:"auto",newHeight:"auto",width:0,height:0,displayScale:null},handlePos:{x:100,y:100,w:100,h:100},contextPos:{x:100,y:100,w:100,h:100},mediaCornerPositions:[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],multiSelectHeight:null},this.renderElement=ze.getPortal(this.props.baseNode,{noPointerEvents:!1,trackResize:!1,extraMargins:!1,component:this}),this.mediaGhostRef=ve(),this.observer=new MutationObserver(this.checkForEmptyCaption)}render(e,t){let{mediaItemEditorInfo:r,overlayPosition:n,resizeCorner:s,pointerAttention:l,pointerProxyAttention:u,disabledFigureOptions:c,editorFramePosition:d,editorMediaFramePosition:f,isResizing:g,dragStartPosition:v,dragDelta:S,scalingLimit:C,resizeDimensions:_,handlePos:M,mediaCornerPositions:T,cursorOrientation:F,partOfMultipleSelection:H,showMultipleSelectionButton:L,UIWindow:z,contextPos:ie}=t,{rotation:X,dimensions:N,mediaDimensions:ee,baseNode:de,size:Z}=e;if(r?.disableAll==!0)return null;let Y=_.width*_.overSize/Z.mediaSize.width,D=_.height*_.overSize/Z.mediaSize.height,V=1/Y||1,G=e.scale;g&&(_.displayScale?G=_.displayScale:_.scaleArray[1]=="px"?G=parseFloat(_.scaleArray[0]).toFixed(0)+_.scaleArray[1]+"":G=parseFloat(_.scaleArray[0]).toFixed(1)+_.scaleArray[1]+""),G=G==="100.0%"?"100%":G;let K=e.rotation+"\xB0",ne=null;(l||u)&&!r?.disableButton&&!z&&!g&&(L&&H?ne=m("button",{"data-editor-overlay":"true",class:"media-options-button multiple",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!L&&!H&&(ne=m("button",{"data-editor-overlay":"true",class:"media-options-button",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})));let W=null;!g&&l&&!r?.disableResize&&!H&&(W=m("button",{class:`resize-handle ${F}`,style:{transform:`translate(${Math.floor(M.x*2)/2}px, ${Math.floor(M.y*2)/2}px)`},onMouseDown:this.onResizePointerDown,children:m("svg",{xmlns:"http://www.w3.org/2000/svg",x:"0px",y:"0px",viewBox:"0 0 32 32",style:"enable-background:new 0 0 32 32;",children:[m("polygon",{class:"outline",points:"24,18 28,15 30,14 30,30 14,30 15,28 18,24 8,14 4,17 2,18 2,2 18,2 17,4 14,8 "}),m("polygon",{class:"inner",points:"8,11 4,14 4,4 14,4 11,8 24,21 28,18 28,28 18,28 21,24 "})]})}));let U=r?.additionalUI?.(this,de)||null;return m(Q,{children:[m("style",{children:`:host {
				${g?"visibility: hidden!important;":""}
			}
			`}),m(Oi,{baseNode:de,onSelectionChange:this.onSelectionChange}),Ge(m("div",{class:"editor-overlay",style:{height:Z.mediaItemSize.height+"px",width:Z.mediaItemSize.width+"px",display:l||g||u?"block":"none",transform:`translate3d(${n.x}px, ${n.y}px, 1px) rotate(${e.rotation}deg)`},children:[m("div",{class:`figure-outline${this.state.usingLocalScale?" using-local-scale":""}`,style:{width:Z.mediaItemSize.width+"px",height:Z.mediaItemSize.height+"px",top:d.y+"px",left:d.x+"px",transform:`rotate(${-e.rotation}deg)`},children:[g&&l&&m("div",{className:"tool-tip figure-sizing visible",style:{transform:`translate(${Math.floor(ie.x*2)/2}px, ${Math.floor(ie.y*2)/2}px)`},children:m("div",{className:"tooltip-content",children:m("span",{children:`${this.props.limitBy}: ${G}`})})}),ne,W,U]}),m("div",{class:"media-ghost-container",style:{display:g?"block":"none",width:_.width+Z.mediaSize.padSize+"px",height:_.height+Z.mediaSize.padSize+"px",top:s===2||s===3?"0":"auto",right:s===1||s===2?"auto":"0",left:s===1||s===2?"0":"auto",bottom:s===2||s===3?"auto":"0"},children:m("div",{class:"media-ghost",ref:this.mediaGhostRef})})]}),this.renderElement)]},"media-item-editor")}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onOptionsButtonClick=e=>{if(this.state.mediaItemEditorInfo?.disableAll||e.metaKey||e.target.closest("figcaption"))return;e.preventDefault();let t=[];jl.forEach(s=>{s.state.selected&&t.push(s.props.baseNode)}),t.indexOf(this.props.baseNode)===-1&&(t=[this.props.baseNode]);let r=this.props.baseNode.getBoundingClientRect(),n={x:r.x+10,y:r.y+10,left:r.left+10,right:r.right+10,top:r.top+10,bottom:r.top+10,width:r.width,height:0};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"imageoptions",positionRect:n,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,props:{selectedMediaItems:t,clickedMediaItem:this.props.baseNode}})};setUIWindow=e=>{this.setState({UIWindow:e})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1,pointerAttention:!1}),this.setState({selected:e})};checkForEmptyCaption=()=>{let e=this.props.figCaptionElement;if(e){e.classList.contains("caption")||e.classList.add("caption");let t=Array.from(e.childNodes).every(r=>r.nodeType==Node.TEXT_NODE&&r.nodeValue.trim()==="");t&&!e.classList.contains("empty")?e.classList.add("empty"):!t&&e.classList.contains("empty")&&e.classList.remove("empty")}};componentDidMount(){jl.add(this),this.props.baseNode._editorInterface=this,this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),this.props.baseNode.addEventListener("contextmenu",this.onOptionsButtonClick),this.checkForEmptyCaption(),this.props.figCaptionElement&&this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0})}componentWillUnmount(){if(jl.delete(this),this.observer.disconnect(),this.state.UIWindow)if(this.props.baseNode.__willBeReplacedWith){let e=[...this.state.UIWindow.state.selectedMediaItems],t=e.indexOf(this.props.baseNode);t>-1&&(e[t]=this.props.baseNode.__willBeReplacedWith);let r=this.state.UIWindow.state.clickedMediaItem;this.props.baseNode==r&&(r=this.props.baseNode.__willBeReplacedWith),this.state.UIWindow.setState({selectedMediaItems:e,clickedMediaItem:r},()=>{this.state.UIWindow?.getSettingsFromNodes()})}else this.state.UIWindow?.onMutate();delete this.props.baseNode._editorInterface,ze.removePortal(this.props.baseNode,this.renderElement),this.props.baseNode.removeEventListener("contextmenu",this.onOptionsButtonClick)}updatePosition=e=>{(this.state.pointerAttention||this.state.pointerProxyAttention)&&(e.width==0||e.height==0||this.setEditorFrame())};onScroll=e=>{this.ticking||(this.ticking=!0,requestAnimationFrame(()=>{let t=this.props.scrollContext.getScrollPosition().y,r=t-this.scrollPos;this.scrollPos=t,this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(r),ze.testHover(),this.setEditorFrame(),this.ticking=!1}))};componentDidUpdate(e,t){this.props.figCaptionElement!==e.figCaptionElement&&(this.observer.disconnect(),this.props.figCaptionElement&&(this.checkForEmptyCaption(),this.observer.observe(this.props.figCaptionElement,{characterData:!0,subtree:!0,childList:!0}))),(!this.props.height||!this.props.width)&&(!this.props.model?.width||!this.props.model?.height)&&this.props.nativeMediaDimensions.width&&this.props.nativeMediaDimensions.height&&(this.props.nativeMediaDimensions.width!==e.nativeMediaDimensions.width||this.props.nativeMediaDimensions.height!==e.nativeMediaDimensions.height||this.props.height!==e.height||this.props.width!==e.width)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.setAttribute("width",this.props.nativeMediaDimensions.width),this.props.baseNode.setAttribute("height",this.props.nativeMediaDimensions.height)},{preventDraft:!0}),(this.props.src!==e.src||this.props.hash!==e.hash)&&CargoEditor?.mutationManager?.execute?.(()=>{this.props.baseNode.removeAttribute("width"),this.props.baseNode.removeAttribute("height"),this.props.baseNode.removeAttribute("poster")},{preventDraft:!0}),(this.state.UIWindow!==t.UIWindow||this.state.pointerAttention!==t.pointerAttention||this.state.pointerProxyAttention!==t.pointerProxyAttention||this.props.scrollContext.scrollingElement!==e.scrollContext.scrollingElement)&&(this.props.scrollContext.scrollingElement&&(this.state.UIWindow||this.state.pointerProxyAttention||this.state.pointerAttention)?(this.scrollPos=this.props.scrollContext.getScrollPosition().y,this.props.scrollContext.scrollingElement.addEventListener("scroll",this.onScroll)):e.scrollContext.scrollingElement&&e.scrollContext.scrollingElement.removeEventListener("scroll",this.onScroll)),(this.props.size.mediaSize.width!==e.size.mediaSize.width||this.props.size.mediaSize.height!==e.size.mediaSize.height||this.props.size.mediaItemSize.width!==e.size.mediaItemSize.width||this.props.size.mediaItemSize.height!==e.size.mediaItemSize.height||this.props.size.mediaSize.padSize!==e.size.mediaSize.padSize||this.props.size.mediaItemSize.padSize!==e.size.mediaItemSize.padSize||this.props.rotation!==e.rotation)&&(this.state.pointerAttention||this.state.pointerProxyAttention)&&(this.setState({usingLocalScale:this.props.baseNode?.hasAttribute("scale")&&this.props.baseNode?.hasAttribute("limit-by")}),ze.testHover(),this.setEditorFrame())}pointerIn=()=>{let e=this.props.baseNode?.parentNode?._mediaItemEditorInfo||{},t=this.props.baseNode.parentElement?.nodeName=="GALLERY-SLIDESHOW"?this.props.baseNode.parentElement:null;if(t&&!t.thumbnailsVisible&&!this.props.baseNode.assignedSlot?.parentElement?.hasAttribute?.("data-active-slide")){this.pointerOut();return}this.setState({mediaItemEditorInfo:e}),this.state.selected&&jl.forEach(r=>{r.state.showMultipleSelectionButton&&r.setState({pointerProxyAttention:!0})}),this.setState({pointerAttention:!0},()=>{this.setEditorFrame()})};pointerOut=()=>{this.state.selected&&jl.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onResizePointerDown=e=>{if(e.button==2)return;let t=this.props.mediaElement,r=this.mediaGhostRef.current;if(!t||!r||this.props.size.width?.indexOf?.("%")>-1)return;for(;r.lastChild;)r.lastChild.remove();if(t.tagName=="IMG"){let s=t.cloneNode(!0);s.setAttribute("decoding","sync"),r.appendChild(s)}else if(t.tagName==="VIDEO"&&t.hasAttribute("poster")){let s=document.createElement("img");s.setAttribute("decoding","sync"),s.setAttribute("src",t.getAttribute("poster")),r.appendChild(s)}else t.classList.contains("placeholder")?r.appendChild(t.cloneNode(!0)):r.appendChild(document.createElement("div"));let n=window.getComputedStyle(t);r.firstChild.style.border=n.getPropertyValue("border"),r.firstChild.style.borderRadius=n.getPropertyValue("border-radius"),r.firstChild.style.padding=n.getPropertyValue("padding"),r.firstChild.style.outline=n.getPropertyValue("outline"),this.startDrag(e)};startDrag=e=>{let{handlePos:t,mediaCornerPositions:r,cursorOrientation:n}=this.state,{baseNode:s,rotation:l,limitBy:u,size:c}=this.props,d=this.props.baseNode.closest("bodycopy, column-unit, gallery-freeform"),f=0;if(d){let M=window.getComputedStyle(d);f=d.offsetWidth+-parseFloat(M.getPropertyValue("padding-left"))+-parseFloat(M.getPropertyValue("padding-right"))}else f=window.innerWidth;f=f+-c.mediaSize.padSize+-c.mediaItemSize.padSize;let g={x:e.clientX,y:e.clientY};e.preventDefault();let v=this.props.scale??100,S=Zt(v,u==="width"?"%":"rem");u!=="width"&&u!=="height"&&(S[1]=""),S[0]=parseFloat(S[0]),(S[0]===""||S[1].indexOf("calc(")>-1||S[1].indexOf("var(")>-1)&&(u==="width"?(S[0]=c.mediaSize.width/f*100,S[1]="%"):(S[0]=c.mediaSize.height/window.innerHeight*100,S[1]="vh"));let C=Math.min(S[0].toString().indexOf(".")>-1?S[0].toString().split(".").pop().length:0,3);S[0]=parseFloat(parseFloat(S[0]).toFixed(C));let _={width:c.mediaSize.width,height:c.mediaSize.height,atLimit:Math.abs(c.mediaSize.width-f)<2,scaleArray:S,scale:v,overSize:1,displayScale:null};this.state.mediaItemEditorInfo.beforeScaleChange&&(_=this.state.mediaItemEditorInfo.beforeScaleChange(this.props.baseNode,_)),this.setState({dragStartPosition:g,scalingLimit:f,dragDelta:{x:0,y:0},resizeDimensions:_,initialDimensions:{..._,scaleArray:[..._.scaleArray]},isResizing:!0},()=>{ze.lock(),document.body.style.setProperty("cursor",n,"important"),document.body.classList.add("dragging-figure-in-editor"),ye.adminWindow.addEventListener("mouseup",this.onPointerUp),ye.adminWindow.addEventListener("pointermove",this.onDrag),window.addEventListener("pointermove",this.onDrag),window.addEventListener("mouseup",this.onPointerUp)})};onDrag=e=>{e.preventDefault();let{dragStartPosition:t,mediaCornerPositions:r,scalingLimit:n,resizeCorner:s,handlePos:l,handleTrack:u,initialDimensions:c}=this.state,{rotation:d,limitBy:f,baseNode:g,size:v}=this.props,{resizeDimensions:S}=this.state,{scale:C,scaleArray:_}=c,M={x:e.clientX-t.x,y:e.clientY+-t.y},T=d*(Math.PI/180)||0,F=r[s],H=r[(s+1)%4],L=r[(s+2)%4],z=r[(s+3)%4],ie=this.getDistance(z,l),X=this.getDistance(L,l),N=parseInt(v.width),ee=parseInt(v.height),de=45,Z=this.getAngle(z,F),Y=this.getAngle(F,H),D={x:l.x+M.x,y:l.y+M.y},V=[{x:l.x+Math.cos(Y)*10,y:u.y+u.h+-de+Math.sin(Y+Math.PI)*10},{x:l.x,y:u.y+u.h+-de}],G=[{x:l.x+Math.cos(Z)*10,y:u.y+u.h+-de+Math.sin(Z+Math.PI)*10},{x:l.x,y:u.y+u.h+-de}],K=0,ne=0,W=0,U,J;if(s%2==0){let De=this.getIntersection(V,[H,L]),He=this.getIntersection(G,[L,z]),ut=this.getDistance(L,l),Ve=this.getDistance(L,D),ot=this.getAngle(L,D),_e=this.getDistance(L,l);W=Ve/_e;let ct=this.getDistance(L,De);ne=Ve/ct;let st=Math.abs(Math.sin(ot+T));ne*=st;let $e=this.getDistance(He,L);K=Ve/$e;let je=Math.cos(ot+T);K*=je}else{let De=this.getIntersection(V,[z,F]),He=this.getIntersection(G,[F,H]),ut=this.getDistance(L,l),Ve=this.getDistance(L,D),ot=this.getAngle(L,D),_e=this.getDistance(L,l);W=Ve/_e;let ct=this.getDistance(L,De);ne=Ve/ct;let st=Math.abs(Math.sin(ot+T));ne*=st;let $e=this.getDistance(He,L);K=Ve/$e;let je=Math.cos(ot+T);K*=je}let ae=Math.max(K,W,ne),ue=Math.min(v.mediaSize.width/N,v.mediaSize.height/ee),he=N/ee;U=N*ue*ae,J=ee*ue*ae;let me=!1,Ae=1;if(U>n){let De=n/U;me=!0,U=n,J=J*De}let Ie=e.altKey||e.metaKey;f==="width"?([_,U]=this.scaleDimension(_,U+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.width+v.mediaSize.padSize+v.mediaItemSize.padSize,Ie),U=U+-v.mediaSize.padSize+-v.mediaItemSize.padSize,J=U/he):([_,J]=this.scaleDimension(_,J+v.mediaSize.padSize+v.mediaItemSize.padSize,v.mediaSize.height+v.mediaSize.padSize+v.mediaItemSize.padSize,Ie),U=he*(J+-v.mediaSize.padSize+-v.mediaItemSize.padSize),J=U/he),_[0]=parseFloat(_[0]),S={scale:_.join(""),scaleArray:_,limitBy:f,width:U,height:J,atLimit:me,overSize:Ae,displayScale:null},_[1]=="%"&&f=="width"&&parseFloat(_[0])>=100&&(S.scale="100%",S.scaleArray=[100,"%"]),this.state.mediaItemEditorInfo.whileScaleChange&&(S=this.state.mediaItemEditorInfo.whileScaleChange(this.props.baseNode,{...S})),this.setState({resizeDimensions:S})};scaleDimension=(e,t,r,n)=>{let s=e[0]*(t/r),l=s;n?e[1]=="%"||e[1]=="vh"||e[1]=="vw"||e[1]=="vmax"||e[1]=="vmin"?s=Math.round(s/.5)*.5:s=Math.round(s/10)*10:e[1]=="px"?s=Math.round(s):s=Math.round(s*10)/10,s=Math.max(1,s);let u=s/l||0;return[[s,e[1]],t*u]};onPointerUp=e=>{let{resizeDimensions:t,scalingLimit:r}=this.state;e.preventDefault(),CargoEditor.mutationManager.execute(()=>{this.state.mediaItemEditorInfo.afterScaleChange?this.state.mediaItemEditorInfo.afterScaleChange(this.props.baseNode,t):this.props.baseNode.setAttribute("scale",t.scale),this.props.baseNode.flushMutationQueue()}),ze.unlock(),this.setState({isResizing:!1},()=>{document.body.style.cursor="",ye.adminWindow.removeEventListener("mouseup",this.onPointerUp),ye.adminWindow.removeEventListener("pointermove",this.onDrag),document.body.classList.remove("dragging-figure-in-editor"),window.removeEventListener("pointermove",this.onDrag),window.removeEventListener("mouseup",this.onPointerUp)})};setEditorFrame=()=>{let{figureElement:e,mediaElement:t,sizingFrameElement:r,baseNode:n,rotation:s,size:l}=this.props;if(!e||!t||!t.parentElement||l.mediaItemSize.width==0||l.mediaItemSize.height==0||!r||!this.state.pointerAttention&&!this.state.pointerProxyAttention)return;let u=s*(Math.PI/180)||0,c=n.getBoundingClientRect(),d={w:l.mediaItemSize.width*Math.cos(u)-l.mediaItemSize.height*Math.sin(u),h:l.mediaItemSize.width*Math.sin(u)+l.mediaItemSize.height*Math.cos(u)},v={x:c.left+(c.width-d.w)*.5+-0,y:c.top+(c.height-d.h)*.5+-0},S=r.getBoundingClientRect(),C=45,_=45,M=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight,T={x:e.offsetLeft,y:e.offsetTop,w:e.offsetWidth,h:e.offsetHeight};M&&(T.h=this.state.multiSelectHeight);let F=t.offsetLeft,H=t.offsetTop,L=t;for(;L&&L.parentNode&&L.parentNode!==n.shadowRoot&&L.parentNode!==e&&L.parentNode!==n;)F=F+L.offsetLeft,H=H+L.offsetTop,L=L.offsetParent;let z={x:F||0,y:H||0},ie=[{x:z.x,y:z.y},{x:z.x+l.mediaSize.width+l.mediaSize.padSize,y:z.y},{x:z.x+l.mediaSize.width+l.mediaSize.padSize,y:z.y+l.mediaSize.height+l.mediaSize.padSize},{x:z.x,y:z.y+l.mediaSize.height+l.mediaSize.padSize}],X=[];if(M)X=ie,X[2].y=z.y+this.state.multiSelectHeight,X[3].y=z.y+this.state.multiSelectHeight;else{let _e={x:T.w*.5,y:T.h*.5};X=ie.map(ct=>{let st={x:ct.x-_e.x,y:ct.y-_e.y},$e={x:st.x*Math.cos(u)-st.y*Math.sin(u),y:st.x*Math.sin(u)+st.y*Math.cos(u)};return{x:$e.x+_e.x,y:$e.y+_e.y}})}if(Cs.default.isEqual(X))return;let N,ee,de,Z;N=Cs.default.minBy(X,_e=>_e.y);let Y=X.indexOf(N);ee=X[(Y+1)%4],de=X[(Y+2)%4],Z=X[(Y+3)%4];let D={x:0,y:0,w:C,h:_},V={x:0,y:0},G={x:N.x,y:N.y},K={w:ee.x-Z.x,h:de.y-N.y,x:Z.x,y:N.y},ne=[{x:K.x+K.w*.5,y:K.y+K.h*.5},{x:K.x+K.w,y:K.y+K.h}],W=this.getIntersection(ne,[ee,de]),U=this.getIntersection(ne,[Z,de]),J=!1,ae=Cs.default.minBy([U,W],_e=>_e.y<ne[0].y?9e9:_e.y);if(ae==U)D.x=de.x,D.y=de.y;else{let _e=this.getDistance(ee,ae);this.getDistance(de,ae)<_e?(D.x=de.x,D.y=de.y):(D.x=ee.x,D.y=ee.y,J=!0)}let ue,he=0,me=0;if(J){let _e=this.getAngle(ee,N),ct=Math.PI-(Math.abs(_e)+Math.PI*.5),st=_*Math.cos(ct),$e=-Math.cos(ct+Math.PI*.5)*st,je=-Math.sin(ct+Math.PI*.5)*st;G={x:Z.x+-$e,y:Z.y+-je+_},D.x=D.x+$e+-C,ue=D.y+je+_;let $t=[{x:N.x-C,y:ue},{x:N.x-C,y:ue-10}],Ut=[{x:N.x,y:ue},{x:N.x,y:ue-10}],_t=[this.getIntersection($t,[Z,N]),this.getIntersection($t,[N,ee]),this.getIntersection(Ut,[Z,N]),this.getIntersection(Ut,[N,ee])],Lt=Cs.default.maxBy(_t,Yt=>Yt.y);D.y=Lt.y,D.h=ue-D.y;let rt=Math.max(0,S.bottom+(_+je)+-Ze.data.window.h+-(de.y-ee.y));me=D.h-_+-rt,he=this.getIntersection([{x:D.x,y:D.y+me},{x:D.x-10,y:D.y+me}],[N,ee]).x-D.x+-C}else{let _e=this.getAngle(de,ee),ct=Math.PI-(Math.abs(_e)+Math.PI*.5),st=C*Math.cos(ct),$e=-Math.cos(ct)*st,je=-Math.sin(ct)*st;if(ue=D.y+je,D.x=D.x+$e,D.y=ee.y,D.h=ue-ee.y,G={x:N.x+-$e+-C,y:N.y+-je},Math.abs(this.getSlope(ee,de))>1&&S.bottom+je>=Ze.data.window.h){let Ut=S.bottom+-Ze.data.window.h,_t={x:de.x,y:de.y-Ut},Lt=this.getIntersection([_t,{x:_t.x+10,y:_t.y}],[de,ee]);he=Lt.x-(D.x+D.w),me=Lt.y-D.y+-_}else{let Ut=[{x:D.x,y:ue},{x:D.x,y:ue-10}],_t=[{x:D.x+D.w,y:ue},{x:D.x+D.w,y:ue-10}],Lt=[this.getIntersection(Ut,[Z,N]),this.getIntersection(Ut,[N,ee]),this.getIntersection(_t,[Z,N]),this.getIntersection(_t,[N,ee])],rt=Cs.default.maxBy(Lt,Yt=>Yt.y);D.y=rt.y,D.h=ue-D.y;let Hi=Math.max(0,S.bottom+-Ze.data.window.h+je);me=D.h-_+-Hi,he=0}}V.x=D.x+he,V.y=Math.max(D.y,D.y+me);let Ae=Math.max(0,S.left+S.width+-Ze.data.window.w);V.x=Math.min(V.x,ee.x-(Ae+C));let Ie=Math.min(0,S.left),De=Math.min(0,S.top);G.x=Math.max(G.x,-Ie+Z.x),G.y=Math.max(G.y,-De+N.y);let He=this.getIntersection([G,{x:G.x,y:G.y+10}],[Z,de]);G.y=Math.min(G.y,He.y+-_);let ut=(Y+2)%4;J&&(ut=(ut+3)%4);let Ve="nwse-resize",ot=this.getAngle(V,X[(ut+2)%4]);Math.abs(Math.PI*.5-ot)<.4?Ve="ns-resize":Math.abs(Math.PI-Math.abs(ot))<.4&&(Ve="ew-resize"),this.setState({mediaCornerPositions:X,resizeCorner:ut,contextPos:G,handlePos:V,cursorOrientation:Ve,handleTrack:D,overlayPosition:v,editorMediaFramePosition:{x:z.x,y:z.y},editorFramePosition:{x:0,y:0}})};getAngle=(e,t)=>Math.atan2(-(t.y-e.y),t.x-e.x);getDistance=(e,t)=>Math.sqrt(Math.pow(t.y-e.y,2)+Math.pow(t.x-e.x,2));getSlope=(e,t)=>(t.y-e.y)/(t.x-e.x);getIntersection=(e,t)=>{let r=this.getSlope(...e),n=this.getSlope(...t),s,l;return r==0?(isFinite(n)?s=(n*t[0].x-(t[0].y-e[0].y))/n:s=t[0].x,l=e[0].y):isFinite(r)?(s=(n*t[0].x-r*e[0].x-(t[0].y-e[0].y))/(n-r),l=r*(s-e[0].x)+e[0].y):(s=e[0].x,l=n*(s-t[0].x)+t[0].y),isFinite(s)||(s=null),isFinite(l)||(l=null),{x:s,y:l}}},PT=Ry});function h8(i){return Et({updateFrontendState:actions.updateFrontendState},i)}var AT,Xc,uf,f8,m8,RT=B(()=>{Ce();We();ri();ht();AT=fe(Se(),1);Ne();Gr();Ni();rf();Si();Cy();_T();ET();Ki();IT();ya();te();Ce();se||(Xc=new ResizeObserver(function(i){i.forEach(function(e){if(e.contentRect.width==0&&e.contentRect.height==0&e.contentRect.top==0&&e.contentRect.left==0)return;let t=0,r=0,n=0,s=0,l=0,u=0,c=0,d=0,f=0,g=0,v=e.target.tagName==="DIV";if(e.contentBoxSize&&e.borderBoxSize&&!v)e.borderBoxSize.length?(t=e.borderBoxSize[0].blockSize-e.contentBoxSize[0].blockSize,r=e.borderBoxSize[0].inlineSize-e.contentBoxSize[0].inlineSize):(t=e.borderBoxSize.blockSize-e.contentBoxSize.blockSize,r=e.borderBoxSize.inlineSize-e.contentBoxSize.inlineSize);else{let S=window.getComputedStyle(e.target);n=parseFloat(S.getPropertyValue("padding-left"))||0,s=parseFloat(S.getPropertyValue("padding-right"))||0,l=parseFloat(S.getPropertyValue("border-right-width"))||0,u=parseFloat(S.getPropertyValue("border-left-width"))||0,c=parseFloat(S.getPropertyValue("padding-top"))||0,d=parseFloat(S.getPropertyValue("padding-bottom"))||0,f=parseFloat(S.getPropertyValue("border-bottom-width"))||0,g=parseFloat(S.getPropertyValue("border-top-width"))||0,t=c+d+g+f,r=n+s+l+u}jt(e.target,"elementResize",{padSize:r,vertPadSize:t,horizPadSize:r,width:e.contentRect.width,height:e.contentRect.height,leftPad:n,rightPad:s,leftBorder:l,rightBorder:u,topPad:c,bottomPad:d,bottomBorder:f,topBorder:g},{bubbles:!1})})}));uf=class extends xi{constructor(e){super(e),this.state={zoomTemporarilyDisabled:!1,scrollTransitionDisabled:!1,slottedMediaNode:null,nativeMediaDimensions:{width:null,height:null},dimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0},mediaDimensions:{padSize:0,vertPadSize:0,horizPadSize:0,width:0,height:0,leftPad:0,rightPad:0,leftBorder:0,rightBorder:0,topPad:0,bottomPad:0,bottomBorder:0,topBorder:0},isVisible:!1,viewportIntersection:{hasLayout:!1,visible:!1,position:"unknown"},isLazyLoadable:!1,loaded:!1},this.uid=AT.default.uniqueId(),this.figureRef=ve(),this.mediaRef=ve(),this.lastMediaRef=ve(),this.figCaptionRef=ve(),this.sizingFrameRef=ve(),Object.defineProperty(this.props.baseNode,"_size",{get:()=>({width:this.props.width??this.props.model?.width??this.state.nativeMediaDimensions.width??1600,height:this.props.height??this.props.model?.height??this.state.nativeMediaDimensions.height??1e3,mediaItemSize:this.state.dimensions,mediaSize:this.state.mediaDimensions}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_nativeMediaDimensions",{get:()=>({width:this.state.nativeMediaDimensions.width??1600,height:this.state.nativeMediaDimensions.height??1600}),configurable:!0}),Object.defineProperty(this.props.baseNode,"_model",{get:()=>this.props.model||null,configurable:!0});let t=this.props.baseNode.onload;Object.defineProperty(this.props.baseNode,"onload",{get:()=>this.onloadCallback,set:n=>{this.onloadCallback=n,this.state.loaded&&n&&this.onLoad()},configurable:!0}),this.props.baseNode.onload=t;let r=this.props.baseNode.onerror;Object.defineProperty(this.props.baseNode,"onerror",{get:()=>this.onErrorCallback,set:n=>{this.onErrorCallback=n},configurable:!0}),this.props.baseNode.onerror=r,this.props.baseNode._setZoomStatus=n=>{this.setState(s=>s.zoomTemporarilyDisabled===n?null:{zoomTemporarilyDisabled:n})},this.props.baseNode._setScrollTransitionStatus=n=>{this.setState(s=>s.scrollTransitionDisabled===n?null:{scrollTransitionDisabled:n})},this.props.baseNode.getFileType=this.getFileType}handleClick=e=>{if(e?.defaultPrevented)return;let t=e.composedPath();if(t.find(d=>d.tagName==="A"))return;let n=this.props.baseNode.shadowRoot.querySelector("a.sizing-frame"),s=!1,l=window.getSelection();if(l&&l.rangeCount>0&&!this.props.adminMode){let d=l.getRangeAt(0);d&&d.commonAncestorContainer&&!d.collapsed&&this.props.baseNode.contains(d.commonAncestorContainer)&&(s=!0)}if(n&&!s&&!this.props.adminMode){n.click();return}let u=this.getFileType(),c=this.isZoomable();if((u==="video"||u.startsWith("vimeo")||u.startsWith("youtube"))&&(!this.props.adminMode&&e.detail==1||e.detail==2)&&!this.props.autoplay&&!c){if(t.some(d=>d.nodeName=="VIDEO"||d.nodeName==="IFRAME")&&this.props["browser-default"])return;e.preventDefault(),this.props.baseNode.playing?this.props.baseNode.pause():this.props.baseNode.play();return}!c||s||!t.find(d=>d&&d.classList?.contains("sizing-frame"))||this.props.adminMode||(e.preventDefault(),fy(this.props.baseNode))};isZoomable=()=>this.props["force-quick-view"]||this.props.imageSettings.image_zoom&&!this.props["disable-zoom"]&&!this.props.href&&!this.state.zoomTemporarilyDisabled;getFileType=()=>{let{model:e,src:t,"dynamic-src":r}=this.props;if(t=r||t,this.props["dynamic-filetype"]!==void 0&&this.props["dynamic-filetype"]!==null)return this.props["dynamic-filetype"];let n="none";if(e)e.is_image?n="image":e.is_video?n="video":e.is_url&&(n="url",e.url_type&&!e.url_id?n=e.url_type:e.url_id&&e.url_type&&(n=e.url_type+":"+e.url_id));else if(t){let f=t.toLowerCase();if(f.endsWith(".mov")||f.endsWith(".mp4")||f.endsWith(".webm"))n="video";else if(f.endsWith(".png")||f.endsWith(".webp")||f.endsWith(".jpg")||f.endsWith(".jpeg")||f.endsWith(".gif")||f.endsWith(".avif")||f.endsWith(".apng")||f.endsWith(".svg"))n="image";else{n="url";var s="",l=/(?:<iframe [^>]*src=")?(?:https?:\/\/(?:[\w]+\.)*vimeo\.com(?:[\/\w:]*(?:\/videos)?)?\/([0-9]+)[^\s]*)"?(?:[^>]*><\/iframe>)?(?:<p>.*<\/p>)?/,d=t.match(l);if(d&&d[0]){let g=d[0].split(/\/|\?h=|&|\?/);for(var u=0;u<g.length;u++)!g[u].includes(":")&&!g[u].includes(".")&&!g[u].includes("vimeo")&&!g[u].includes("=")&&!g[u].includes("video")&&!g[u].includes("showcase")&&!g[u].includes("player")&&g[u].length>3&&(s.length==0?s=g[u]:s+="/"+g[u]);n="vimeo:"+s}var c=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,d=t.match(c);d&&d[7].length==11&&(s=d[7],n="youtube:"+s)}}return n};onCaptionClick=e=>{this.props.adminMode||e.target.closest("a")&&e.stopPropagation()};render(e,t,r){let{dimensions:n,mediaDimensions:s,viewportIntersection:l,loading:u,nativeMediaDimensions:c,scrollTransitionDisabled:d}=t,{rotation:f,drag:g,"force-visible":v,"dynamic-src":S,adminMode:C,imageSettings:_,pageInfo:M,width:T,height:F,baseNode:H,model:L,posterModel:z,href:ie,src:X,hash:N,isMobile:ee}=e,de=v??this.state.isVisible,Z=v??this.state.isLazyLoadable,{uid:Y}=this,D=this.props.scale!==void 0?this.props.scale:ee&&_.mobile_image_width_maximize?"100%":_.scale,V=this.props["limit-by"]!==void 0?this.props["limit-by"]:ee&&_.mobile_image_width_maximize?"width":_.limit_by;X=S||X;let G=T??L?.width??c.width??1600,K=F??L?.height??c.height??1e3,ne=Zt(D,V=="height"?"rem":"%"),W=K/G,J=s.width*W,ae=s.horizPadSize+n.horizPadSize,ue=s.vertPadSize+n.vertPadSize,he=s.width+s.horizPadSize,Ae=(J+s.vertPadSize)/he,Ie=ne.join(""),De,He=null;isNaN(Ae)&&(Ae=K/G);let ut=G.toString().trim().endsWith("%"),Ve=K.toString().trim().endsWith("%"),ot=Zt(G,"%"),_e=Zt(K,"%");if(ut&&Ve)V==="width"||V=="height"?(Ie=`calc(${ot[0]*.01} * var(--resize-parent-width, 100%) )`,He=`calc( var(--fit-height) * ${_e[0]*.01} )`,De="var(--custom-fit-height)"):(Ie=`calc(${ot[0]*ne[0]*1e-4} * var(--resize-parent-width, 100%) )`,He=`calc( var(--fit-height) * ${_e[0]*ne[0]*1e-4} )`,De="var(--custom-fit-height)");else if(V=="height")if(Ve)He=`calc( var(--fit-height) * ${_e[0]*.01} )`,De="var(--custom-fit-height)",Ie=`${ot[0]*.01}px`;else{let rt="";ne[1]=="%"?rt=`( ${ne[0]*.01} * var(--resize-parent-width, 100%) )`:ne[1].indexOf("calc(")>-1?(ne[1]=ne[1].replace(/[\d*\.]+%/g,function(Hi){return`( ${Zt(Hi,"%")[0]*.01} * var(--resize-parent-width, 100%) )`}),rt=ne[1].replace("calc(","(")):rt=ne.join(""),ut?(Ie=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,De=`calc( ${rt} )`):(Ie=`calc( ( ${rt} - ${ue}px ) * ( 1 / ${W} ) + ${ae}px )`,De=Ae*100+"%")}else V==="width"?ut?(Ie=`calc( ${ot[0]*.01} * var(--resize-parent-width, 100%) )`,De=`${_e[0]}px`):(ne[1]=="%"?Ie=`calc(${ne[0]*.01} * var(--resize-parent-width, 100%) )`:(ne[1].indexOf("calc(")>-1&&(ne[1]=ne[1].replace(/[\d*\.]+%/g,function(rt){return`( ${Zt(rt,"%")[0]*.01} * var(--resize-parent-width, 100%) )`})),Ie=ne.join("")),Ve?(He=`calc( var(--fit-height) * ${_e[0]*.01} )`,De="var(--custom-fit-height)"):De=Ae*100+"%"):ut?(Ie=`calc(${ot[0]*ne[0]*1e-4} * var(--resize-parent-width, 100%) )`,He=`calc( min( var(--fit-height) * ${ne[0]*.01} , ${_e[0]*ne[0]*.01}px ) )`,De="var(--custom-fit-height)"):Ve?(Ie=`calc( min( ${ne[0]*.01} * var(--resize-parent-width, 100%) , ${ot[0]*ne[0]*.01}px ) )`,He=`calc(  var(--fit-height) * ${ne[0]*_e[0]*1e-4}  )`,De="var(--custom-fit-height)"):(Ie=`calc( ( ( var(--fit-height, 50vh) * ${ne[0]/100} ) - ${ae}px ) * ( 1 / ${W} ) + ${ae}px )`,De=Ae*100+"%");let ct=_?.scroll_animation&&e["disable-scroll-animation"]!==!0&&!d&&this.props.scrollContext.scrollUid!=="default",st=this.props.uses||"";st.indexOf("scroll-transition")===-1&&ct&&(st=st+" scroll-transition");let $e=null,je=this.getFileType()||"",$t=this.isZoomable(),Ut=e.autoplay&&e.muted;switch(!0){case(!Ut&&$t&&je.startsWith("youtube")&&z&&!e["browser-default"]):case(!Ut&&$t&&je.startsWith("vimeo")&&z&&!e["browser-default"]):case(!Ut&&$t&&je==="video"&&z&&!e["browser-default"]):case($t&&je==="url"&&z):$e=m(Kc,{...e,model:z,isZoomable:$t,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:Z,renderWidth:s.width,renderHeight:s.height,part:"media",onError:this.onErrorCallback});break;case je=="video":case je.startsWith("vimeo:"):case je.startsWith("youtube:"):$e=m(ST,{...e,baseNode:this.props.baseNode,isZoomable:$t,ref:this.mediaRef,onLoad:this.onLoad,visible:de,fileType:je,isLazyLoadable:Z,renderWidth:n.width,renderHeight:n.height,src:X});break;case je=="image":$e=m(Kc,{...e,isZoomable:$t,ref:this.mediaRef,onLoad:this.onLoad,isLazyLoadable:Z,renderWidth:s.width,renderHeight:s.height,part:"media",onError:this.onErrorCallback});break;case je=="url":$e=m(CT,{...e,loaded:this.state.loaded,onLoad:this.onLoad,ref:this.mediaRef,isLazyLoadable:Z,src:X});break;default:$e=m("div",{ref:this.mediaRef,className:"placeholder",part:"media placeholder",width:"1600",height:"1000",draggable:"true",children:m("svg",{preserveAspectRatio:"none",part:"placeholder-svg",viewBox:"0 0 1600 1600",style:{display:"block",width:"100%",height:"100%"},children:[m("rect",{part:"placeholder-rect"}),m("line",{part:"placeholder-line","vector-effect":"non-scaling-stroke",x1:"0",y1:"0",x2:"1600",y2:"1600",stroke:"rgb(200,200,200)","stroke-width":"1"})]})});break}let _t=m("slot",{onSlotChange:this.onMediaSlotChange,name:"custom-media",children:$e},"media-slot-key"),Lt=m(Q,{children:[m("style",{id:"media-item",children:`
:host {
	${!C&&ie&&ie!==""?"cursor: pointer;":""}
	display: inline-flex;
	vertical-align: bottom;
	flex-direction: column; 
	position: relative;

	width: var(--resize-parent-width, 100%);
	max-width: ${Ie||"100%"};
	${He?`--custom-fit-height: ${He};`:""}
	transform-origin: center center;

	margin: 0;
	padding: 0;
	z-index: var(--z-index, initial);    
}
 :host, * {
	box-sizing: border-box;
}
a {
	cursor: inherit;
}

figure {
	flex-direction: column;
	position: relative;
	display: flex;
	width: 100%;
	margin: 0;
	padding: 0;
	z-index: 2;
}

::slotted(figcaption){
	-webkit-user-select: text;	
	user-select: text;
	width: 100%;
}

:host([image-fit="fit"]) {
	--object-fit: contain;
}
:host([image-fit="fill"]) {
	--object-fit: cover;
}
:host([image-fit="stretch"]) {
	--object-fit: fill;
}

[part*="media"],
[part*="video"],
[part*="poster"] {
	object-fit: var(--object-fit, cover);
}

[part*="media"]:-webkit-full-screen,
[part*="media"]:fullscreen,
[part*="video"]:-webkit-full-screen,
[part*="video"]:fullscreen {
	object-fit: contain!important;
}


.sizing-frame {
	display: block;
	width: 100%;
	flex-grow: 1;
	height: 0;
	padding-bottom: var(--frame-padding, ${De});
	position: relative;
}

.frame {
	display:contents;
}

/* for images and custom media */
::slotted([slot="custom-media"]),
[part*="media"] {
	object-position: center center;
	display: block;
	margin: 0;
	width: 100%;
	min-width: 100%;
	min-height: 100%;
	height: 100%;
	position: absolute;
	overflow: clip;
	overflow-clip-margin: content-box;
	inset: 0;
}

/*
	for URL fileType and default setup for iframe-videos
*/
iframe {
	opacity: 0;
	pointer-events: ${!C&&!this.props.href&&!$t?"auto":"none"};
}

iframe.loaded {
	opacity: 1;
}

/* enable proper padding cropping for videos, in most scenarios */
.video-player-crop {
	all: inherit;
	filter: unset;
	will-change: unset;
	width: unset;
	height: unset;
	padding: 0;
	border-left-width: ${s.leftPad+s.leftBorder}px;
	border-right-width: ${s.rightPad+s.rightBorder}px;
	border-top-width: ${s.topPad+s.topBorder}px;
	border-bottom-width: ${s.bottomPad+s.bottomBorder}px;
	top: ${-s.topBorder}px;
	left: ${-s.leftBorder}px;
	right: ${-s.rightBorder}px;
	bottom: ${-s.bottomBorder}px;

	min-width: unset;
	min-height: unset;

	margin: auto;
	border-color: transparent;
	background: transparent;
}

/* for video filetype */
[part*="video"], [part*="poster"] {
	object-position: 50% 50%;	
	display: block;
	margin: 0;
	width: 100%;
	height: 100%;
	position: absolute;
	inset: 0;
}

[part*="video"] iframe[part*="iframe"] {
	opacity: 1;
}

[part*="poster"] {
	object-fit: cover;
	z-index: 2;
	opacity: 0;
}
${e["browser-default"]?`[part*="poster-playing"],
[part*="poster-paused"]{
	pointer-events:none;
}
`:""}	
[part*="poster-stopped"]{
	opacity: 1;
}
${u?`[part*="media"] {
	opacity: 0;
}`:""}

${C?`
::slotted(video[slot="custom-media"]),
::slotted(iframe[slot="custom-media"]){
	pointer-events:none;
}

[part*="media"] iframe {
	pointer-events:none!important;
}

`:`
[part*="media"].image-zoom {
	cursor: -webkit-zoom-in;
	cursor: -moz-zoom-in;
	cursor: zoom-in;
}	
`}

${M.isEditing?`
:host, * {
	-webkit-user-select: text;
	user-select: text;	
}
`:""}

				`}),m(dn,{uses:st,visibility:l,onLazyLoadChange:this.onlazyLoadChange,adminMode:C,customElementMode:!0,baseNode:H,children:m("figure",{draggable:this.props.adminMode?"true":null,part:"figure",ref:this.figureRef,children:[m("div",{part:"frame",className:"frame",children:this.props.href!==void 0?m("a",{ref:this.sizingFrameRef,className:"sizing-frame",part:"link sizing-frame",href:this.props.href,rel:this.props.rel,target:this.props.target,"data-tags":this.props["data-tags"],children:_t}):m("div",{ref:this.sizingFrameRef,className:"sizing-frame",part:"sizing-frame",children:_t})}),m("slot",{name:"caption",onSlotChange:this.onCaptionSlotChange})]})},"media-host"),M.isEditing&&C&&Vt(PT,{...this.props,fileType:je,limitBy:V,width:T,height:F,rotation:f||0,scale:D,scrollContext:this.props.scrollContext,key:`media-item-editor-${this.uid}`,baseNode:H,nativeMediaDimensions:this.state.nativeMediaDimensions,figCaptionElement:this.figCaptionRef.current,sizingFrameElement:this.sizingFrameRef.current,figureElement:this.figureRef.current,mediaElement:this.mediaRef.current,size:this.props.baseNode._size,uid:this.uid})]},"media-item-fragment");return Ge(Lt,H.shadowRoot)}onViewportIntersectionChange=e=>{this.state.viewportIntersection?.position!==e.position?this.setState({isVisible:e.position==="inside",viewportIntersection:e}):(this.state.viewportIntersection.hasLayout!==e.hasLayout||this.state.viewportIntersection.visibility!==e.visibility)&&this.setState({viewportIntersection:e})};onLazyloadIntersectionChange=e=>{let t=e.position==="inside";this.state.isLazyLoadable!==t&&this.setState({isLazyLoadable:t})};onCaptionSlotChange=e=>{let t=e.target.assignedNodes();t[0]?this.figCaptionRef.current=t[0]:this.figCaptionRef.current=null};onMediaSlotChange=e=>{let t=e.target.assignedNodes();t[0]?(this.setState({nativeMediaDimensions:{width:parseFloat(t[0].getAttribute("width"))||null,height:parseFloat(t[0].getAttribute("height"))||null},slottedMediaNode:t[0]}),this.mediaRef.current=t[0]):this.setState({nativeMediaDimensions:{width:null,height:null},slottedMediaNode:null})};bindMediaListeners=e=>{if(!e)return;let t=parseFloat(e.getAttribute("width"))||null,r=parseFloat(e.getAttribute("height"))||null;t&&r&&this.state.nativeMediaDimensions.width!==t&&this.state.nativeMediaDimensions.height!==r&&this.setState({nativeMediaDimensions:{width:t,height:r}}),di(e,"elementResize",this.onMediaResize),Xc.observe(e)};unbindMediaListeners=e=>{e&&(this.setState({nativeMediaDimensions:{width:null,height:null}}),vi(e,"elementResize",this.onMediaResize),Xc.unobserve(e))};componentDidMount(){if(se)return;this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable"),this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked");let e=this.props["dynamic-src"]||this.props.modelSrc||this.props.src;this.props.hash==="placeholder"&&!e&&!this.props.baseNode.hasAttribute("hash")&&this.onLoad(),di(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),di(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),di(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.addEventListener("click",this.handleClick),this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current,Xc.observe(this.props.baseNode)}componentWillUnmount(){se||(cancelAnimationFrame(this.itemResizeAfterModelChange),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),vi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),vi(this.props.baseNode,"elementResize",this.onResize),this.props.baseNode.removeEventListener("dragstart",this.onDragStart),this.props.baseNode.removeEventListener("click",this.handleClick),Xc.unobserve(this.props.baseNode),this.unbindMediaListeners(this.mediaRef.current))}componentDidUpdate(e,t){(this.props.hash!==e.hash||this.props.src!==e.src)&&this.setState({nativeMediaDimensions:{width:null,height:null}});let r=this.getFileType();if((r.startsWith("vimeo")||r.startsWith("youtube"))&&(e.src!==this.props.src||e.autoplay!==this.props.autoplay||e["browser-default"]!==this.props["browser-default"]||e.loop!==this.props.loop||e.muted!==this.props.muted)&&this.setState({loaded:!1}),(this.props.imageSettings.image_zoom!==e.imageSettings.image_zoom||this.props["disable-zoom"]!==e["disable-zoom"]||this.state.zoomTemporarilyDisabled!==t.zoomTemporarilyDisabled)&&(this.isZoomable()?this.props.baseNode.classList.add("zoomable"):this.props.baseNode.classList.remove("zoomable")),this.props.href!==e.href&&(this.props.href!==void 0?this.props.baseNode.classList.add("linked"):this.props.baseNode.classList.remove("linked")),this.props.itemLoad!==e.itemLoad&&this.props.itemLoad&&this.state.loaded&&this.onLoad(),this.props.itemResize&&(this.props.model&&e.model&&e.model.hash!==this.props.model.hash||this.props.width!==e.width||this.props.height!==e.height||this.state.nativeMediaDimensions.width!==t.nativeMediaDimensions.width||this.state.nativeMediaDimensions.height!==t.nativeMediaDimensions.height)&&this.props.itemResize(this.props.baseNode._size,this.props.baseNode),e.hash!=="placeholder"&&this.props.hash==="placeholder"&&this.onLoad(),this.state.dimensions.width!=t.dimensions.width||this.state.dimensions.height!=t.dimensions.height||this.state.dimensions.padSize!=t.dimensions.padSize||this.state.mediaDimensions.padSize!=t.mediaDimensions.padSize){if(this.props.baseNode.slot&&!this.props.baseNode.assignedSlot)return;typeof this.props.itemResize=="function"&&this.props.itemResize({mediaPadSize:this.state.mediaDimensions.padSize||0,...this.state.dimensions},this.props.baseNode)}this.lastMediaRef.current!==this.mediaRef.current&&(this.unbindMediaListeners(this.lastMediaRef.current),this.bindMediaListeners(this.mediaRef.current),this.lastMediaRef.current=this.mediaRef.current)}onSetZoomDisabled=e=>{};onResize=e=>{this.setState({dimensions:{...e}})};onMediaResize=e=>{(e.width!==this.state.mediaDimensions.width||e.horizPadSize!==this.state.mediaDimensions.horizPadSize||e.vertPadSize!==this.state.mediaDimensions.vertPadSize||e.height!==this.state.mediaDimensions.height)&&this.setState({mediaDimensions:{...e}})};onDragStart=e=>{typeof this.props.itemDragStart=="function"&&this.props.itemDragStart(e);let t=this.props.baseNode.querySelector("figcaption");this.props.baseNode.contains(e.target)&&(t&&!t.contains(e.target)||!t)&&this.props.adminMode&&this.props.pageInfo.isEditing&&e.dataTransfer.setData("media-drag","true")};onLoad=e=>{this.setState(t=>e&&(e.width!==t.nativeMediaDimensions.width||e.height!==t.nativeMediaDimensions.height)?{nativeMediaDimensions:{...e},loaded:!0}:{loaded:!0},()=>{this.onloadCallback&&this.onloadCallback(this.props.baseNode),this.props.itemLoad&&this.props.itemLoad(this.props.baseNode)})}};uf.defaultProps={scale:void 0,"limit-by":void 0,"force-quick-view":!1,"disable-zoom":!1,"disable-scroll-animation":!1,width:void 0,height:void 0,hash:"placeholder",src:void 0,rotation:0,model:null,"image-fit":"fill","play-on":"click",autoplay:!1,muted:!1,loop:!1,"browser-default":!1,"playback-rate":1};f8=Ht(Oe((i,e)=>{let t=e["dynamic-hash"]||e.hash||null,r=t?it.getMediaByHash(i)[t]:null;e.model&&(r=e.model);let n=e.poster||null,s=null,l;return e.posterModel?s=e.posterModel:n&&!n.includes?.(".")&&(s=it.getMediaByHash(i)[n]||null),{posterModel:s,model:r,isMobile:i.frontendState.isMobile,adminMode:i.frontendState.adminMode,imageSettings:{limit_by:"width",scale:"100%",...i.siteDesign.images}}},h8)(uf)),m8=["itemResize","itemLoad","itemDragStart","model","dynamic-hash","dynamic-filetype","dynamic-src","rotation","limit-by","disable-zoom","disable-scroll-animation","scale","hash","src","alt","href","rel","target","tag-text","autoplay","muted","loop","poster","play","browser-default","playback-rate","image-fit","width","height"];Jt(f8,"media-item",m8)});var tle,My,MT,TT=B(()=>{Ce();tle=fe(Se(),1);Ot();ql();te();My=class extends oe{constructor(e){super(e)}render(e,t){let{galleryInstance:r,"vertical-align":n}=e;return m(ro,{...e,disabledFigureOptions:["scale"],gallerySpecificAttributes:this.props.gallerySpecificAttributes,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},galleryInstance:r,onCleanUp:(s,l,u,c,d,f)=>{u.forEach(g=>{g.getAttribute("grid-vertical-align")===n&&g.removeAttribute("grid-vertical-align"),g.getAttribute("grid-span")===1&&g.removeAttribute("grid-span")}),l.forEach(g=>{g&&(g.classList.remove("last-column"),g.classList.remove("last-row"),g.classList.remove("orphaned-item"))}),this.props.onCleanUp&&this.props.onCleanUp(s,l,u,c,d,f)}})}spanResize=(e,t)=>{let r=this.convertWidthToSpans(t);return{...t,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,t)=>{let r=this.convertWidthToSpans(t);r===1?e.removeAttribute("grid-span"):e.setAttribute("grid-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:t}=this.props,r=t.findIndex((n,s)=>{let l=t[s+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},MT=My});var cf,hn,df,Ty,pf=B(()=>{Ce();We();ht();vs();Bl();Ne();xa();ys();Ni();Ci();TT();cf=fe(Se(),1);Ki();te();hn={name:"grid",displayName:"Grid",tagName:"GALLERY-GRID",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Spans",name:"grid-span",type:"scrubber",value:1,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Vertical Align",name:"grid-vertical-align",type:"radio",value:"inherit",inheritsFrom:"vertical-align",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}]},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}]}]};hn.mediaItemDefaults=at(hn.mediaItemOptions);hn.defaults=at(hn.options);hn.mobileDefaults=at(hn.mobileOptions);df=class extends oe{constructor(e){super(e),this.state={isMobile:Ze.data.mobile.active,sizeIncrement:0,elWidth:1e3,gutterWidth:0,gutterHeight:0,hasSizes:!1,renderLimit:250},this.uid=cf.default.uniqueId(),this.paginationWatcherRef=ve(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let t=this.state.renderLimit+100;if(this.setState({renderLimit:t}),t>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,250))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,t){let{adminMode:r,baseNode:n,pageInfo:s}=e,{isMobile:l,gutterWidth:u,gutterHeight:c,hasSizes:d}=t,{elWidth:f}=t;d||(f=this.props.baseNode.offsetWidth);let g=this.state.isMobile&&this.props["mobile-vertical-align"]!==void 0?this.props["mobile-vertical-align"]:this.props["vertical-align"];this.props.verticalAlign&&(g=this.props.verticalAlign);let v=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;v=Math.max(1,parseInt(v))||1;let C=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),_=(C.length>1,C[0]);_=Zt(_,"rem"),_[1]=="rem"&&l&&(_=["","calc( var(--mobile-padding-offset, 1) * "+_.join("")+" )"]);let M=C.length>1?C[1]:C[0];M=Zt(M,"rem"),M[1]=="rem"&&l&&(M=["","calc( var(--mobile-padding-offset, 1) * "+M.join("")+" )"]);let{columnAndGutterMap:T,columnWidth:F,gutterPixelWidth:H}=Ul(v,u,f),L=this.getMediaItems(),z=[],ie=0,X=0,N=l&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns);L.forEach((D,V)=>{if(V>this.state.renderLimit)return;z[ie]||(z[ie]=[]);let G=N?1:parseInt(D.getAttribute("grid-span"))||1;X%v+G>v&&(G=v-X%v);let K=D.getAttribute("grid-vertical-align")||null;z[ie].push({index:V,spans:G,hasOrphans:!1,verticalAlign:K,el:D}),X=X+G,X%v==0&&ie++,X%v!=0&&V==L.length-1&&(z[z.length-1].hasOrphans=!0)});let ee=L.length%v,de=[],Z=[];z.forEach((D,V)=>{let G=cf.default.sumBy(D,ue=>ue.spans),K=0,ne=[],W=0,U=0,J=D.map((ue,he)=>{let me=ue.spans,Ae=ue.el._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0,horizPadSize:0,vertPadSize:0},mediaItemSize:{width:0,height:0,padSize:0,vertPadSize:0,horizPadSize:0}},Ie=K,De=K+me+-1,He=F*me+u*(me-1),ut=(He+-Ae.mediaItemSize.horizPadSize+-Ae.mediaSize.horizPadSize)/Ae.width||1,Ve=Math.round(Ae.height*ut+Ae.mediaSize.vertPadSize)||300;He=T[De].right-T[Ie].left,K+=me,W=Math.max(W,Ve);let ot={},_e=` --grid-width: ${He}px;`;return ot.orphanedItem=D.hasOrphans,he===D.length-1?(ot.lastColumn=!0,ue.index<L.length-1&&(_e=` --grid-width: ${f-U}px;`),U=0):U=U+He+u,V==z.length-1&&(ot.lastRow=!0),ot.gridItemPixelHeight=Ve,ot.gridItemPixelWidth=He,ot.gridWidthStyle=_e,ot});var ae=cf.default.maxBy(J,ue=>ue.gridItemPixelHeight);W=ae.gridItemPixelHeight,D.forEach((ue,he)=>{let me=J[he],Ae=0,Ie=g;switch(ue.verticalAlign){case"top":case"center":case"bottom":Ie=ue.verticalAlign;break}switch(Ie){case"top":Ae=0;break;case"center":Ae=(W-me.gridItemPixelHeight)*.5;break;case"bottom":Ae=W-me.gridItemPixelHeight;break}let De=`margin-top: ${Ae}px; --frame-padding: ${me.gridItemPixelHeight}px; ${me.gridWidthStyle}`;de.push({slot:"row-"+V+"-"+ue.index,itemResize:this.onItemResize,"limit-by":null}),Z.push({style:De,itemStatuses:me})})}),L.forEach((D,V)=>{let G=de[V]||{slot:null},K=D._props||{};no(D,{...K,...G},K,!1,!1)});let Y=[];return z.forEach((D,V)=>{Y.push(m("div",{className:`row ${D.hasOrphans?"has-orphans":""}`,children:D.map(G=>(Z[G.index].slot="row-"+V+"-"+G.index,m("slot",{name:"row-"+V+"-"+G.index},"slot-"+V+"-"+G.index)))},"row-"+V))}),m(Q,{children:[this.props.children,Ge(m(Q,{children:[m("style",{children:`
						:host {
							display: block;
							width: var(--resize-parent-width, 100%);
							max-width: 100%;
							position: relative;							
			 				--grid-gutter-width: ${H}px;
							--grid-gutter-height: ${c}px;
							margin-top: calc(var(--gutter-expand, 0) * ${c}px );	
						}				

						* {
							box-sizing: border-box;
						}

						${Z.map((D,V)=>`::slotted(media-item[slot="${D.slot}"]) {
								${D.style}
								${D.itemStatuses.lastColumn&&!D.itemStatuses.orphanedItem?"flex-grow: 1; --object-fit: fill;":""}
								${D.itemStatuses.lastColumn?"":"margin-right: var(--grid-gutter-width);"}
								${D.itemStatuses.lastRow?"":"margin-bottom: var(--grid-gutter-height);"}
							} `).join("")}
								

						.row {
							max-width: ${f}px;
						    align-items: flex-start;
						    justify-content: flex-start;
							position: relative;
							display: flex;
							flex-direction: row;
							flex-wrap: nowrap;					
							width: 100%;
							clear: both;
						}				
		
						.row.has-orphans {
						    justify-content: flex-start;
						}

						${l&&e["mobile-horizontal-align"]?`
							:host([mobile-horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([mobile-horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([mobile-horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`:`
							:host([horizontal-align="left"]) .row.has-orphans {
								justify-content: flex-start;
							}
			
							:host([horizontal-align="center"]) .row.has-orphans {
								justify-content: center;
							}
			
							:host([horizontal-align="right"]) .row.has-orphans {
								justify-content: flex-end;
							}
						`}
		
						:host([hidden]) {
							display: none;
						}
		
						::slotted(media-item) {
							${r?"pointer-events: auto;":""}
							position: relative;
						    display: flex;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--grid-width);
						    width: var(--grid-width);
						}
		

		
					`}),m(Mr,{values:{elWidth:"100%",gutterWidth:_.join(""),gutterHeight:M.join("")},onResize:this.onResize}),r&&s.isEditing&&!se&&m(MT,{...e,gallerySpecificAttributes:["grid-span","grid-vertical-align"],galleryInstance:n,galleryComponent:this,columnAndGutterMap:T}),Y,m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ze.on("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current)}componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(t=>({sizeIncrement:t.sizeIncrement+1}))};onResize=(e,t)=>{this.setState(r=>{let n={...r};return n[e]=t,n.hasSizes=!0,n})}};df.defaultProps={"show-tags":!0,"show-title":!0,columns:hn.defaults.columns.value,gutter:hn.defaults.gutter.value,"vertical-align":hn.defaults["vertical-align"].value,"horizontal-align":hn.defaults["horizontal-align"].value};Ty=Ht(oo(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(df)));Jt(Ty,"gallery-grid",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","columns","gutter","mobile-columns","mobile-gutter","vertical-align","horizontal-align","mobile-horizontal-align","mobile-vertical-align"])});var Ele,ky,kT,NT=B(()=>{Ce();Ele=fe(Se(),1);Ot();ql();te();ky=class extends oe{constructor(e){super(e)}render(e,t){let{galleryInstance:r,gutterWidth:n,elWidth:s,elHeight:l,disabledAttributes:u}=e;return m(ro,{...e,dragIndicationType:"columns",gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:r,mediaItemEditorInfo:{disableResize:this.props.isMobile&&this.props["mobile-columns"]!==void 0&&this.props["mobile-columns"]!==this.props.columns,disableButton:!1,afterScaleChange:this.afterScaleChange,beforeScaleChange:this.spanResize,whileScaleChange:this.spanResize},disabledAttributes:u})}spanResize=(e,t)=>{let r=this.convertWidthToSpans(t);return{...t,displayScale:r>1?r+" columns":r+" column"}};afterScaleChange=(e,t)=>{let r=this.convertWidthToSpans(t);r===1?e.removeAttribute("columnized-span"):e.setAttribute("columnized-span",r),this.props.galleryComponent.onItemResize()};convertWidthToSpans=e=>{let{columnAndGutterMap:t}=this.props,r=t.findIndex((n,s)=>{let l=t[s+1]?.left||9e9,u=n.right-n.left;return e.width>=n.left+u*.5&&e.width<=l+u*.5})+1;return Math.max(1,r)}},kT=ky});var Ny,uo,hf,g8,Dy=B(()=>{Ce();We();ht();vs();Ne();xa();ys();Bl();Ni();NT();Ci();Ny=fe(Se(),1);Ki();te();uo={name:"columnized",displayName:"Columnized",tagName:"GALLERY-COLUMNIZED",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"Column Span",name:"columnized-span",type:"scrubber",value:1,min:1,max:11,step:1,numberOnlyMode:!0}],options:[{labelName:"Columns",name:"columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}],mobileOptions:[{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:3,min:1,max:12,step:1,numberOnlyMode:!0},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]}]};uo.mediaItemDefaults=at(uo.mediaItemOptions);uo.defaults=at(uo.options);uo.mobileDefaults=at(uo.mobileOptions);hf=class extends oe{constructor(e){super(e),this.state={elWidth:1e3,gutterWidth:0,gutterHeight:0,isMobile:Ze.data.mobile.active,sizeIncrement:0,hasSizes:!1}}render(e,t){let{gutterWidth:r,gutterHeight:n,isMobile:s,hasSizes:l}=t,{baseNode:u,adminMode:c,pageInfo:d}=e,{elWidth:f}=t;l||(f=this.props.baseNode.offsetWidth);let v=(this.state.isMobile&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter).split(" "),S=(v.length>1,v[0]);S.includes("rem")&&s&&(S="calc( var(--mobile-padding-offset, 1) * "+S+" )");let C=v.length>1?v[1]:v[0];C.includes("rem")&&s&&(C="calc( var(--mobile-padding-offset, 1) * "+C+" )");let _=this.state.isMobile&&this.props["mobile-columns"]!==void 0?this.props["mobile-columns"]:this.props.columns;_=Math.max(1,parseInt(_))||1;let{columnAndGutterMap:M,columnWidth:T,gutterPixelWidth:F,halfPixels:H}=Ul(_,r,f),L=Array.from(u.children).filter(V=>V.tagName=="MEDIA-ITEM"),z=[],ie=[],X=[],N=[],ee=0;ee=(f-(_-1)*r)/_;for(let V=0;V<Math.min(L.length,_);V++)z[V]=[],N[V]=[];for(let V=0;V<_;V++)ie[V]={height:0,marginTop:-r,index:V};let de=_>L.length,Z=[],Y=s&&!isNaN(parseInt(this.props["mobile-columns"]))&&parseInt(this.props["mobile-columns"])!==parseInt(this.props.columns),D=[];return L.forEach((V,G)=>{let K=Y?1:Math.min(parseInt(V.getAttribute("columnized-span"))||1,_);K=Math.min(K,L.length);let ne=-1,W=Ny.default.minBy(ie,st=>{ne++;let $e=ie.slice(ne+1,ne+K).map($t=>$t.height);if($e.length+1<K)return 9e9;let je=st.height==0?0:Math.abs((ne+(ne%2==0?.25:.75))*2-_);return Ny.default.mean([st.height,...$e])+je}),U=`column-${W.index}-slot-${G}`,J=W.height;W.index+K>_&&(K=_-W.index),X[W.index]=G;let ae=0,ue=null,he=T*K+r*(K-1),me=V._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};ae=me.mediaItemSize.height+me.mediaItemSize.padSize;let Ae=W.index,Ie=W.index+K+-1;he=M[Ie].right-M[Ae].left;let De=(he+-me.mediaItemSize.padSize+-me.mediaSize.padSize)/me.width||1;ue=H?Math.round((me.height*De+me.mediaSize.padSize)*2)/2||NaN:Math.round(me.height*De+me.mediaSize.padSize)||NaN,Number.isNaN(ue)&&(ue=300);let He=W,ut=W.height;for(let st=1;st<K;st++){let $e=W.index+st;ie[$e].height>=ut&&(He=ie[$e],ut=ie[$e].height)}let Ve=He.height,ot=He.height+me.mediaItemSize.height+me.mediaItemSize.padSize+r;for(let st=0;st<K;st++){let $e=W.index+st;st===0?(ie[$e].marginTop=ie[$e].marginTop+(Ve-ie[$e].height),ie[$e].height=ot):(ie[$e].marginTop=ie[$e].marginTop+(ot-ie[$e].height),ie[$e].height=ot)}let _e={},ct=ie[W.index].marginTop;ie[W.index].marginTop=0,_e.styleString="",ct!==n&&(_e.styleString+=` --column-gutter-height: ${ct+n}px;`),K>1&&(_e.styleString+=` --resize-parent-width:${he}px; min-width: ${he}px;`),ue!==null&&(_e.styleString+=` --frame-padding: ${ue}px;`),J===0&&(_e.firstColumnItem=!0),_e.slotName=U,D.push(_e),z[W.index]||(z[W.index]=[]),z[W.index].push(m("slot",{name:U},U)),Z.push({slot:U})}),X.forEach(V=>{D[V].lastInColumn=!0}),L.forEach((V,G)=>{let K=Z[G]||{};K.itemResize=this.onItemResize;let ne=V._props||{};no(V,{...ne,...K},ne,!1,!1)}),m(Q,{children:[this.props.children,Ge(m(Q,{children:[m("style",{children:`
				:host {
					width: var(--resize-parent-width, 100%);
					max-width: 100%;
					${de?"display: block;":`display: flex;
					    flex-direction: row;
					    flex-wrap: wrap;
					    align-content: flex-start;
					    justify-content: center;`}
				    position: relative;					
					--column-gutter-width: ${F}px;
					--column-gutter-height: ${n}px;
					margin-top: calc(var(--gutter-expand, 0) * ${n}px);
				}

				${D.map((V,G)=>`::slotted(media-item[slot="${V.slotName}"]){
						margin-top: ${V.firstColumnItem?"0;":"var(--column-gutter-height, 0px);"}
						${V.lastInColumn?`
						    flex-grow: 1;
						    flex-shrink: 1;
						    flex-basis: ${_===1?"100%":0};						
						`:""}
						${V.styleString}
					} `).join("")}

				* {
					box-sizing: border-box;
				}	

				:host[hidden] {
					display:none;
				}

				:host .columns-column {
					${de?`
						display: inline-flex;
						vertical-align: top;
					`:`
					    max-width: ${Math.ceil(f/_)}px;
					`}					
					flex-grow: 0;
					flex-shrink: 0;
				}

				:host .columns-column.last-column {
				    flex-grow: 1;
				    flex-shrink: 1;
				    flex-basis: ${_===1?"100%":0};
				}
				

				:host .columns-column:not(:last-child){
				    margin-right: var(--column-gutter-width, 0px);
				}

				::slotted(media-item) {
					position: relative;
				    width: 100%;
				    max-width: none;
				    display: flex;
				}




				`}),m(Mr,{values:{gutterWidth:S,gutterHeight:C,elWidth:"100%"},onResize:this.onResize}),c&&d.isEditing&&!se&&m(kT,{...this.props,isMobile:s,gallerySpecificAttributes:["columnized-span"],columnAndGutterMap:M,galleryInstance:u,galleryComponent:this}),z.map((V,G)=>{let K=M[G];return m("div",{className:`columns-column${G===_-1?" last-column":""}`,style:{width:K.right-K.left+"px"},children:V},`columns-column-${G}`)})]}),this.props.baseNode.shadowRoot)]})}componentDidMount(){Ze.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange)}onMobileChange=e=>{this.setState({isMobile:e})};onResize=(e,t)=>{this.setState(r=>{let n={...r};return n[e]=t,n.hasSizes=!0,n})};onItemResize=(e,t)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}};hf.defaultProps={"show-tags":!0,"show-title":!0,columns:uo.defaults.columns.value,gutter:uo.defaults.gutter.value};g8=Ht(oo(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(hf)));Jt(g8,"gallery-columnized",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","columns","gutter","mobile-columns","mobile-gutter"],{renderIntoShadow:!0})});var Kr,Oy,DT,OT=B(()=>{Ce();Kr=fe(Se(),1);ql();Di();Ot();te();Oy=class extends oe{constructor(e){super(e),this.state={pauseRealignment:!1,waitingForRealignment:!1,currentZoom:100,currentHorizontalShift:0,transform:{x:0,y:0},previewShifts:[],previewingTransform:!1,dragStartPosition:{x:0,y:0},scrollDelta:{x:0,y:0},dragDelta:{x:0,y:0},initialPosition:{x:0,y:0},ghostRect:{significantShift:!1,width:0,height:0,x:0,y:0},minHeight:0,overrideHeight:!1,dragSrcIndex:-1,UIWindow:!1,draggedItemIndex:-1,isDragging:!1,showDropTarget:!1,breakOutOfGallery:!1,draggedMediaItem:null,timer:0},this.draggedItem=ve(),this.dragGhostRef=ve(),this.lastPosition=null}render(e,t){let{showDropTarget:r,draggedMediaItem:n,isDragging:s,dragDelta:l,draggedItemIndex:u,initialPosition:c,dragSrcIndex:d,ghostRect:f}=t,{galleryInstance:g}=e;return m(Q,{children:[m("style",{children:[d>-1&&s?`
			::slotted(media-item:nth-child(${d+1})){
				pointer-events:none;
				opacity: 0;
			}

			.drag-ghost {
				position: absolute;
				top: 0;
				left: 0;
				z-index: 1001;	
				pointer-events: none;
				outline: 1px solid #ccc;
			}

			.drag-ghost.snapping {
				outline: 1px solid var(--baseColor-accent);
			}

			.drag-ghost img {
				position: absolute;
				inset: 0;
				width: 100%;
				height: 100%;
				opacity: 0.5;
				transition: none;
				object-fit: cover;
				transform:translateZ(0);
			}

			`:`

			#freeform-holder {
				transform: scale(${this.state.currentZoom}%) translateX(${this.state.currentHorizontalShift}%);
				transform-origin: center top;
			}

			`,this.state.overrideHeight?`
				:host {
					min-height: ${this.state.minHeight}px;
				}
			`:"",this.state.previewingTransform?this.state.previewShifts.map(v=>`::slotted(media-item[slot="${v.slot}"]){
						--base-translate: translate(${v.x}px , ${v.y}px)!important;
					} `):""]}),m(ro,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,galleryInstance:g,mediaItemEditorInfo:{disableResize:!1,disableButton:!1,afterScaleChange:this.afterScaleChange,whileScaleChange:this.whileScaling,beforeScaleChange:this.beforeScaleChange},onScrollWhileHovered:this.onScrollWhileHovered,onUIWindowSet:this.getUIWindow,onUIWindowRelease:this.releaseUIWindow,disableDragOver:!0,onCleanUp:this.onCleanUp}),m("div",{className:`drag-ghost ${f.significantShift?"snapping":""}`,style:{display:s&&f.width>0&&f.height>0?"block":"none",transform:`translate3d(${f.x}px, ${f.y}px, 1001px)`,width:f.width+"px",height:f.height+"px"},dangerouslySetInnerHTML:{__html:""},ref:this.dragGhostRef})]})}onScrollWhileHovered=e=>{this.setState(t=>t.isDragging?{scrollDelta:{x:0,y:t.scrollDelta.y+e}}:null)};getUIWindow=e=>{this.setState({UIWindow:e})};releaseUIWindow=e=>{this.setState({UIWindow:!1})};beforeScaleChange=(e,t)=>{let r=e.hasAttribute("freeform-scale")?e.getAttribute("freeform-scale"):20;return{...t,scaleArray:[parseFloat(r),"%"],scale:r+""}};whileScaling=(e,t)=>{let{magneticSnap:r,magneticSnapMargin:n}=this.props,s=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};if(!r)return t;let{width:l,height:u,scaleArray:c,overSize:d,atLimit:f,scale:g}=t,{elWidth:v,attributeMap:S}=this.props;v=v+-s.mediaItemSize.padSize+-s.mediaSize.padSize;let C=n*.01*v,_=l/u,M={width:!1,height:!1},T=Array.from(this.props.galleryInstance.children).filter(ie=>ie.tagName==="MEDIA-ITEM").indexOf(e),F=S[T],H={x1:F.xPx,y1:F.yPx,x2:F.xPx+l,y2:F.yPx+u},L={top:!0,left:!0,right:!1,bottom:!1},z=this.calculateMagnetism(e,H,L);return Math.abs(z.x)<Math.abs(z.y)&&Math.abs(z.x)>.1?M.width=!0:Math.abs(z.y)>.1&&(M.height=!0),Math.abs(z.x)>15&&(M.width=!1,z.x=0),Math.abs(z.y)>15&&(M.height=!1,z.y=0),M.width?(l=l+z.x,u=l/_):M.height&&(u=u+z.y,l=u*_),c[0]=l/v*100,{...t,scale:c.join(""),width:l,height:u,scaleArray:c,overSize:d,atLimit:f}};afterScaleChange=(e,t)=>{let{elWidth:r}=this.props,n=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};r=r+-n.mediaItemSize.padSize+-n.mediaSize.padSize;let s=(100*(t.width/r)).toFixed(2);e.setAttribute("limit-by","width"),e.setAttribute("scale",s),e.setAttribute("freeform-scale",s),this.props.galleryComponent.onItemResize()};onDragStart=(e,t,r)=>{let n=r.draggedMediaItems?.find(C=>this.props.galleryInstance.contains(C))||null;if(!n){this.setState({draggedItemIsInsideGallery:!1});return}let{attributeMap:s,elWidth:l}=this.props;this.draggedItem.current=n,Array.from(this.dragGhostRef.current?.children).forEach(C=>{C.remove()});let u=this.draggedItem.current?.shadowRoot?.querySelector('.sizing-frame [part="media"]'),c=Array.from(this.props.galleryInstance.children),d=c.indexOf(n),f=c.filter(C=>C.tagName==="MEDIA-ITEM").indexOf(n),g=s[f],v={x:g?.xPx??0,y:g?.yPx??0},S=this.props.galleryInstance.offsetHeight;this.setState(C=>(ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),{dragDelta:{x:0,y:0},draggedItemIsInsideGallery:!0,initialPosition:v,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},scrollDelta:{x:0,y:0},ghostRect:{x:0,y:0,width:0,height:0},dragSrcIndex:d,overrideHeight:!0,minHeight:S,isDragging:!0}))};onDragOver=(e,t,r)=>{if(this.ticking)return;this.ticking=!0,this.dragFrame=requestAnimationFrame(()=>{this.ticking=!1});let{elWidth:n,elHeight:s,mediaItems:l,magneticSnapMargin:u,magneticSnap:c,attributeArray:d}=this.props,f=r.draggedMediaItems.length>0,g=this.props.galleryInstance.contains(r.dropTarget),v=this.props.galleryInstance===r.customDropTarget;r.inAdmin||r.fromOutside||!(g||this.state.draggedItemIsInsideGallery)?ye.globalDragEventController.releaseCustomDropTarget(this.props.galleryInstance):this.setState(S=>{if(ye.globalDragEventController.setCustomDropTarget(this.props.galleryInstance),S.isDragging){let C={x:r.cursorPosition.x+-S.dragStartPosition.x+S.scrollDelta.x,y:r.cursorPosition.y+-S.dragStartPosition.y+S.scrollDelta.y},_={x:S.initialPosition.x+C.x,y:S.initialPosition.y+C.y};this.lastPosition||(this.lastPosition=_);let M={width:0,height:0,x1:_.x,x2:_.x,y1:_.y,y2:_.y};if(this.draggedItem.current){let L=this.draggedItem.current._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};M.x2=M.x1+L.mediaItemSize.padSize+L.mediaSize.padSize+L.mediaItemSize.width,M.y2=M.y1+L.mediaItemSize.padSize+L.mediaItemSize.height,M.width=L.mediaItemSize.padSize+L.mediaSize.padSize+L.mediaItemSize.width,M.height=L.mediaItemSize.padSize+L.mediaItemSize.height}let T=c?this.calculateMagnetism(this.draggedItem.current,M):{x:0,y:0},F=u*.01*n;Math.abs(T.x)>Math.max(F,6)?T.x=0:T.x!==0&&(_.x=(_.x+T.x)*.5+this.lastPosition.x*.5),Math.abs(T.y)>Math.max(F,6)?T.y=0:T.y!==0&&(_.y=(_.y+T.y)*.5+this.lastPosition.y*.5);let H=Math.abs(T.x)>1||Math.abs(T.y)>1;return this.lastPosition=_,{ghostRect:{significantShift:H,x:_.x,y:_.y,width:M.width,height:M.height},dragDelta:{x:C.x+T.x,y:C.y+T.y}}}else{let C=this.props.galleryInstance.getBoundingClientRect(),_={x:r.cursorPosition.x-C.left,y:r.cursorPosition.y-C.top};return this.draggedItem.current=r.draggedMediaItems[0],{dragDelta:{x:0,y:0},scrollDelta:{x:0,y:0},initialPosition:_,dragStartPosition:{x:r.cursorPosition.x,y:r.cursorPosition.y},ghostRect:{x:0,y:0,width:0,height:0},isDragging:!0,dragSrcIndex:-1}}})};calculateMagnetism=(e,t,r={top:!1,right:!1,bottom:!1,left:!1})=>{let{mediaItems:n,galleryInstance:s,elWidth:l,elHeight:u,magneticSnapMargin:c,attributeMap:d}=this.props,f=Math.round(c*.01*l*32)/32,g=[],v=[],S=[],C={};n.forEach((N,ee)=>{let de=d[ee];if(N===e)return;S.length=0;let Z=N._size;C.x1=de.xPx,C.y1=de.yPx,C.x2=Z.mediaItemSize.width+Z.mediaItemSize.padSize+C.x1,C.y2=Z.mediaItemSize.height+Z.mediaItemSize.padSize+C.y1,t.x1<C.x2+f*2&&t.x2>C.x1-f*2&&(C.x2<t.x1||C.x1>t.x2?(S.push(C.y1),S.push(C.y2)):(S.push(C.y1-f),S.push(C.y2+f)),S.forEach(Y=>{g.indexOf(Y)===-1&&g.push(Y)})),S.length=0,t.y1<C.y2+f*2&&t.y2>C.y1-f*2&&(C.y2<t.y1||C.y1>t.y2?(S.push(C.x1),S.push(C.x2)):(S.push(C.x1-f),S.push(C.x2+f)),S.forEach(Y=>{v.indexOf(Y)===-1&&v.push(Y)}))}),g.indexOf(0)===-1&&g.push(0),g.indexOf(u)===-1&&g.push(u),v.indexOf(0)===-1&&v.push(0),v.indexOf(l)===-1&&v.push(l);let _=Kr.default.minBy(g,N=>Math.abs(N-t.y1)),M=Kr.default.minBy(g,N=>Math.abs(N-t.y2)),T=_-t.y1,F=M-t.y2,H=Kr.default.minBy(v,N=>Math.abs(N-t.x1)),L=Kr.default.minBy(v,N=>Math.abs(N-t.x2)),z=H-t.x1,ie=L-t.x2;return{x:Kr.default.minBy([r.left?9e9:z,r.right?9e9:ie],N=>N!==0?Math.abs(N):9e9),y:Kr.default.minBy([r.top?9e9:T,r.bottom?9e9:F],N=>N!==0?Math.abs(N):9e9)}};onDragDrop=(e,t,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null,!r.inAdmin&&r.customDropTarget===this.props.galleryInstance&&CargoEditor?.mutationManager&&(CargoEditor.rangy.getSelection().removeAllRanges(),ze.deactivateHoverElement(this.props.galleryInstance),CargoEditor.mutationManager.execute(()=>{let n=Array.from(this.props.galleryInstance.children).filter(f=>f.tagName==="MEDIA-ITEM"),s=Kr.default.sortBy(n,f=>parseFloat(f.getAttribute("freeform-y"))||0),l=(this.state.initialPosition.x+this.state.dragDelta.x)/this.props.elWidth*100,u=(this.state.initialPosition.y+this.state.dragDelta.y)/this.props.elWidth*100,c=this.draggedItem.current?.getAttribute("freeform-scale")||20,d=s.find(f=>parseFloat(f.getAttribute("freeform-y"))>u);r.draggedMediaItems.forEach((f,g)=>{f.setAttribute("freeform-z",n.length+200+g),f===this.draggedItem.current?(f.setAttribute("freeform-x",l),f.setAttribute("freeform-y",u)):(f.setAttribute("freeform-x",(l+g*5)%80),f.setAttribute("freeform-y",u+g*5)),f.hasAttribute("freeform-scale")||f.setAttribute("freeform-scale",c),this.props.galleryInstance.insertBefore(f,d),f.flushMutationQueue()}),this.stackZ(),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()}))}),this.unsetMinHeight()};unsetMinHeight=Kr.default.debounce(()=>{this.setState({overrideHeight:!1})},100);onDragEnd=(e,t,r)=>{this.setState({isDragging:!1},()=>{this.lastPosition=null}),this.unsetMinHeight()};onCleanUp=(e,t,r,n)=>{CargoEditor&&Object.keys(CargoEditor).length>0&&(!Kr.default.isEqual(e,t)||r.length>0)&&CargoEditor.mutationManager.execute(()=>{this.centerY(),this.alignDomWithY()}),this.props.onCleanUp&&this.props.onCleanUp(e,t,r,n)};stackZ=()=>{let e=Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM");Kr.default.sortBy(e,r=>parseFloat(r.getAttribute("freeform-z"))||0).forEach((r,n)=>{r.setAttribute("freeform-z",n+1),r.flushMutationQueue()})};centerY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),t=Kr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=t[0]?.hasAttribute("freeform-y")?parseFloat(t[0].getAttribute("freeform-y")):0;r!==0&&t.forEach((n,s)=>{let l=n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):r;n.setAttribute("freeform-y",l-r),n.flushMutationQueue()})};alignDomWithY=()=>{let e=Array.from(this.props.galleryInstance.children).filter(n=>n.tagName==="MEDIA-ITEM"),t=Kr.default.sortBy(e,n=>n.hasAttribute("freeform-y")?parseFloat(n.getAttribute("freeform-y")):0),r=e[0];t.forEach((n,s,l)=>{if(n!=r){for(let u=r,c=0;(u=u.nextElementSibling)&&c<l.length&&u!=n;c+=1);this.props.galleryInstance.insertBefore(n,r)}else r=n.nextElementSibling;n.flushMutationQueue()})};zoom=e=>{this.setState({currentZoom:e})};commitZoom=()=>{let{magneticSnapMargin:e,attributeMap:t}=this.props,{currentZoom:r}=this.state;Array.from(this.props.galleryInstance.children).filter(s=>s.tagName==="MEDIA-ITEM").forEach((s,l)=>{let u=t[l],c=u["freeform-x"],d=u["freeform-y"],f=u["freeform-scale"],g=Math.sqrt(Math.pow(c-50,2)+Math.pow(d,2)),v=Math.atan2(d,c-50);s.setAttribute("freeform-x",Math.cos(v)*g*(r*.01)+50),s.setAttribute("freeform-y",Math.sin(v)*g*(r*.01)+50*(r*.01)),s.setAttribute("freeform-scale",r*.01*f)});let n=Math.abs(r*.01*e);if(n>.1)for(;n>5;)n*=.5;this.centerY(),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":n}),this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()};previewTransform=(e,t)=>{let r=t.map(n=>{let s=(e.x+parseFloat(n.getAttribute("freeform-x")||0))*this.props.elWidth*.01,l=(e.y+parseFloat(n.getAttribute("freeform-y")||0))*this.props.elWidth*.01;return{slot:n.getAttribute("slot"),x:s,y:l}});this.setState({transform:e,previewShifts:r,previewingTransform:!0})};commitTransform=()=>{CargoEditor.mutationManager.execute(()=>{this.state.previewShifts.forEach(t=>{let r=this.props.galleryInstance.querySelector('[slot="'+t.slot+'"]');if(r){let n=parseFloat(r.getAttribute("freeform-x")||0),s=parseFloat(r.getAttribute("freeform-y")||0);r.setAttribute("freeform-x",n+this.state.transform.x),r.setAttribute("freeform-y",s+this.state.transform.y)}}),this.centerY(),this.alignDomWithY(),this.props.galleryInstance._editorInterface.flushMutationQueue()});let e=Array.from(this.props.galleryInstance.children).find(t=>t._editorInterface)?._editorInterface?.state?.UIWindow||null;e&&e.onChange({"shift-x":0,"shift-y":0}),this.setState({transform:{x:0,y:0},previewShifts:[],previewingTransform:!1},()=>{this.props.galleryInstance._editorInterface.flushMutationQueue(),this.props.galleryComponent.onItemResize()})};horizontalShift=e=>{this.setState({currentHorizontalShift:e})};commitHorizontalShift=()=>{let{currentHorizontalShift:e}=this.state,{attributeMap:t}=this.props;Array.from(this.props.galleryInstance.children).filter(r=>r.tagName==="MEDIA-ITEM").forEach((r,n)=>{let l=t[n]["freeform-x"];r.setAttribute("freeform-x",l+e)}),this.state.UIWindow?.onChange?.({horizontalShift:0}),this.props.galleryComponent.onItemResize()};fitToWidth=()=>{let{magneticSnapMargin:e,attributeMap:t}=this.props;CargoEditor.mutationManager.execute(()=>{let{elWidth:r,attributeMap:n}=this.props,s=Array.from(this.props.galleryInstance.children).filter(g=>g.tagName==="MEDIA-ITEM"),l=9e9,u=-9e9;s.forEach((g,v)=>{let S=n[v];l=Math.min(l,S["freeform-x"]),u=Math.max(u,S["freeform-x"]+S["freeform-scale"])});let c=100/(u-l),d=l,f=Math.abs(c*e);if(f>.1)for(;f>5;)f*=.5;s.forEach((g,v)=>{let S=n[v],C=S["freeform-scale"]||30,_=S["freeform-x"],M=S["freeform-y"],T=(_+-d)*c,F=M*c;g.setAttribute("freeform-x",T),g.setAttribute("freeform-y",F),g.setAttribute("freeform-scale",c*C)}),this.state.UIWindow?.onChange?.({zoom:100,"magnetic-snap-margin":f})})};componentDidMount(){ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("drop",this.onDragDrop),ye.globalDragEventController.on("dragend",this.onDragEnd),this.props.galleryInstance._freeformEditor=this}componentWillUnmount(){this.unsetMinHeight.cancel(),cancelAnimationFrame(this.dragFrame),clearTimeout(this.breakOutTimer),delete this.props.galleryInstance._freeformEditor,ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("drop",this.onDragDrop),ye.globalDragEventController.off("dragend",this.onDragEnd)}componentDidUpdate(e,t){t.pauseRealignment!==this.state.pauseRealignment&&!this.state.pauseRealignment&&this.state.waitingForRealignment}},DT=Oy});var LT,ff,v8,zi,Ly=B(()=>{Ce();We();ys();vs();pf();ht();Ne();OT();Bl();Ni();Ci();LT=fe(Se(),1);Ki();te();ff=class extends oe{constructor(e){super(e),this.state={elWidth:1e3,sizeIncrement:0},this.holderRef=ve()}render(e,t){let{adminMode:r,baseNode:n,pageInfo:s,"mobile-grid":l,"mobile-gutter":u,"mobile-columns":c,"mobile-horizontal-align":d,"mobile-vertical-align":f,"hover-pop":g,"magnetic-snap":v,"magnetic-snap-margin":S}=e;if(l&&e.isMobile)return this.renderedMobileGrid=!0,m(Ty,{...this.props,columns:c,gutter:u,verticalAlign:f,horizontalAlign:d,baseNode:n,adminMode:r,pageInfo:s});let{elWidth:C}=t,_=0,M=0,T=0,F=Array.from(n.children).filter(ee=>ee.tagName=="MEDIA-ITEM"),H=[],L=[],z=-1;F.forEach((ee,de)=>{let Z=!1,Y={"freeform-scale":parseFloat(ee.getAttribute("freeform-scale")),"freeform-x":parseFloat(ee.getAttribute("freeform-x")),"freeform-y":parseFloat(ee.getAttribute("freeform-y")),"freeform-z":parseFloat(ee.getAttribute("freeform-z"))},D={slot:"slot-"+de,itemResize:this.onItemResize};(isNaN(Y["freeform-scale"])||isNaN(Y["freeform-x"])||isNaN(Y["freeform-y"])||isNaN(Y["freeform-z"]))&&(Z=!0,Y["freeform-scale"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-scale")))?20:parseFloat(ee.getAttribute("freeform-scale")),Y["freeform-x"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-x")))?T*1.5:parseFloat(ee.getAttribute("freeform-x")),Y["freeform-x"]=Y["freeform-x"]%80,Y["freeform-y"]=Number.isNaN(parseFloat(ee.getAttribute("freeform-y")))?T*1.5:parseFloat(ee.getAttribute("freeform-y")),Y["freeform-z"]=9999,T++);let V=parseFloat(Y["freeform-x"])*.01*C,G=parseFloat(Y["freeform-y"])*.01*C,K=parseInt(Y["freeform-z"]),ne=parseFloat(Y["freeform-scale"])*.01*C,W=ne,U=ee._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};W=U.mediaItemSize.height+U.mediaItemSize.padSize,_=Math.max(G+W,_),Z||(z=de,M=_),Y.widthPx=ne,Y.xPx=V,Y.yPx=G,Y.z=K,Y.writeAttributes=D,L.push(Y)});let ie=100*(M/C),X=0;for(var N=z+1;N<L.length;N++){let de=F[N]._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}},Z=de.mediaItemSize.height+de.mediaItemSize.padSize,Y=X*1.5+ie,D=Y*.01*C;L[N]["freeform-y"]=Y,L[N].yPx=D,_=Math.max(L[N].yPx+Z,_),X++}return L.forEach((ee,de)=>{let Z=F[de],{widthPx:Y,yPx:D,xPx:V,z:G,writeAttributes:K}=ee,ne=Z._props||{};this.renderedMobileGrid&&(ne.itemResize=null),no(Z,{...ne,...K},ne,!1,!1),H.push({width:Y+"px","--base-translate":`translate(${Math.floor(V)}px, ${Math.floor(D)}px)`,"--z-index":G+1})}),this.renderedMobileGrid=!1,m(Q,{children:[this.props.children,Ge(m(Q,{children:[m("style",{children:`
					* {
						box-sizing: border-box;
					}
									
					:host {
						width: var(--resize-parent-width, 100%);
						max-width: 100%;						
						height: ${_}px;
						display: block;
						position: relative;
						contain: layout;
					}
					
					::slotted(media-item) {
						max-width: none;
						position: absolute;
						top: 0;
						left: 0;
						display: flex;
						flex-shrink: 0;
						flex-grow: 0;
					}

					::slotted(media-item)::part(sizing-frame){
						pointer-events:auto;						
					}

					${H.map((ee,de)=>`::slotted(media-item[slot="slot-${de}"]){
							width: ${ee.width};
							--base-translate: ${ee["--base-translate"]};
							--z-index: ${ee["--z-index"]};
						} `).join("")}						
					
					${g?`::slotted(media-item:hover) {
						z-index: 99999;	
					}`:""}
					
					#freeform-holder {
						position: absolute;
						inset: 0;
					}
				`}),m(Q,{children:[m("div",{id:"freeform-holder",ref:this.holderRef,children:F.map((ee,de)=>m("slot",{name:`slot-${de}`}))}),m(Mr,{values:{elWidth:"100%"},onResize:this.onResize})]}),r&&s.isEditing&&!se&&m(DT,{...e,gallerySpecificAttributes:["freeform-x","freeform-y","freeform-z","freeform-scale"],galleryInstance:n,galleryComponent:this,mediaItemOptions:zi.mediaItemOptions,disabledMediaItemOptions:zi.disabledMediaItemOptions,mediaItems:F,elWidth:C,elHeight:_,hoverPop:g,magneticSnap:v,magneticSnapMargin:S,attributeMap:L})]}),this.props.baseNode.shadowRoot)]})}componentDidUpdate(e,t){this.props.isMobile!==e.isMobile&&this.onItemResize()}onResize=(e,t)=>{this.setState(r=>{let n={...r};return n[e]=t,n})};onItemResize=(e,t)=>{this.setState(r=>({sizeIncrement:r.sizeIncrement+1}))}},v8=Ht(oo(Oe((i,e)=>({adminMode:i.frontendState.adminMode,isMobile:i.frontendState.isMobile}))(ff)));Jt(v8,"gallery-freeform",["thumbnail-index","links-filter-index","show-tags","show-title","thumbnail-index-metadata","magnetic-snap","magnetic-snap-margin","hover-pop","mobile-grid","mobile-gutter","mobile-columns","mobile-horizontal-align","mobile-vertical-align"],{renderIntoShadow:!0});zi={name:"freeform",displayName:"Freeform",tagName:"GALLERY-FREEFORM",disabledMediaItemOptions:["limit-by","scale"],nonAttributeValues:["horizontalShift","fitToWidth","zoom","shift-x","shift-y"],mediaItemOptions:[{type:"group",className:"grid-columns-even",children:[{labelName:"X",name:"shift-x",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(i){if(i==0)return;let e=this.state.galleryParent;e&&(clearTimeout(this.commitXShift),this.commitXShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}},{labelName:"Y",name:"shift-y",defaultValue:0,type:"scrubber",value:0,step:.05,numberOnlyMode:!0,onIncrementEnd:function(i){if(i==0)return;let e=this.state.galleryParent;!this.state.canMutate||!e||(clearTimeout(this.commitYShift),this.commitYShift=setTimeout(()=>{e._freeformEditor?.commitTransform()},120))}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Width",name:"freeform-scale",type:"scrubber",value:20,step:.05,min:0,max:150,numberOnlyMode:!0},{labelName:"Bring to Front",name:"freeform-z",type:"button",onClick:function(i){CargoEditor.mutationManager.execute(()=>{let e=this.state.selectedMediaItems[0].closest("gallery-freeform"),t=LT.default.sortBy(Array.from(e.querySelectorAll("media-item")),n=>parseInt(n.getAttribute("freeform-z")));this.state.selectedMediaItems.forEach(n=>{n.setAttribute("freeform-z",1+t.length)})})}}]}],mobileOptions:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Use Grid",name:"mobile-grid",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-auto",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(i){i.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",requirements:[{option:"mobile-grid",shouldBe:!1}],renderWhenDisabled:!1,children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(i){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(i){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]},{labelName:"Columns",name:"mobile-columns",type:"scrubber",value:2,min:1,max:12,step:1,numberOnlyMode:!0,requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Gutter",name:"mobile-gutter",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowCalc:!0,allowedUnits:["px","%","rem","vmin","vmax","vw","vh"],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Vertical Align",name:"mobile-vertical-align",type:"radio",value:"top",values:[{labelName:"Top",iconName:"alignContentTop",value:"top"},{labelName:"Middle",iconName:"alignContentMiddle",value:"center"},{labelName:"Bottom",iconName:"alignContentBottom",value:"bottom"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1},{labelName:"Horizontal Align",name:"mobile-horizontal-align",type:"radio",value:"left",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"}],requirements:[{option:"mobile-grid",shouldBe:!0}],renderWhenDisabled:!1}],options:[{type:"group",className:"grid-columns-auto",children:[{labelName:"Magnetic Snap",name:"magnetic-snap-margin",type:"scrubber",value:0,step:.05,suffix:"%",max:10,min:0,numberOnlyMode:!0,requirements:[{option:"magnetic-snap",shouldBe:!0}],renderWhenDisabled:!0},{labelName:"",className:"square",name:"magnetic-snap",type:"check-box",value:!0}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Pop on Hover",name:"hover-pop",type:"check-box",value:!1},{labelName:"Fit to Width",name:"fitToWidth",type:"button",onClick:function(i){i.preventDefault();let e=this.state.activeGallery;e&&e._freeformEditor?.setState({currentZoom:100},()=>{e._freeformEditor?.fitToWidth()})}}]},{type:"group",className:"grid-columns-even",children:[{labelName:"Shift",name:"horizontalShift",type:"scrubber",value:0,step:.05,suffix:"%",max:50,min:-50,numberOnlyMode:!0,onIncrementEnd:function(i){let e=this.state.activeGallery;e&&(clearTimeout(this.commitHorizontalShift),this.commitHorizontalShift=setTimeout(()=>{e._freeformEditor?.commitHorizontalShift()},120))}},{labelName:"Zoom",name:"zoom",type:"scrubber",value:100,step:.1,suffix:"%",max:200,min:50,numberOnlyMode:!0,onIncrementEnd:function(i){let e=this.state.activeGallery;e&&(clearTimeout(this.commitZoom),this.commitZoom=setTimeout(()=>{e._freeformEditor?.commitZoom()},120))}}]}],onMediaItemChange:function(i){let e=this.state.galleryParent;return e?(Object.keys(i).forEach(t=>{let r=i[t];switch(t){case"shift-x":e._freeformEditor?.previewTransform({x:r,y:0},this.state.selectedMediaItems);break;case"shift-y":e._freeformEditor?.previewTransform({x:0,y:r},this.state.selectedMediaItems);break}}),{...i}):{...i}},onChange:function(i){let e=this.state.activeGallery;e&&Object.keys(i).forEach(t=>{let r=i[t];switch(t){case"horizontalShift":e._freeformEditor?.horizontalShift(r);break;case"zoom":e._freeformEditor?.zoom(r);break}})}};zi.mediaItemDefaults=at(zi.mediaItemOptions);zi.defaults=at(zi.options);zi.mobileDefaults=at(zi.mobileOptions);ff.defaultProps={"show-tags":!0,"show-title":!0,"thumbnail-index":void 0,"magnetic-snap":zi.defaults["magnetic-snap"].value,"magnetic-snap-margin":zi.defaults["magnetic-snap-margin"].value,"hover-pop":zi.defaults["hover-pop"].value,"mobile-grid":zi.mobileDefaults["mobile-grid"].value,"mobile-gutter":zi.mobileDefaults["mobile-gutter"].value,"mobile-columns":zi.mobileDefaults["mobile-columns"].value,"mobile-horizontal-align":zi.mobileDefaults["mobile-horizontal-align"].value,"mobile-vertical-align":zi.mobileDefaults["mobile-vertical-align"].value}});var FT,Fy,zT,HT=B(()=>{Ce();FT=fe(Se(),1);Ot();Di();ql();te();Fy=class extends oe{constructor(e){super(e),this.state={}}render(e,t){let{galleryInstance:r,gutterWidth:n,elWidth:s,mediaItems:l}=e;return m(ro,{...e,gallerySpecificAttributes:this.props.gallerySpecificAttributes,onAfterDrop:this.onAfterDrop,galleryInstance:r,disabledMediaItemOptions:["scale"],mediaItemEditorInfo:{disableResize:!0,disableButton:!1,additionalUI:this.renderBracket}})}onBracketClick=(e,t,r)=>{this.dragStarted||(r&&(r.preventDefault(),ze.setHoveredElements([this.props.galleryInstance])),CargoEditor.mutationManager.execute(()=>{if(e)t.removeAttribute("justify-row-end");else{let n=t.previousSibling,s=1;for(;n;)n.nodeName==="MEDIA-ITEM"&&n.assignedSlot&&n.assignedSlot.parentElement.lastChild==n.assignedSlot&&n.setAttribute("justify-row-end","true"),n=n.previousSibling;t.setAttribute("justify-row-end","true")}}),this.props.incrementLayout&&this.props.incrementLayout())};renderBracket=(e,t)=>{let{gutterWidth:r,gutterHeight:n}=this.props,s=t.assignedSlot;if(!s)return null;let l=s.parentElement.lastChild==s,u=t.getAttribute("justify-row-end")==="true",c="pointer";return u||(c="e-resize"),m("div",{className:`justify-bracket${u?" row-end":""}`,style:{"--media-item-pad":-t._size.mediaItemSize.padSize*.5+-1+"px"},onClick:d=>{this.onBracketClick(u,t,d)},onMouseDown:d=>{this.onMouseDown(t,d)}})};componentWillUnmount(){this.setRow.cancel()}onMouseDown=(e,t)=>{let r=e.assignedSlot;if(!r)return;let{mediaItems:n}=this.props;t.preventDefault();let s=r.parentElement,l=Array.from(s.children);this.delta=0,this.initialPoint=t.clientX,this.rowItems=l,this.indexOfFirstInRow=n.indexOf(this.rowItems[0].assignedNodes()[0]),this.dragStarted=!1,window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp)};onPointerMove=e=>{let{mediaItems:t}=this.props;if(this.delta=e.clientX-this.initialPoint,!(Math.abs(this.delta)<3)){if(!this.dragStarted){ze.setHoveredElements([this.props.galleryInstance]),ze.lock(),document.body.classList.add("dragging");let r=t[this.indexOfFirstInRow-1];r&&this.onBracketClick(!1,r,null),this.attrCache=t.map(n=>n.getAttribute("justify-row-end")==="true")}this.dragStarted=!0,this.setRow()}};setRow=FT.default.throttle(()=>{CargoEditor.mutationManager.execute(()=>{let{elWidth:e,mediaItems:t,rowAlign:r}=this.props,n=e/12,s=Math.round(this.delta/n);(r=="fill"||r=="right")&&(s=s*-1);let l=Math.max(s+this.rowItems.length,1);ze.setHoveredElements([this.props.galleryInstance]),ze.lock(),this.attrCache.forEach((u,c)=>{c>=this.indexOfFirstInRow&&c<=this.indexOfFirstInRow+l&&(u=!1,(c==this.attrCache.length-1||c==this.indexOfFirstInRow+l+-1)&&(u=!0));let d=t[c],f=d.getAttribute("justify-row-end");u&&f!=="true"?d.setAttribute("justify-row-end",u):!u&&d.hasAttribute("justify-row-end")&&d.removeAttribute("justify-row-end")})}),this.props.incrementLayout&&this.props.incrementLayout()},80);onPointerUp=e=>{ze.unlock(),ze.testHover(),document.body.classList.remove("dragging"),this.setRow.cancel(),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp)};onAfterDrop=(e,t,r)=>{let n=!1,s=t,l=e[e.length-1],u=e[0];for(;l&&e.indexOf(l)>-1;)l=l.nextElementSibling;for(;u&&e.indexOf(u)>-1;)u=u.previousElementSibling;r.left>-1&&r.right>-1?(t===e[e.length-1]&&(l=e[e.length-1]),t===e[0].nextElementSibling&&(u=e[0])):r.left>-1&&r.right==-1?l=null:r.right>-1&&r.left==-1&&(u=null),u&&r.left>-1&&(u.getAttribute("justify-row-end")=="true"||u.getAttribute("justify-row-end")==!0)&&(u.removeAttribute("justify-row-end"),e[e.length-1].setAttribute("justify-row-end",!0))}},zT=Fy});var zy,mf,fn,b8,Hy=B(()=>{Ce();We();ys();We();vs();ht();Bl();Ne();Ki();HT();Ci();Ni();zy=fe(Se(),1);te();mf=class extends xi{constructor(e){super(e),this.state={isMobile:Ze.data.mobile.active,elWidth:0,gutterPixelWidth:0,gutterHeight:0,targetPxHeight:0,sizeIncrement:0,hasSizes:!1,renderLimit:150},this.paginationWatcherRef=ve(),this.paginationObserver=new IntersectionObserver(this.requestPagination,{root:this.props.scrollContext.scrollingElement===window?document:this.props.scrollContext.scrollingElement,rootMargin:screen.height*2+"px",threshold:[0,1]})}requestPagination=async e=>{if(this.isIntersecting=e[0].isIntersecting,!(this.isPaginating||this.state.renderLimit>=this.getMediaItems().length)){for(this.isPaginating=!0;this.isIntersecting;){let t=this.state.renderLimit+150;if(this.setState({renderLimit:t}),t>=this.getMediaItems().length)break;await new Promise(r=>setTimeout(r,200))}this.isPaginating=!1}};getMediaItems(){return Array.from(this.props.baseNode.children).filter(e=>e.nodeName=="MEDIA-ITEM")}render(e,t){let{gutterPixelWidth:r,gutterHeight:n,targetPxHeight:s,elHeight:l,isMobile:u,hasSizes:c}=t,{children:d,adminMode:f,pageInfo:g,baseNode:v}=e,{elWidth:S}=t;c||(S=this.props.baseNode.offsetWidth);let{"row-align":C,"row-height":_,gutter:M}=e;M=u&&this.props["mobile-gutter"]!==void 0?this.props["mobile-gutter"]:this.props.gutter;let T="";u&&this.props["mobile-row-align"]!==void 0&&(C=this.props["mobile-row-align"],T="mobile-"),u&&this.props["mobile-row-height"]!==void 0&&(_=this.props["mobile-row-height"]);let F=M.split(" "),H=(F.length>1,F[0]);H.includes("rem")&&u&&(H="calc( var(--mobile-padding-offset, 1) * "+H+" )");let L=F.length>1?F[1]:F[0];L.includes("rem")&&u&&(L="calc( var(--mobile-padding-offset, 1) * "+L+" )");let z=Zt(_,"%").join(""),ie=this.getMediaItems(),X=ie.slice(0,this.state.renderLimit),N=this.brickLayout(X),ee=[];return ie.forEach((de,Z)=>{let Y=N.attributes[Z]||{slot:null},D=de._props||{};no(de,{...D,...Y},D,!1,!1)}),m(Q,{children:[m(Q,{children:this.props.children}),Ge(m(Q,{children:[m("style",{children:`
* {
	box-sizing: border-box;
}

:host {
	width: var(--resize-parent-width, 100%);
	max-width: 100%;	
	position: relative;
	display: block;
	--gutter-width: ${r}px;
	--gutter-height: ${n}px;
	margin-top: calc(var(--gutter-expand, 0) * ${n}px );	
}

${N.shadowStyleMap.map((de,Z)=>`::slotted(media-item[slot="slot-${Z}"]){
		${de.style};
		${de.itemStatuses.lastRow?"":"margin-bottom: var(--gutter-height);"}
		${de.itemStatuses.lastChild?"":"margin-right: var(--gutter-width);"}
		${de.itemStatuses.lastChild&&!de.itemStatuses.orphanRow&&C==="fill"?`
			flex-grow: 1;
			--object-fit: fill;
		`:""}
	}`).join("")}

:host .justify-row {
	max-width: ${S+3}px;
	width: 100%;
	display:flex;
	flex-shrink: 0;
	align-items: stretch;
	justify-content: flex-start;
	position: relative;
	flex-wrap: nowrap;
}

:host .justify-row.orphan-row {
	width: ${N.orphanRowWidth}px;
	display: inline-flex;
}

::slotted(media-item) {
	position: relative;
	max-width: 100%;
	display: flex;
	flex-shrink: 0;
	flex-grow: 0;
}    


:host([${T}row-align="left"]) .justify-row {
	justify-content: flex-start;
}

:host([${T}row-align="right"]) .justify-row {
	justify-content: flex-end;
}

:host([${T}row-align="center"]) .justify-row {
	justify-content: center;
}

:host ::slotted(media-item.last-child), :host([${T}row-align="fill"]) ::slotted(media-item.last-child) {
	flex-grow: 1;
}

:host([${T}row-align="center"]) ::slotted(media-item.last-child),
:host([${T}row-align="left"]) ::slotted(media-item.last-child),
:host([${T}row-align="right"]) ::slotted(media-item.last-child) {
	flex-grow: 0;
}

					`}),m(Mr,{values:{targetPxHeight:z,gutterPixelWidth:H,gutterHeight:L,elWidth:"100%"},onResize:this.onResize}),N.shadow,f&&g.isEditing&&!se&&m(zT,{...e,gallerySpecificAttributes:["justify-row-end"],galleryInstance:v,gutterWidth:r,gutterHeight:n,elWidth:S,rowHeight:z,rowAlign:C,mediaItems:ie,incrementLayout:this.onItemResize}),m("div",{ref:this.paginationWatcherRef,class:"pagination-watcher"})]}),this.props.baseNode.shadowRoot)]})}onResize=(e,t)=>{e==="targetPxHeight"&&(t=Math.max(t,10)),this.setState({[e]:t,hasSizes:!0})};onMobileChange=e=>{this.setState({isMobile:e})};componentDidMount(){Ze.on("mobile-change",this.onMobileChange),this.props.baseNode._figureEditorInfo={disabledMediaItemOptions:fn.disabledMediaItemOptions,galleryParent:this.props.baseNode,galleryWidth:this.state.elWidth},this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.observe(this.paginationWatcherRef.current),this.props.onMount&&this.props.onMount()}componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange),this.paginationObserver&&this.paginationWatcherRef.current&&this.paginationObserver.unobserve(this.paginationWatcherRef.current)}onItemResize=e=>{this.setState(t=>({sizeIncrement:t.sizeIncrement+1}))};brickLayout=e=>{let t=window.devicePixelRatio>1?2:1,{isMobile:r}=this.state,{"row-align":n}=this.props;r&&this.props["mobile-row-align"]!==void 0&&(n=this.props["mobile-row-align"]);let s={},l=r&&this.props["mobile-row-height"]!==void 0&&this.props["mobile-row-height"]!==this.props["row-height"],u=!1,c=e.map((H,L)=>{let z=this.getItemSize(H,l);return this.getItemSize(H,l)});for(let H=c.length-1;H>=0;H--){let L=c[H];L.rowEnd||u?(L.inDesignatedRow=!0,u=!0):L.inDesignatedRow=!1}this.findValidRowCache={},this.makeNodes(0,0,null,s,c),this.findValidRowCache=null;let d=[],f=zy.default.keys(s).sort(function(H,L){return parseInt(H)-parseInt(L)}),g=f[f.length-1];for(;g!=null;){let H=s[g];s[H.parent]&&(s[H.parent].path=s[H.parent].edges[g]),d.unshift(H),g=H.parent}let v=[],S=[],C=[],_=this.state.targetPxHeight,M=this.state.elWidth,T=this.state.gutterPixelWidth,F=0;return d.forEach((H,L)=>{let z=H.path,ie=[];if(!z)return;let X=0,N=!1;for(let ee=z.startIndex;ee<z.breakBefore;ee++){let de=e[ee],Z=z.breakBefore-z.startIndex,Y=ee+1==z.breakBefore,D=this.getItemSize(de,!1),V=D.mediaSize.padSize+D.mediaItemSize.padSize,G=(_+-V)/D.height||1,K,ne;K=D.width*G+V,ne=D.height*G+D.mediaSize.padSize;let W=M+-z.rowWidth;if(n!=="fill"||N)W=Math.min(0,W),F=z.rowWidth;else if(W/M>.5&&Y&&L==0&&!z.position=="forcebreak"){N=!0,ee=z.startIndex-1;continue}if(W!==0){let ue=(K+-V)/z.contentWidth,he=z.rowWidth-z.contentWidth,me=M-he;K=ue*me,ne=K*(D.height/D.width)+D.mediaSize.padSize,K=K+V}K=Math.floor(K*t)/t,X=ne;let U={},J="";ee==z.startIndex&&(U.firstChild=!0),ee+1==z.breakBefore&&(U.lastChild=!0),L+2==d.length&&(U.lastRow=!0),U.orphanRow=N,C[ee]={style:`width: ${K}px`,itemStatuses:U},S[ee]={slot:`slot-${ee}`,itemResize:this.onItemResize},ie[ee]=m("slot",{name:`slot-${ee}`},`slot-${ee}`)}X=Math.floor(X*t)/t,v.push(m("div",{className:`justify-row${N?" orphan-row":""}`,style:{"--frame-padding":X+"px"},children:ie},`justify-row-${L}`))}),{shadow:v,attributes:S,shadowStyleMap:C,orphanRowWidth:F}};findValidRows=(e,t)=>{if(this.findValidRowCache[e])return this.findValidRowCache[e];e=parseInt(e);let r=e,n=0,s=0,l=0,u=0,c=0,d={},f=this.props["row-align"];this.state.isMobile&&this.props["mobile-row-align"]!==void 0&&(f=this.props["mobile-row-align"]);for(let g=e;g<t.length;g++){let v=l,S=u,C=t[g],_=C.mediaSize.padSize+C.mediaItemSize.padSize,M=(this.state.targetPxHeight+-_)/C.height;if(u=C.width*M,l=u+_,g===e?(c=1,n=l,s=l+-_):(n=n+this.state.gutterPixelWidth+l,s=s+u,c++),C.rowEnd){d[g+1]={position:"forcebreak",penalty:-9e9,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:s};break}else if(n>this.state.elWidth){if(C.inDesignatedRow)continue;d[g]={position:"under",itemCount:c+-1,penalty:0,startIndex:e,breakBefore:g,rowWidth:n+-(this.state.gutterPixelWidth+l),contentWidth:s-u},f==="fill"||g===e?d[g+1]={position:"over",penalty:0,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:s}:g-1>-1&&(d[g-1]={position:"oneunder",penalty:.11,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:s-(u+S)});break}else if(g==t.length-1){f!=="fill"&&g==e?d[g+1]={position:"orphan",penalty:.5,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:s}:d[g+1]={position:"last",penalty:.06,itemCount:c,startIndex:e,breakBefore:g+1,rowWidth:n,contentWidth:s};break}else c+-2>0&&!C.inDesignatedRow&&f==="fill"&&(d.mid={position:"mid",penalty:.06,itemCount:c+-2,startIndex:e,breakBefore:g-1,rowWidth:n+-(this.state.gutterPixelWidth*2+l+v),contentWidth:s-(u+S)})}if(d.hasOwnProperty("mid")){let g=d.mid.breakBefore;!d.hasOwnProperty(g)&&t.length<15&&(d[d.mid.breakBefore]=d.mid),delete d.mid}for(let g in d){let v=d[g],S=v.rowWidth/this.state.elWidth;v.distance=Math.abs(1-S)*Math.abs(1-S)*Math.abs(1-S),isNaN(v.penalty)||(v.distance=v.distance+v.penalty)}return this.findValidRowCache[e]=d,d};makeNodes=(e,t,r,n,s)=>{if(e===-1)return;let l={index:parseInt(e),edges:this.findValidRows(e,s),distanceToFirstNode:t,parent:r},u=!1;if(n[e]?l.distanceToFirstNode<n[e].distanceToFirstNode&&(n[e]=l,u=!0):(n[e]=l,u=!0),u){let c=zy.default.keys(l.edges);for(let d=0;d<c.length;d++){let f=l.edges[c[d]];this.makeNodes(parseInt(c[d]),f.distance+l.distanceToFirstNode,l.index,n,s)}}};getItemSize=(e,t)=>{let r=e._size||{width:0,height:0,mediaSize:{width:0,height:0,padSize:0},mediaItemSize:{width:0,height:0,padSize:0}};isNaN(r.width)&&(r.width=300),isNaN(r.height)&&(r.height=300);let n=e.getAttribute("justify-row-end")==="true"&&!t;return{...r,rowEnd:n}}},fn={name:"justify",displayName:"Justify",tagName:"GALLERY-JUSTIFY",disabledMediaItemOptions:["scale","limit-by"],mediaItemOptions:[{labelName:"End Row Here",name:"justify-row-end",type:"check-box",value:!0}],options:[{labelName:"Row Height",name:"row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{vw:30,vh:30,vmax:30,vmin:30,rem:20,em:20,px:300,etc:100},step:{px:1,rem:.1,em:.1,"%":.1,vw:.1,vmin:.1,vmax:.1,vh:.1,etc:1},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]},{type:"more-actions",children:[{labelName:"Clear Designated Rows",name:"clear-designated-rows",type:"button",className:"text-button remove",onClick:function(i){i.preventDefault(),i.stopPropagation();let e=Array.from(this.state.activeGallery.children).filter(t=>t.hasAttribute("justify-row-end")||t.hasAttribute("justify-row-start"));CargoEditor.mutationManager.execute(()=>{e.forEach(t=>{t.removeAttribute("justify-row-end")})}),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor())}}]}],mobileOptions:[{labelName:"Row Height",name:"mobile-row-height",type:"scrubber",addDefaultUnitToUnitlessNumber:!0,allowCalc:!0,allowVar:!0,value:"20%",min:1,defaultUnit:"%",allowedUnits:["px","%","rem","vmin","vmax","vw","vh","em"]},{labelName:"Gutter",name:"mobile-gutter",type:"composite-scrubber",addDefaultUnitToUnitlessNumber:!0,value:"2rem",defaultUnit:"rem",min:0,max:{rem:15,em:20,px:100,etc:10},allowedUnits:["px","%","rem","vmin","vmax","vw","vh"]},{labelName:"Row Align",name:"mobile-row-align",type:"radio",value:"fill",values:[{labelName:"Left",iconName:"alignContentLeft",value:"left"},{labelName:"Center",iconName:"alignContentCenter",value:"center"},{labelName:"Right",iconName:"alignContentRight",value:"right"},{labelName:"Fill",iconName:"alignContentFill",value:"fill"}]}]};fn.mediaItemDefaults=at(fn.mediaItemOptions);fn.defaults=at(fn.options);fn.mobileDefaults=at(fn.mobileOptions);mf.defaultProps={"show-tags":!0,"show-title":!0,gutter:fn.defaults.gutter.value,"row-align":fn.defaults["row-align"].value,"row-height":fn.defaults["row-height"].value,"mobile-gutter":void 0,"mobile-row-height":void 0,"mobile-row-align":void 0};b8=Ht(oo(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(mf)));Jt(b8,"gallery-justify",["thumbnail-index","thumbnail-index-metadata","links-filter-index","show-tags","show-title","row-align","row-height","gutter","mobile-gutter","mobile-row-height","mobile-row-align"],{renderIntoShadow:!0})});function y8(i,e){let t=e.pid;return{isMobileOnly:i.site.mobile_homepage_id==t||i.pages.byId[t]&&i.pages.byId[t].pin&&i.pages.byId[t].pin_options.screen_visibility==="mobile"}}var nr,gf,Uy,UT,qT=B(()=>{Ce();ht();Ni();We();Ot();Di();bs();to();Ci();Ne();nr=fe(Se(),1);te();gf=new Set;se||(window.addEventListener("mousedown",i=>{gf.forEach(e=>{e.setState({noPointerEvents:!0})})}),window.addEventListener("mouseup",i=>{gf.forEach(e=>{e.setState({noPointerEvents:!1})})}));Uy=class extends oe{constructor(e){super(e),this.handleWidth=20,this.minHandleOverlap=3,this.maxColumns=12,this.state={noPointerEvents:!1,buttonHovered:!1,focused:!1,loaded:!1,adminWindow:!1,showGhost:!1,isDraggingHandle:!1,isDragging:!1,activeIndex:-1,pointerStart:{x:0,y:0},delta:{x:0,y:0},instanceRect:{width:100,height:100,left:-999,top:-999},referenceColumnSpans:[]},this.columnAddOrRemoveObserver=new MutationObserver(this.onColumnAddOrRemove),this.columnAddOrRemoveObserverConfig={attributes:!0,childList:!0,subtree:!1},this.columnObserver=new MutationObserver(this.onColumnChange),this.columnObserverConfig={attributeFilter:["span"],childList:!1,subtree:!1},this.columnCache=[],this.columnOutlineRef=ve(),this.gearReaf=ve(),this.addThreshold=0,this.removeThreshold=0,this.saveColumnSettings=nr.default.debounce(this.saveColumnSettings,150),this.updateColumns=nr.default.throttle(this.updateColumns,40)}render(e,t){let{emptyColumns:r,gutter:n,columnSpans:s,displaySpans:l,layoutColumns:u,unitsToRemove:c,isMobile:d,mobileStack:f,mobileHideEmpty:g,elWidth:v,gutterWidth:S}=e,{activeIndex:C,delta:_,isDraggingHandle:M,adminWindow:T,showGhost:F,loaded:H,buttonHovered:L,focused:z,noPointerEvents:ie}=t,X=nr.default.uniq(r).length==1&&r[0]==!0,N=nr.default.uniq(s).length==1&&s[0]==null,ee=(v-S*(u-1))/u,de=s.length<u,Z=[],D=u%s.length==0||!N?u:s.length-c;d&&f&&(D=1);let V=Math.max(0,(v-S*(D-1))/D),G=Math.max(1,S);V=V-(G-S);let K=23;for(let ne=0;ne<D;ne++){let W=(V+G)*ne;Z.push(m("div",{className:"ghost-span",style:{transform:`translateX(${W}px)`,opacity:F?.04:0,width:V+"px"}},`ghost-${ne}`))}return m(Q,{children:[m(Oi,{baseNode:this.props.columnInstance}),m("style",{children:r.map((ne,W)=>ne?`
				::slotted(column-unit:nth-child(${W+1})){
					min-height: 1em;
				}`:"").join(`
`)}),m(Tr,{onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,buttonHeight:K,buttonMode:"outside",baseNode:this.props.columnInstance,el:this.props.columnInstance,render:ne=>{let{pointerAttention:W,overlayPosition:U}=ne,J=0,ae=0,ue=-K,he=2;return U.y<=K&&(ue=U.height+1,U.height+U.y>Ze.data.window.h+-K&&(ue=-U.y+Ze.data.window.h+-K+1,he=0)),m("div",{ref:this.columnOutlineRef,className:`editor-overlay editor-outline columns-outline${W?" hover":""}${W?" button-hover":""}${z?" focus":""}`,style:{transform:`translate3d(${U.x}px, ${U.y}px, 0)`,width:U.width+"px",height:U.height+"px",display:W||L||z?"block":"none"},children:[(W||z||L)&&Z,(W||z||L)&&!(d&&f)?s.map((me,Ae)=>{let Ie=l[Ae];if(me||(me=u/s.length),Ae==s.length-1||Ie=="hide"||(J+=me,J>=u))return null;ae+=ee*me+(me-1)*S+S;let De=`${ae+-S*.5}px`,He=this.handleWidth*-.5;return S<=this.handleWidth-this.minHandleOverlap&&(He=S*-.5+-this.minHandleOverlap),m(Q,{children:[de&&Ae<u&&m("div",{style:{pointerEvents:ie?"none":"auto",display:W||z||L?"block":"none",transform:`translateX(${De})`,width:this.handleWidth+"px",marginLeft:`${He}px`},className:"column-divider-handle",onMouseDown:ut=>this.onMouseDown(ut,Ae)}),m("div",{style:{display:W||z||L?"block":"none",transform:`translateX(${De})`,transition:M?"transform .08s cubic-bezier(0, 0, 0.2, 1)":""},className:"column-divider"},`col-${Ae}`)]})}):null,m("div",{className:"in-editor-buttons",style:{pointerEvents:ie?"none":"auto",transform:`translate(${he}px, ${ue}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:m("div",{className:"pointer-mask",children:[m("button",{className:"columns text",ref:this.gearReaf,onMouseDown:this.launchUIWindow,children:"Columns"}),(!d||this.props.isMobileOnly)&&m(Q,{children:[m("button",{onMouseDown:this.removeColumn,className:"remove",children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"})})}),m("button",{onMouseDown:this.addColumn,className:`add ${s.length>=this.maxColumns?"disabled":""}`,children:m("svg",{width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:[m("rect",{x:"4",y:"9.5",width:"12",height:"1",class:"button-fill"}),m("rect",{x:"9.5",y:"4",width:"1",height:"12",class:"button-fill"})]})})]})]})})]})}})]})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let t=this.gearReaf.current.getBoundingClientRect(),r=this.props.columnInstance.getBoundingClientRect(),n={x:t.x+0,y:r.y+-190,left:t.left+0,right:t.right+0,top:r.top+0+-190,bottom:r.top+27+-190,width:t.width,height:t.height};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"columns-ineditor",windowAlias:"columns",supportsMobile:!0,positionRect:n,closeButton:!1,closeOnAllClickout:!0,props:{columnNodes:[this.props.columnInstance]}})};addColumn=e=>{e?.preventDefault(),e?.stopPropagation(),!(this.props.columnSpans.length>=this.maxColumns)&&(CargoEditor.mutationManager.execute(()=>{let t=this.columnCache.pop()||document.createElement("column-unit");t.removeAttribute("span"),t.removeAttribute("slot"),t.removeAttribute("data-discarded-column"),this.props.columnInstance.appendChild(t),this.addThreshold>1&&this.updateColumns(this.props.columnSpans.map(r=>{})),this.addThreshold++,clearTimeout(this.addTimeout),this.addTimeout=setTimeout(()=>{this.addThreshold=0},500)}),this.props.columnInstance.render(),this.saveColumnSettings())};removeColumn=e=>{e?.preventDefault(),e?.stopPropagation();let t=e?.altKey||!1,r=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT");r.length!=0&&(CargoEditor.mutationManager.execute(()=>{if(this.props.columnSpans.length==1)Array.from(r[0].childNodes).forEach(n=>{this.props.columnInstance.parentNode.insertBefore(n,this.props.columnInstance)}),this.props.columnInstance.parentNode.insertBefore(document.createElement("br"),this.props.columnInstance),this.props.columnInstance.remove();else{let n=r[r.length-1];if(t){let s=r[r.length-2];Array.from(n.childNodes).forEach(l=>{s.appendChild(l)})}this.columnCache.push(n.cloneNode(!0)),this.waiting=!0,n.remove(),n.setAttribute("data-discarded-column",!0),this.removeThreshold>1&&this.updateColumns(this.props.columnSpans.map(s=>{})),this.removeThreshold++,clearTimeout(this.removeTimeout),this.removeTimeout=setTimeout(()=>{this.removeThreshold=0},500)}}),this.props.columnInstance.render())};updateUIWindowPosition=e=>{!this.state.focused||!this.state.UIWindow||(this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow.props.superBadScrollHack.scroll(e))};onMouseDown=(e,t)=>{e.button!=2&&(this.props.columnSpans.length<2||(e.preventDefault(),e.stopPropagation(),this.setState({showGhost:!0,isDraggingHandle:!0,activeIndex:t,pointerStart:{x:e.clientX,y:e.clientY},referenceColumnSpans:this.props.columnSpans,instanceRect:this.props.columnInstance.getBoundingClientRect()},()=>{this.dragTimeout=setTimeout(()=>{document.body.classList.add("dragging")},100),ye.adminWindow.addEventListener("pointermove",this.onPointerMove),ye.adminWindow.addEventListener("pointercancel",this.onPointerUp),ye.adminWindow.addEventListener("mouseup",this.onPointerUp),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointercancel",this.onPointerUp),window.addEventListener("mouseup",this.onPointerUp)})))};onPointerUp=e=>{clearTimeout(this.dragTimeout),ye.adminWindow.removeEventListener("pointermove",this.onPointerMove),ye.adminWindow.removeEventListener("pointercancel",this.onPointerUp),ye.adminWindow.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),window.removeEventListener("mouseup",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),this.setState({showGhost:!1,isDraggingHandle:!1,activeIndex:-1,delta:{x:0,y:0}}),document.body.classList.remove("dragging")};onPointerMove=e=>{e.preventDefault();let{activeIndex:t,pointerStart:r,instanceRect:n,referenceColumnSpans:s,isDraggingHandle:l}=this.state,{gutterWidth:u,displaySpans:c,unitsToRemove:d,layoutColumns:f,units:g}=this.props;if(l){let v=[...s];if(nr.default.uniq(s).length==1&&s[0]==null){let N=0,ee=0,de=0,Z=g/v.length-Math.floor(g/v.length),Y=Math.floor(g/v.length),D=v.map((V,G)=>{ee=ee+Z;let K=Y;return ee>1&&(K=K+1,ee=ee-1),G==v.length-1&&(K=g-N),N=N+K,K});this.setState({referenceColumnSpans:D});return}let C=(n.width-u*(f-1))/f,_=0,M=[];v.forEach((N,ee)=>{N||(N=f/v.length);let de=C*N+(N-1)*u;(ee==t||ee==t+1)&&M.push({x:_,width:de}),c[ee]!="hide"&&(_+=de+u)});let T=20,{left:F}=n,H={x:e.clientX-(M[1].x+F+-u*.5),y:e.clientY-r.y},L=v.map((N,ee)=>{let de=N,Z=C*N+(N-1)*u;return ee==t?(de=(Z+H.x+u)/(C+u),Math.round(Math.max(Math.min(de,g-1),1))):c[ee]=="hide"?N:Math.round(Math.max(Math.min(de,g-1),1))}),z=t+1;for(;c[z]=="hide";)z++;let ie=nr.default.sum(L)-L[z];L[z]=g-ie,L[z]==0&&(L[z]+=1,L[t]-=1),nr.default.uniq(L).length==1&&nr.default.sum(L)==g&&(L=L.map(N=>{})),Math.abs(H.x)>4&&this.updateColumns(L),this.setState({delta:H})}};checkColumns=()=>{let{layoutColumns:e,columnSpans:t,units:r}=this.props;if(t.length==0||nr.default.uniq(t).length==1&&t[0]==null)return;let s=t.includes(void 0),l=nr.default.sum(t),u=[...t],c=!1;if(l!=r||s){if(l>r)c=!0;else if(l<=r)if(s){let f=r-l,g=t.filter(S=>S==null).length,v=Math.floor(f/g);t.forEach((S,C)=>{if(C==t.length-1&&f>0)u[C]=f;else if(S==null&&f==0){let _=C;for(;_>=0&&t[_]<2||t[_]==null;)_--;t[_]>1?(u[C]=Math.floor(t[_]/2),u[_]=t[_]-u[C]):c=!0}else S==null?(u[C]=v,f-=v):u[C]=S})}else{let f=r-l;u[u.length-1]=f+u[u.length-1]}(nr.default.uniq(u).length==1&&nr.default.sum(u)==r||c)&&(u=u.map(f=>{})),this.updateColumns(u)}else this.updateColumns(t)};updateColumns=e=>{let t=Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT"),r=[];t.forEach((n,s)=>{e[s]==null?r.push([n,null]):parseInt(n.getAttribute("span"))!=e[s]&&r.push([n,e[s]])}),r.length>0&&(CargoEditor?.mutationManager?.execute(()=>{r.forEach(([n,s])=>{s===null?n.removeAttribute("span"):n.setAttribute("span",s)})}),this.saveColumnSettings(),this.props.columnInstance.render())};saveColumnSettings=()=>{ye.adminWindow.store.dispatch({type:"UPDATE_ADMIN_STATE",payload:{session:{"last-column-settings":this.getColumnInfo()}}})};onDragOver=(e,t,r)=>{r.fromOutside&&!r.inAdmin?(ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance)):(ze.unlockItem(this.props.columnInstance),ze.deactivateHoverElement(this.props.columnInstance))};onDragStart=(e,t,r)=>{ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance)};onDragEnd=(e,t)=>{ze.unlockItem(this.props.columnInstance),ze.testHover()};componentDidUpdate(e,t){(!nr.default.isEqual(e.columnSpans,this.props.columnSpans)||e.layoutColumns+e.unitsToRemove!=this.props.layoutColumns+this.props.unitsToRemove)&&(Math.abs(e.layoutColumns+e.unitsToRemove-(this.props.layoutColumns+this.props.unitsToRemove))>2?this.updateColumns(this.props.columnSpans.map(r=>{})):this.checkColumns()),(e.gutter!==this.props.gutter||e["mobile-gutter"]!==this.props["mobile-gutter"])&&this.updateEditorRect()}updateEditorRect=nr.default.throttle(()=>{ze.updateElementRect(this.props.columnInstance)},120,{leading:!0,trailing:!0});getColumnInfo=()=>({columnSizes:this.props.columnSpans.map(e=>e??0),units:this.props.units,columns:this.props.columnSpans.length,emptySet:nr.default.uniq(this.props.emptyColumns).length==1&&this.props.emptyColumns[0]==!0});onColumnAddOrRemove=e=>{let t=!1;e.forEach(r=>{Array.from(r.addedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(t=!0),Array.from(r.removedNodes).find(n=>n.tagName=="COLUMN-UNIT")&&(t=!0)}),t&&(this.columnObserver.disconnect(),t&&(Array.from(this.props.columnInstance.children).filter(n=>n.tagName=="COLUMN-UNIT").forEach(n=>{this.columnObserver.observe(n,this.columnObserverConfig)}),this.state.UIWindow?.setState?.({activeSettings:this.state.UIWindow.getColumnSettingsFromNodes()}))),this.state.UIWindow?.onMutation?.(),this.props.columnInstance.render()};onColumnChange=e=>{let t=!0;e.forEach(r=>{r.type=="attributes"&&r.attributeName==="span"&&(t=!0)}),t&&(this.props.columnInstance.render(),this.state.UIWindow?.onMutation?.())};setColumns=e=>{let t=Array.from(this.props.columnInstance.children).filter(s=>s.tagName=="COLUMN-UNIT"),r=t.length;if(r!=e){if(r<e)for(var n=0;n<e-r;n++){let s=this.columnCache.pop()||document.createElement("column-unit");s.removeAttribute("span"),this.props.columnInstance.appendChild(s)}else if(e<r)for(var n=r-1;n>=e;n--){let l=t[n];this.columnCache.push(l.cloneNode(!0)),l.setAttribute("data-discarded-column",!0),l.remove()}this.saveColumnSettings()}};resetColumns=()=>{this.updateColumns(this.props.columnSpans.map(e=>{}))};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount(){gf.add(this),ye.globalDragEventController.on("dragover",this.onDragOver),ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragend",this.onDragEnd),ye.globalDragEventController.on("drop",this.onDragEnd),this.columnAddOrRemoveObserver.observe(this.props.columnInstance,this.columnAddOrRemoveObserverConfig),Array.from(this.props.columnInstance.children).filter(r=>r.tagName=="COLUMN-UNIT").forEach(r=>{this.columnObserver.observe(r,this.columnObserverConfig)}),this.checkColumns(),this.props.columnInstance._editorInterface=this;let t=[];if(Array.from(this.props.columnInstance.childNodes).forEach((r,n)=>{r.tagName!=="COLUMN-UNIT"&&(this.props.columnInstance.removeChild(r),t.push(r))}),t.length>0&&console.warn("removed stray elements from column set",t),this.props.columnInstance._newColumnSet){delete this.props.columnInstance._newColumnSet,ze.activateHoverElement(this.props.columnInstance),ze.lockItem(this.props.columnInstance);let r=n=>{this.showOutlinesTimeout=setTimeout(()=>{ze.unlockItem(this.props.columnInstance),ze.testHover()},500),window.removeEventListener("mousedown",r)};window.addEventListener("mousedown",r)}this.testHoverTimeout=setTimeout(()=>{ze.testHover()},300)}componentWillUnmount(){gf.delete(this),clearTimeout(this.testHoverTimeout),this.state.UIWindow?.closeWindow?.(),clearTimeout(this.showOutlinesTimeout),this.updateColumns.cancel(),this.columnAddOrRemoveObserver.disconnect(),this.columnObserver.disconnect(),ye.globalDragEventController.off("dragover",this.onDragOver),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragend",this.onDragEnd),ye.globalDragEventController.off("drop",this.onDragEnd),delete this.props.columnInstance._editorInterface}};UT=Ht(Oe(y8,null)(Uy))});var BT,vf,w8,WT=B(()=>{Ce();We();ht();Ne();vs();Ci();xa();ys();BT=fe(Se(),1);Ki();Ni();ya();qT();te();vf=class extends oe{constructor(e){super(e),this.state={mobileActive:Ze.data.mobile.active,elWidth:0,gutterWidth:0,hasSizes:!1,incrementLayout:0},this.props.baseNode.render=()=>{this.setState({incrementLayout:this.state.incrementLayout++})}}render(e,t){let{adminMode:r,baseNode:n,pageInfo:s,"mobile-stack":l,"mobile-hide-empty":u,"mobile-gutter":c,units:d}=e,{gutterWidth:f,mobileActive:g,hasSizes:v}=t,{elWidth:S}=t;v||(S=this.props.baseNode.offsetWidth);let C=[],_="";g?c===void 0?(C=Zt(e.gutter,"rem"),C[1].indexOf("calc(")>-1?_=C[1].replace("calc(","("):_=C.join(""),_="calc( var(--mobile-padding-offset, 1) * "+_+" )"):(C=Zt(c,"rem"),_=C.join(""),_.includes("rem")&&(_="calc( var(--mobile-padding-offset, 1) * "+_+" )")):(C=Zt(e.gutter,"rem"),_=C.join(""));let M=Array.from(n.children).filter(Y=>Y.nodeName==="COLUMN-UNIT"&&!Y.hasAttribute("data-discarded-column"));Array.from(n.children).filter(Y=>Y.nodeName==="COLUMN-UNIT"&&Y.hasAttribute("data-discarded-column")).forEach(Y=>{Y.remove()});let F=M.map(Y=>!Array.from(Y.childNodes).some(D=>D.nodeType===Node.ELEMENT_NODE||D.nodeType===Node.TEXT_NODE&&D.nodeValue.trim().length>0)),H=M.map(Y=>parseInt(Y.getAttribute("span"))||void 0),L=0,z=H.map((Y,D)=>(g&&F[D]&&(u||l)?(L=L+(parseInt(Y)||1),Y="hide"):Y=Y||"uniform",Y)),ie=z.filter(Y=>Y=="uniform"||Y=="hide").length==z.length,X=Math.max(M.length,this.props.units);ie&&(L=z.filter(Y=>Y=="hide").length),X=X-L;let{columnAndGutterMap:N,columnWidth:ee,gutterPixelWidth:de}=Ul(ie?M.length-L:X,f,S),Z="";if(g&&l){Z=`::slotted(column-unit){
				--column-width: ${S}px;
				--resize-parent-width: ${S}px;

			}`;let Y=BT.default.findLastIndex(z,D=>D!=="hide");z.forEach((D,V)=>{D=="hide"?Z+=`
					::slotted(column-unit[slot="${V}"]) {
						display: none;
					}`:V<Y&&(Z+=`
					::slotted(column-unit[slot="${V}"]) {
						margin-bottom: ${de}px;
					}`)})}else{let Y=0;Z=z.map((D,V)=>{let G,K;switch(D){case"uniform":return G=N[Y]?.right-N[Y]?.left||10,Y+=1,`::slotted(column-unit[slot="${V}"]) {
							--column-width: ${G}px;
							--resize-parent-width: ${G}px;
						}`;case"hide":return`::slotted(column-unit[slot="${V}"]) {
							display: none;
						}`;default:return G=N[Y+(D+-1)]?.right-N[Y]?.left||10,Y+=D,`::slotted(column-unit[slot="${V}"]) {
							--column-width: ${G}px;
							--resize-parent-width: ${G}px;
						}`}}).join(`
				`)}return M.forEach((Y,D)=>{Y.setAttribute("slot",D)}),Ge(m(Q,{children:[m(dn,{adminMode:r,baseNode:n,customElementMode:!0,children:[m("style",{children:`
						:host{
							visibility: ${v?"visible":"hidden"};
			 				--columns-gutter: ${de}px;
							margin-top: calc(var(--gutter-expand, 0) * ${de}px);
		
							position: relative;
							display: block;
							contain: layout;
						}
						.column-host {
							${g&&l?`
									display: block;
								`:`
									display: flex;
								    align-items: stretch;
								    justify-content: flex-start;							
									flex-direction: row;
									flex-wrap: nowrap;							
								`}
							position: relative;
							width: 100%;
							clear: both;
						}				
					`}),m("style",{children:`
		
						::slotted(column-unit:not(:last-child)) {
						    margin-right: ${g&&l?0:de+"px"};
						}
		
						::slotted(column-unit) {
							display: block;
							word-wrap: break-word;
							position: relative;
						    max-width: 100%;   
						    flex-grow: 0;
						    flex-shrink: 0;
						    flex-basis: var(--column-width);
						    width: var(--column-width);
						}
		
						::slotted(column-unit:last-child) {
						    flex-grow: 1;
						}
		
						${Z}				
					`}),m(Mr,{values:{elWidth:"100%",gutterWidth:_},onResize:this.onResize}),m("div",{class:"column-host",children:M.map((Y,D)=>m("slot",{name:D}))})]}),r&&s.isEditing&&!se&&m(UT,{elWidth:S,gutterWidth:f,emptyColumns:F,isMobile:g,mobileStack:l,mobileHideEmpty:u,layoutColumns:X,units:d,columnSpans:H,unitsToRemove:L,displaySpans:z,gutter:_,columnInstance:n})]}),this.props.baseNode.shadowRoot)}onResize=(e,t)=>{this.setState(r=>{let n={...r};return n[e]=t,n.hasSizes=!0,n})};onMobileChange=e=>{this.setState({mobileActive:e})};componentDidMount(){Ze.on("mobile-change",this.onMobileChange)}componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange)}};vf.defaultProps={units:12,gutter:"1rem","mobile-stack":!0,"mobile-hide-empty":!1,"mobile-gutter":void 0};w8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(vf));Jt(w8,"column-set",["units","gutter","mobile-gutter","mobile-stack","mobile-hide-empty"])});var Nce,qy,$T,VT=B(()=>{Ce();We();Ot();bs();Di();Nce=fe(Se(),1);to();te();qy=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,t){let{audioPlayerInstance:r}=e,{draggingOver:n,showInsertionIndicator:s,buttonHovered:l,focused:u}=t,c=23;return m(Q,{children:[m("style",{id:"audio-player-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(Tr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.audioPlayerInstance,render:d=>{let{pointerAttention:f,overlayPosition:g}=d,v=0;return g.y<=1&&(v=Math.min(-g.y+1,g.height+-c+1)),m(Q,{children:[m(Oi,{baseNode:r,overlayPosition:g,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${f?" hover":""}${f?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${g.x}px, ${g.y}px, 0)`,width:g.width+"px",height:g.height+"px",display:f||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${v}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:S=>{this.launchUIWindow(S)},ref:this.AudioPlayerButtonRef,className:"text",children:"Audio Player"}),e.children]}),e.otherUI]})]})}})]})}launchUIWindow=(e,t)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.audioPlayerInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:10};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"audioplayer-ineditor",windowAlias:"audioplayer",positionRect:n,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{audioPlayerNode:this.props.audioPlayerInstance}})};scrollIntoView=()=>{let e=this.props.audioPlayerInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.audioPlayerInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.props.onScrollWhileHovered&&this.props.onScrollWhileHovered(e),this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.audioPlayerInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.audioPlayerInstance._editorInterface}},$T=qy});var Wce,By,Zc,Wy,x8,jT=B(()=>{Ce();We();ta();Wce=fe(Se(),1);Ne();ht();Ki();Ni();VT();te();se||(By=new ResizeObserver(i=>{i.forEach(e=>{if(Zc.has(e.target)){let t=Zc.get(e.target),r=e.borderBoxSize[0]||e.borderBoxSize;t.setState({size:{width:r.inlineSize,height:r.blockSize}})}})}));Zc=new Map,Wy=class extends oe{constructor(e){super(e);let t=this.getFiletype(e.src);this.audio_track=ve(),this.bar=ve(),this.track_buffer=ve(),this.current_time=ve(),this.progressIndicator=ve(),this.state={size:{width:100,height:100},mounted:t!=="stream",filetype:t,seeking:!1,mouseInteractionDisabled:!1,mouseMoveActive:!1,dragging:!1,streaming:!1,paused:!0,playing:!1,started:!1,ended:!1,preventTransition:!1,currentProgress:0,currentBuffer:0,remainingBuffer:0,currentTime:"0:00",rawTimeStamp:0,totalTime:"0:00",progress:0,hasError:!1,hasMetadata:!1}}render(e,t){let{baseNode:r,adminMode:n,label:s,loop:l,"total-time":u,"playback-time":c,"seek-controls":d,"browser-default":f,pageInfo:g}=e,{visible:v}=t,S=!this.state.paused||this.state.started,C=this.props.src?this.props.src:null;return Ge(m(Q,{children:[n&&g.isEditing&&m($T,{audioPlayerInstance:r}),m("style",{children:`
					* {
				    	box-sizing: border-box;						
					}

					:host {
						--audio-player-progress: ${this.state.currentProgress/100||0};
						--audio-player-buffer-progress: ${this.state.currentBuffer/100||0};
						--audio-player-buffer-remaining: ${this.state.remainingBuffer/100||0};
						max-width: 100%;
						${f?`
						    width: 400px;
						    `:`
						    position: relative;
						    display: inline-flex;
						    align-items: stretch;
						    width: 100%;`}
					}

					${f&&`
					audio {
						width: 100%;
					}

					[part="time-bar"], 
					[part="button"],
					[part="separator"]{
						display:none!important;
					}						
					`}



					[part="buffer"],
					[part="progress"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="label"] {
						display: ${this.state.paused&&!this.state.started?"block":"none"};
					}

					[part="current-time"] {
						display: ${!this.state.streaming&&this.state.started?"block":"none"};
					}

					[part="stream-anim"] {
						display: ${S&&this.state.streaming?"block":"none"};
					}

					[part="total-time"] {
						display: ${S&&!this.state.streaming?"block":"none"};
					}

					[part="buffer"]{
						left: calc( var(--audio-player-buffer-progress, 0) * 100% );
						width: calc( var(--audio-player-buffer-remaining, 0) * 100% );
					}

					[part="progress"]{
						width: calc( var(--audio-player-progress, 0) * 100% );
					}

					[part="stream-anim"] > span {
					  animation-name: period;
					  animation-duration: 1.5s;
					  animation-iteration-count: infinite;
					  animation-timing-function: steps(2, end);  
					}

					[part="stream-anim"] > span:before {
						content: '.';
					}

					[part="stream-anim"] > span:nth-child(1){
					  animation-delay: -.4s;
					}

					[part="stream-anim"] > span:nth-child(2){
					  animation-delay: -.2s;
					}

					[part="stream-anim"] > span:nth-child(3){
					  animation-delay: 0s;
					}

					@keyframes period {
					  from {
					    visibility: hidden;
					  }
					  to {
					    visibility: visible;
					  }
					   
					}					
				
					`}),m("div",{part:"button",onClick:_=>this.togglePlay(_),children:m("svg",{"vector-effect":"non-scaling-stroke",part:this.state.paused?"play-icon icon":"pause-icon icon",x:"0px",y:"0px",viewBox:this.state.paused?"0 0 11.3 12":"0 0 10 12",children:this.state.paused?m("polygon",{points:"0 0 0 12 11.3 6 0 0",part:"play-icon-path icon-path"}):m(Q,{children:[m("polygon",{part:"pause-icon-path icon-path",points:"0 0 0 12 1 12 4 12 4 0 1 0 0 0"}),m("polygon",{part:"pause-icon-path icon-path",points:"9 0 6 0 6 12 9 12 10 12 10 0 9 0"})]})})}),m("div",{part:"separator",children:"\xA0"}),m("div",{draggable:this.props.adminMode?"true":null,part:"time-bar",ref:this.bar,onMouseDown:_=>this.onMouseDown(_),onTouchStart:_=>this.onMouseDown(_),onTouchEnd:_=>this.onMouseUp(_),children:[m("div",{ref:this.track_buffer,part:"buffer",children:" "}),m("div",{part:"progress",children:m("div",{ref:this.progressIndicator,part:"progress-indicator"})}),m("div",{part:"label",children:this.state.hasError?"Unable to load file":m(Q,{children:this.props.label})}),m("div",{part:"current-time",ref:this.current_time,children:this.state.currentTime}),m("div",{part:"stream-anim",children:[m("span",{part:"animated-period period-one"}),m("span",{part:"animated-period period-two"}),m("span",{part:"animated-period period-three"})]}),m("div",{part:"total-time",children:this.state.totalTime})]}),m("audio",{draggable:this.props.adminMode?"true":null,part:"audio-element",controls:f===!0,src:this.state.mounted?C:null,ref:this.audio_track,loop:this.props.loop===!0||this.props.loop==="true"?!0:void 0,preload:this.state.filetype==="file"?"metadata":null,onProgress:_=>this.onProgress(_),onLoadedMetaData:_=>this.onLoadedMetadata(_),onTimeUpdate:_=>this.updatePlayerTime(_),onSeeking:_=>this.onSeekStart(_),onSeeked:_=>this.onSeekEnd(_),onEnded:_=>this.onTrackEnd(_),onError:_=>this.onError(_),onCanPlay:_=>this.clearError(_)})]}),r.shadowRoot)}disableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!0})};enableMouseInteraction=()=>{this.setState({mouseInteractionDisabled:!1})};setPlayState=e=>{this.setState({playing:!0,paused:!1,started:!0,streaming:this.state.filetype==="stream"})};setPauseState=e=>{this.setState({paused:!0},()=>{this.props.baseNode.setAttribute("status","stopped")}),this.state.streaming&&this.setInitialState()};setInitialState=(e,t)=>{this.state.streaming&&this.setState({started:!1}),this.setState({playing:!1,paused:!0,animIndex:0,currentTime:0,currentProgress:0,currentBuffer:0,remainingBuffer:0,rawTimeStamp:0},()=>{this.props.baseNode.setAttribute("status",t?.error===!0?"error":"stopped")})};onMouseDown=e=>{this.state.mouseInteractionDisabled||this.state.streaming||e.button===2||this.state.started===!1||(e.preventDefault(),document.body.classList.add("audio-player-dragging"),this.calculateProgressPosition(e),this.setState({mouseMoveActive:!0,preventTransition:!0,dragging:!1}),this.bar.current.addEventListener("mousemove",this.onMouseInteraction),this.bar.current.addEventListener("touchmove",this.onMouseInteraction),window.addEventListener("mousemove",this.onMouseInteraction),window.addEventListener("mouseup",this.onMouseUp))};calculateProgressPosition=e=>{let t=this.bar.current.getBoundingClientRect(),r=e.clientX||e.touches[0].clientX;r<t.left?this.audio_track.current.currentTime=0:r>t.right?this.audio_track.current.currentTime=this.audio_track.current.duration:this.audio_track.current.currentTime=this.audio_track.current.duration*((r-t.left)/this.state.size.width),this.updatePlayerTime()};onMouseInteraction=e=>{this.state.mouseInteractionDisabled||this.state.streaming||!this.state.started||!this.state.mouseMoveActive||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING||(this.calculateProgressPosition(e),this.setState({dragging:!0}))};onMouseUp=e=>{document.body.classList.remove("audio-player-dragging"),this.state.dragging===!0&&(!this.state.mouseInteractionDisabled&&!this.state.streaming&&this.state.started&&this.state.mouseMoveActive&&this.audio_track.current.readyState!==this.audio_track.current.HAVE_NOTHING&&this.calculateProgressPosition(e),this.state.paused===!1&&this.state.started===!0&&(this.audio_track.current.currentTime>=this.audio_track.current.duration-.001?this.setPauseState():this.audio_track.current.play())),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("mousemove",this.onMouseInteraction),this.bar.current.removeEventListener("touchmove",this.onMouseInteraction),this.setState({dragging:!1,mouseMoveActive:!1})};onSeekStart=e=>{this.setState({seeking:!0})};onSeekEnd=e=>{this.setState({seeking:!1})};togglePlay=e=>{if(!(this.state.mouseInteractionDisabled||!this.state.mounted))if(this.audio_track.current.paused){let t=this.audio_track.current.play();Zc.forEach((r,n)=>{r!==this&&(r.audio_track.current.pause(),r.setPauseState())}),t?t.then(function(){this.setPlayState(),this.setState({preventTransition:!1})}.bind(this)).catch(this.onError).finally(function(){this.setState({preventTransition:!0})}.bind(this)):this.setPlayState()}else this.audio_track.current.pause(),this.setPauseState()};onError=e=>{this.props.adminMode||(this.setState({hasError:!0},()=>{this.setInitialState(null,{error:!0})}),e instanceof DOMException&&console.error(e))};clearError=e=>{this.state.hasError&&this.setState({hasError:!1},()=>{this.setInitialState(null,{error:!1})})};onTrackEnd=e=>{this.state.dragging!==!0&&(this.setState({ended:!0}),this.setPauseState())};onLoadedMetadata=e=>{if(!this.audio_track.current)return;let t=this.timestampToHumanReadable(this.audio_track.current.duration);this.setState({totalTime:t,streaming:!1,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","stopped")})};onProgress=e=>{this.audio_track.current&&(this.state.filetype==="stream"?this.setState({totalTime:0,streaming:!0,hasMetadata:!0},()=>{this.props.baseNode.setAttribute("status","streaming")}):this.setState({streaming:!1},()=>{this.props.baseNode.setAttribute("status","playing")}),this.updateBufferSize())};updatePlayerTime=e=>{if(cancelAnimationFrame(this.updateFrame),!this.state.started||!this.audio_track.current||this.audio_track.current.readyState===this.audio_track.current.HAVE_NOTHING)return;this.setState({rawTimeStamp:this.audio_track.current.currentTime});let{"browser-default":t}=this.props;if(t)return;let r=!1,n=this.audio_track.current.currentTime,s=this.timestampToHumanReadable(n),l=n/this.audio_track.current.duration*100,u=this.state.size.width,c=parseInt(window.getComputedStyle(this.progressIndicator.current).width);(this.props.loop==="true"||this.props.loop===!0)&&(l>=99.5||l===0)&&(r=!0),u*(l/100)<c&&(l=(100-l)*(c/u)),this.setState(d=>{let f=l;return d.dragging&&Math.abs(d.currentProgress-l)>1&&(f=l*.1+d.currentProgress*.9),this.updateBufferSize(.01*f*this.audio_track.current.duration),{currentTime:s,currentBuffer:f,currentProgress:f,preventTransition:r}}),this.state.dragging&&(this.updateFrame=requestAnimationFrame(this.updatePlayerTime))};getFiletype=(e="")=>{let t=!1;try{t=new URL(e).pathname.split("/").pop()?.indexOf(".")>-1}catch(n){console.error(n)}return t&&["m3u","pls","m3u8","asx"].some(n=>e.toLowerCase().endsWith(n))?"playlist":t?"file":"stream"};updateBufferSize=e=>{if(!this.audio_track.current)return;let t,r=e||this.audio_track.current.currentTime,n=0;for(var s=0;s<this.audio_track.current.buffered.length;s++)if(r>=this.audio_track.current.buffered.start(s)&&r<=this.audio_track.current.buffered.end(s)){t=Math.max(this.audio_track.current.buffered.end(s)-r,0),n=t/this.audio_track.current.duration*100;break}n!==0&&(n+=1),this.setState({remainingBuffer:n})};timestampToHumanReadable=e=>{if(isNaN(e))return"0:00";var t=Math.floor(e%60),r=Math.floor(e/60),n=Math.floor(r/60);return t<10&&(t="0"+t),n>0?(r=r-n*60,r<10&&(r="0"+r),n+":"+r+":"+t):r+":"+t};onDragStart=e=>{this.setState({started:!1}),this.audio_track.current.pause(),this.setInitialState(),e.dataTransfer.setData("audio-player-drag","true")};componentDidMount(){this.state.mounted||setTimeout(()=>{console.log("mounting",this.state.filetype),this.setState({mounted:!0})},this.state.filetype==="stream"?2e3:0),se||(this.props.baseNode.addEventListener("dragstart",this.onDragStart),Zc.set(this.bar.current,this),By.observe(this.bar.current))}componentDidUpdate(e){e.src!==this.props.src&&(this.setState({filetype:this.props.src}),e.src.substring(0,5)==="blob:"&&(this.state.rawTimeStamp!==0&&(this.audio_track.current.currentTime=this.state.rawTimeStamp),this.state.paused===!1&&this.audio_track.current.play()))}componentWillUnmount(){se||(this.props.baseNode.removeEventListener("dragstart",this.onDragStart),Zc.delete(this.bar.current),By.unobserve(this.bar.current)),window.removeEventListener("mouseup",this.onMouseUp)}},x8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(Wy));Jt(x8,"audio-player",["src","label","loop","total-time","playback-time","seek-controls","browser-default"])});var Vy,S8,_8,Gl,$y,jy,GT,KT=B(()=>{Ce();We();Ot();bs();Di();to();Ne();Vy=fe(Se(),1);te();S8=["{day}, {month-name} {day-of-month}, {year} {hour}:{minute} {period}","{hour}:{minute}:{second} {period}","{hour}:{minute}:{second}","{day-of-month}-{month}-{year}","{day-of-month} {month-name} {year}","{month-name} {day-of-month}, {year}","{month}/{day-of-month}/{year}","{day-of-month}/{month}/{year}","{time-of-day} of the {ordinal}"],_8={day:"Day","day-of-month":"Day of Month",ordinal:"Ordinal Date",month:"Month","month-name":"Name of Month",period:"AM/PM",year:"Year",hour:"Hour",minute:"Minute",second:"Second",centisecond:"Centisecond","roman-year":"Year in Roman Numerals","time-of-day":"Time of Day"},Gl=new Set,$y=Vy.default.debounce(()=>{let i=Array.from(Gl),e=[],t=i.filter(s=>s.state.selected).length>1,r=0;if(t){let s=i.map(u=>{let c;return u.state.selected?c=u.props.baseNode.getBoundingClientRect():c={top:-9e9},{component:u,rect:c}});e=Vy.default.sortBy(s,(u,c)=>u.rect.top);let l=e.filter(u=>u.component.state.selected);r=l[l.length-1].rect.bottom+-l[0].rect.top,e=e.map(u=>u.component)}else e=i;let n=!1;e.forEach(s=>{!t||!s.state.selected?s.setState({pointerProxyAttention:!1,partOfMultipleSelection:!1,showMultipleSelectionButton:!1,multiSelectHeight:null}):n?s.setState({partOfMultipleSelection:!0,showMultipleSelectionButton:!1,multiSelectHeight:null}):(s.setState({pointerProxyAttention:!0,partOfMultipleSelection:!0,showMultipleSelectionButton:!0,multiSelectHeight:r}),n=!0)})},100);se||(CargoEditor&&Object.keys(CargoEditor||{}).length>0?CargoEditor.events.on("cursor-activity",$y):window.addEventListener("CargoEditor-load",function(){CargoEditor.events.on("cursor-activity",$y)}),document.addEventListener("selectionchange",$y));jy=class extends oe{constructor(e){super(e),this.state={UIWindow:!1,showMultipleSelectionButton:!1,partOfMultipleSelection:!1,fontSizePx:16,lineHeightPx:24,selected:!1}}render(e,t){let{}=e,{UIWindow:r,showMultipleSelectionButton:n,partOfMultipleSelection:s,pointerProxyAttention:l,fontSizePx:u,lineHeightPx:c}=t,d,f=0,g=this.state.showMultipleSelectionButton&&this.state.multiSelectHeight;return m(Q,{children:[m("style",{id:"digital-clock-editor",children:`::selection{
						background-color:transparent;
					}
					:host(::selection) {
						background-color:transparent;
					}`}),m(Oi,{baseNode:this.props.clockInstance,overlayMode:!1,onSelectionChange:this.onSelectionChange}),m(Tr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.clockInstance,buttonHeight:0,onPointerIn:this.pointerIn,onPointerOut:this.pointerOut,render:v=>{let{pointerAttention:S,overlayPosition:C}=v,_=0;return C.y<=1&&(_=Math.min(-C.y+1,C.height+-f+1)),n&&s?d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${C.height<30?"small":""} clock-button multiple`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,onMouseUp:this.onOptionsButtonContextMenu,children:"Edit Multiple"}):!n&&!s&&(d=m("button",{style:{transform:`translateY(${_}px)`},"data-editor-overlay":"true",class:`${C.height<30?"small":""} clock-button`,onMouseDown:this.onOptionsButtonClick,onContextMenu:this.onOptionsButtonContextMenu,children:m("svg",{width:"17",height:"18",viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[m("circle",{className:"inner-circle",cx:"8.5",cy:"8.65747",r:"7.5"}),m("circle",{className:"outer-circle",cx:"8.5",cy:"8.65747",r:"8"}),m("circle",{className:"dot",cx:"8.49977",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"5.07",cy:"8.65747",r:"1"}),m("circle",{className:"dot",cx:"11.9295",cy:"8.65747",r:"1"})]})})),m(Q,{children:m("div",{className:`editor-overlay ${n?"edit-multiple":""} digital-clock editor-outline${S||r?" hover":""}${S||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${C.x}px, ${C.y}px, 0)`,width:C.width+"px",height:g?this.state.multiSelectHeight:C.height+"px"},children:[d,e.children]})})}})]})}onOptionsButtonContextMenu=e=>{e.metaKey||e.preventDefault()};onMouseDown=e=>{e.button==2&&!e.metaKey&&(e.preventDefault(),this.launchUIWindow(e))};onOptionsButtonClick=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation(),this.launchUIWindow()}};launchUIWindow=e=>{let t=this.props.clockInstance.getBoundingClientRect(),r=document.documentElement.clientHeight,n=document.documentElement.clientWidth,s=this.props.clockInstance.getAttribute("value"),u=S8.includes(s)||s?.indexOf?.("{")===-1?270:360,c=220,d=15,f=t.left,g=t.top,v={x:t.left,y:t.top,left:t.left,right:t.left,top:t.top,bottom:t.top+27,width:0,height:10};r-t.bottom>u+d?g=t.top+t.height+d:r-(t.bottom+-t.height*.5)>u+d?g=t.top+t.height*.5+d:t.top>u+-d&&(g=t.top+-u+-d),n-t.left<c&&(f=t.left-c),v.x=f,v.left=f,v.right=f,v.width=0,v.height=0,v.y=g,v.top=g,v.bottom=g,ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"digital-clock",positionRect:v,closeButton:!1,closeOnSingleClickout:!0,ignoreEditorWindowClickout:!1,supportsMobile:!1,props:{clickedElement:this.props.clockInstance,elements:Array.from(Gl).filter(S=>S.state.selected||S.props.clockInstance===this.props.clockInstance).map(S=>S.props.clockInstance)}})};pointerIn=()=>{this.state.selected&&Gl.forEach(t=>{t.state.showMultipleSelectionButton&&t.setState({pointerProxyAttention:!0})});let e=window.getComputedStyle(this.props.clockInstance);this.setState({fontSizePx:e.getPropertyValue("font-size"),lineHeightPx:e.getPropertyValue("line-height"),pointerAttention:!0})};pointerOut=()=>{this.state.selected&&Gl.forEach(e=>{e.state.pointerProxyAttention&&e.setState({pointerProxyAttention:!1})}),this.setState({pointerAttention:!1})};onSelectionChange=e=>{!e&&this.state.showMultipleSelectionButton&&this.setState({pointerProxyAttention:!1,showMultipleSelectionButton:!1}),this.setState({selected:e})};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){Gl.add(this),this.props.clockInstance._editorInterface=this,this.props.clockInstance._newClock&&(delete this.props.clockInstance._newClock,setTimeout(()=>{this.launchUIWindow()},10)),this.props.clockInstance.addEventListener("contextmenu",this.onMouseDown)}componentWillUnmount(){this.props.clockInstance.removeEventListener("contextmenu",this.onMouseDown),Gl.delete(this),this.state.UIWindow?.closeWindow?.(),delete this.props.clockInstance._editorInterface}componentDidUpdate(e,t){this.props.value!==e.value&&this.props.clockInstance.getAttribute("value")&&this.state.UIWindow?.setState?.({customVal:_8.hasOwnProperty(this.props.value)?"{"+this.props.value+"}":this.props.value})}},GT=jy});var _de,Jc,bf,C8,E8,P8,XT,yf,I8,ZT=B(()=>{Ce();We();ht();Ne();Ni();Ci();Gr();KT();_de=fe(Se(),1);Ki();te();Jc=new Set,bf=null,C8=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"],E8=["january","february","march","april","may","june","july","august","september","october","november","december"],P8=["time-of-day","day","day-of-month","ordinal","month","month-name","period","roman-year","year","hour","minute","second","centisecond"],XT=i=>{Jc.forEach(e=>{let t=new Date;e.updateTime(t)}),bf=requestAnimationFrame(XT)},yf=class extends oe{constructor(e){super(e),this.state={}}romanize(e){if(isNaN(e))return NaN;for(var t=String(+e).split(""),r=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],n="",s=3;s--;)n=(r[+t.pop()+s*10]||"")+n;return Array(+t.join("")+1).join("M")+n}pad=e=>e<10?"0"+e:e.toString();dateTerms=(e,t)=>{switch(e){case"{time-of-day}":return m("span",{part:"time-of-day section"},"time-of-day-"+t);case"{day-of-month}":return m("span",{part:"day-of-month section",children:this.state["day-of-month"]},"day-of-month-"+t);case"{ordinal}":return m("span",{part:"ordinal section"},"ordinal"+t);case"{month}":return m("span",{part:"month section",children:this.state.month},"month-"+t);case"{day}":return m("span",{part:"day section"},"day-"+t);case"{roman-year}":return m("span",{part:"roman-year section",children:this.state.romanYear},"roman-year-"+t);case"{centisecond}":return m("span",{part:"centisecond section",children:this.state.centisecond},"roman-year-"+t);case"{year}":return m("span",{part:"year section",children:this.state.year},"year-"+t);case"{month-name}":return m("span",{part:"month-name section"},"month-name-"+t);case"{hour}":return m("span",{part:"hour section",children:this.props["twentyfour-hour"]?this.state["24hour"]:this.state["12hour"]},"hour-"+t);case"{minute}":return m("span",{part:"minute section",children:this.state.minute},"minute-"+t);case"{second}":return m("span",{part:"second section",children:this.state.second},"second-"+t);case"{period}":return m("span",{part:"period section"},"period-"+t)}return null};updateTime=e=>{let t=this.props["pad-hour"]||this.props.pad,r=this.props["pad-minute"]||this.props.pad,n=this.props["pad-second"]||this.props.pad,s=this.props["pad-day-of-month"]||this.props.pad,l=this.props["pad-month"]||this.props.pad;if(this.props.timezone!=="local"){let M=e.getTimezoneOffset(),T=this.props.timezone;if(this.props.timezone.indexOf(":")>-1){let L=this.props.timezone.split(":");L.length=2,T=parseFloat(L[0])+parseFloat(L[1]||0)/60}let F=-(-M-parseFloat(T*60))||0,H=Date.now();e=new Date(H+F*6e4)}let u=s?this.pad(e.getDate()):e.getDate(),c=C8[e.getDay()],d=e.getMonth(),f=e.getFullYear(),g=e.getHours(),v=e.getMinutes(),S=e.getSeconds(),C=e.getMilliseconds(),_=Math.floor(g/3)*3;this.setState({day:c,"day-of-month":u,"time-of-day":_+"-"+(parseInt(_)+3),ordinal:u,"month-name":E8[d],month:l?this.pad(d+1):d+1,romanYear:this.romanize(f),year:this.props["truncate-year"]?f.toString().substring(2,4):f,period:g>=12?"pm":"am","12hour":t?this.pad(g%12==0?12:g%12):g%12==0?12:g%12,"24hour":t?this.pad(g):g,minute:r?this.pad(v):v,second:n?this.pad(S):S,centisecond:this.pad(Math.floor(C/10))})};render(e,t){let{pageInfo:r,adminMode:n,value:s}=this.props,l=[],u;if(s.indexOf("{")==-1&&(u=this.dateTerms("{"+s+"}")),u)l.push(u);else{let c=new RegExp("{"+P8.join("}|{")+"}","gi"),d=[...s.matchAll(c)],f=0;d.length==0?l.push(this.dateTerms("{second}")):d.forEach((g,v)=>{let S=this.dateTerms(g[0],g.index);S&&(f!=g.index&&l.push(m("span",{part:"text",children:s.substring(f,g.index)},g.index)),f=g.index+g[0].length,l.push(S)),v===d.length-1&&l.push(m("span",{part:"text",children:s.substring(f,s.length)},g.index+"-last"))})}return Ge(m(Q,{children:[n&&r.isEditing&&!se&&m(GT,{...this.props,clockInstance:this.props.baseNode}),m("style",{children:`

					:host {

						--0-3: "late night";
						--3-6: "early morning";
						--6-9: "morning";
						--9-12: "late morning";
						--12-15: "afternoon";
						--15-18: "late afternoon";
						--18-21: "evening";
						--21-24: "late evening";

						--am: "AM";
						--pm: "PM";

						--sunday: "Sunday";
						--monday: "Monday";
						--tuesday: "Tuesday";
						--wednesday: "Wednesday";
						--thursday: "Thursday";
						--friday: "Friday";
						--saturday: "Saturday";

						--january: "January";
						--february: "February";
						--march: "March";
						--april: "April";
						--may: "May";
						--june: "June";
						--july: "July";
						--august: "August";
						--september: "September";
						--october: "October";
						--november: "November";
						--december: "December";

						--ordinal-1: "first";
						--ordinal-2: "second";
						--ordinal-3: "third";
						--ordinal-4: "fourth";
						--ordinal-5: "fifth";
						--ordinal-6: "sixth";
						--ordinal-7: "seventh";
						--ordinal-8: "eighth";
						--ordinal-9: "ninth";
						--ordinal-10: "tenth";
						--ordinal-11: "eleventh";
						--ordinal-12: "twelfth";
						--ordinal-13: "thirteenth";
						--ordinal-14: "fourteenth";
						--ordinal-15: "fifteenth";
						--ordinal-16: "sixteenth";
						--ordinal-17: "seventeenth";
						--ordinal-18: "eighteenth";
						--ordinal-19: "nineteenth";
						--ordinal-20: "twentieth";
						--ordinal-21: "twenty-first";
						--ordinal-22: "twenty-second";
						--ordinal-23: "twenty-third";
						--ordinal-24: "twenty-fourth";
						--ordinal-25: "twenty-fifth";
						--ordinal-26: "twenty-sixth";
						--ordinal-27: "twenty-seventh";
						--ordinal-28: "twenty-eighth";
						--ordinal-29: "twenty-ninth";
						--ordinal-30: "thirtieth";
						--ordinal-31: "thirty-first";

						cursor: inherit;
					    display: inline-block;
					    position: relative;
					}

					[part*="section"]{
						font-variant: tabular-nums;
					}

					[part="ordinal section"]:after {
						content: var(--ordinal-${this.state["day-of-month"]}, "${this.state["day-of-month"]}");
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					[part="period section"]:before {
						content: var(--${this.state.period});
					}				

					[part="day section"]:before {
						content: var(--${this.state.day});
					}

					[part="time-of-day section"]:before {
						content: var(--${this.state["time-of-day"]});
					}

					span[part="month-name section"]:before {
						content: var(--${this.state["month-name"]});
					}

					
				`}),l]}),this.props.baseNode.shadowRoot)}onViewportIntersectionChange=e=>{let t=e.position==="inside";this.setState({visible:t})};componentDidMount(){di(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Jc.size==0&&(cancelAnimationFrame(bf),bf=requestAnimationFrame(XT)),this.updateTime(new Date),Jc.add(this)}componentDidUpdate(e,t){}componentWillUnmount(){vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),Jc.delete(this),Jc.size==0&&cancelAnimationFrame(bf)}};yf.defaultProps={pad:!1,"pad-day-of-month":!1,"pad-hour":!1,"pad-month":!1,"pad-minute":!0,"pad-second":!0,"twentyfour-hour":!1,"truncate-year":!1,timezone:"local",value:"second"};I8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(yf));Jt(I8,"digital-clock",["pad-day-of-month","pad-hour","pad-month","pad-minute","pad-second","twentyfour-hour","truncate-year","pad","timezone","analogue","value"],{renderIntoShadow:!0})});var zde,Gy,Yy,JT=B(()=>{Ce();We();Ot();bs();Di();zde=fe(Se(),1);to();te();Gy=class extends oe{constructor(e){super(e),this.state={buttonHovered:!1,UIWindow:null,focused:!1,isDraggingInEditor:!1,initialShowOutlines:!1,showTransition:!1,draggingOver:!1,showInsertionIndicator:!1}}render(e,t){let{shopProductInstance:r}=e,{draggingOver:n,showInsertionIndicator:s,buttonHovered:l,focused:u}=t;return m(Q,{children:m(Tr,{hasFocus:u,onScrollWhileHovered:this.updateUIWindowPosition,trackResize:!0,baseNode:this.props.shopProductInstance,render:c=>{let{pointerAttention:d,overlayPosition:f}=c;return m(Q,{children:[m(Oi,{baseNode:r,overlayPosition:f,inFront:!1,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${d?" hover":""}${d?" button-hover":""}${u?" focus":""}`,style:{transform:`translate3d(${f.x}px, ${f.y}px, 0)`,width:f.width+"px",height:f.height+"px",display:d||l||u?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons audio-player",style:{transform:`translateY(${f.dip}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:g=>{this.launchUIWindow(g)},ref:this.AudioPlayerButtonRef,className:"text",children:"Product"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=(e,t)=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let r=this.props.shopProductInstance.getBoundingClientRect(),n={x:r.x,y:r.y,left:r.right,right:r.right,top:r.top-10,bottom:r.top+27,width:r.width,height:20};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"shopproduct-ineditor",windowAlias:"commerce",positionRect:n,closeButton:!1,closeOnAllClickout:!1,ignoreEditorWindowClickout:!1,closeOnSingleClickout:!0,supportsMobile:!0,props:{shopProductNode:this.props.shopProductInstance}})};scrollIntoView=()=>{let e=this.props.shopProductInstance.getBoundingClientRect();(e.bottom<0||e.top>window.innerHeight)&&this.props.shopProductInstance.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};setUIWindow=e=>{this.setState({UIWindow:e,focused:!!e})};componentDidMount=()=>{this.props.shopProductInstance._editorInterface=this};componentWillUnmount=()=>{this.state.UIWindow?.closeWindow?.(),delete this.props.shopProductInstance._editorInterface}},Yy=Gy});function k8(i,e,t,r){var n;if(r!==void 0&&(i=i*r),typeof e!="string")n=i/100+"";else{var s=["BIF","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","VND","VUV","XAF","XOF","XPF"],l={AED:"\u062F.\u0625",AFN:"\u060B",ALL:"L",AMD:"\u058F",ANG:"\u0192",AOA:"Kz",ARS:"$",AUD:"$",AWG:"\u0192",AZN:"\u20BC",BAM:"KM",BBD:"$",BDT:"\u09F3",BGN:"\u043B\u0432",BHD:".\u062F.\u0628",BIF:"FBu",BMD:"$",BND:"$",BOB:"$b",BRL:"R$",BSD:"$",BTC:"\u0E3F",BTN:"Nu.",BWP:"P",BYR:"p.",BZD:"BZ$",CAD:"$",CDF:"FC",CHF:"CHF",CLP:"$",CNY:"\xA5",COP:"$",CRC:"\u20A1",CUC:"$",CUP:"\u20B1",CVE:"$",CZK:"K\u010D",DJF:"Fdj",DKK:"kr",DOP:"RD$",DZD:"\u062F\u062C",EEK:"kr",EGP:"\xA3",ERN:"Nfk",ETB:"Br",ETH:"\u039E",EUR:"\u20AC",FJD:"$",FKP:"\xA3",GBP:"\xA3",GEL:"\u20BE",GGP:"\xA3",GHC:"\u20B5",GHS:"GH\u20B5",GIP:"\xA3",GMD:"D",GNF:"FG",GTQ:"Q",GYD:"$",HKD:"$",HNL:"L",HRK:"kn",HTG:"G",HUF:"Ft",IDR:"Rp",ILS:"\u20AA",IMP:"\xA3",INR:"\u20B9",IQD:"\u0639.\u062F",IRR:"\uFDFC",ISK:"kr",JEP:"\xA3",JMD:"J$",JOD:"JD",JPY:"\xA5",KES:"KSh",KGS:"\u043B\u0432",KHR:"\u17DB",KMF:"CF",KPW:"\u20A9",KRW:"\u20A9",KWD:"KD",KYD:"$",KZT:"\u043B\u0432",LAK:"\u20AD",LBP:"\xA3",LKR:"\u20A8",LRD:"$",LSL:"M",LTC:"\u0141",LTL:"Lt",LVL:"Ls",LYD:"LD",MAD:"MAD",MDL:"lei",MGA:"Ar",MKD:"\u0434\u0435\u043D",MMK:"K",MNT:"\u20AE",MOP:"MOP$",MRO:"UM",MUR:"\u20A8",MVR:"Rf",MWK:"MK",MXN:"$",MYR:"RM",MZN:"MT",NAD:"$",NGN:"\u20A6",NIO:"C$",NOK:"kr",NPR:"\u20A8",NZD:"$",OMR:"\uFDFC",PAB:"B/.",PEN:"S/.",PGK:"K",PHP:"\u20B1",PKR:"\u20A8",PLN:"z\u0142",PYG:"Gs",QAR:"\uFDFC",RMB:"\uFFE5",RON:"lei",RSD:"\u0414\u0438\u043D.",RUB:"\u20BD",RWF:"R\u20A3",SAR:"\uFDFC",SBD:"$",SCR:"\u20A8",SDG:"\u062C.\u0633.",SEK:"kr",SGD:"$",SHP:"\xA3",SLL:"Le",SOS:"S",SRD:"$",SSP:"\xA3",STD:"Db",SVC:"$",SYP:"\xA3",SZL:"E",THB:"\u0E3F",TJS:"SM",TMT:"T",TND:"\u062F.\u062A",TOP:"T$",TRL:"\u20A4",TRY:"\u20BA",TTD:"TT$",TVD:"$",TWD:"NT$",TZS:"TSh",UAH:"\u20B4",UGX:"USh",USD:"$",UYU:"$U",UZS:"\u043B\u0432",VEF:"Bs",VND:"\u20AB",VUV:"VT",WST:"WS$",XAF:"FCFA",XBT:"\u0243",XCD:"$",XOF:"CFA",XPF:"\u20A3",YER:"\uFDFC",ZAR:"R",ZWD:"Z$"};e=e.toUpperCase(),s.indexOf(e)===-1&&(i/=100),typeof Intl<"u"?n=new Intl.NumberFormat(t,{style:"currency",currency:e,currencyDisplay:"symbol",useGrouping:!0,minimumFractionDigits:0}).format(i):n=(l.hasOwnProperty(e)?l[e]:e+" ")+""+i.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}if(typeof n=="string"&&n.indexOf(".")!==-1){var u=n.split(".");u.length===2&&u[1].length===1&&(u[1]=u[1]+"0",n=u.join("."))}return n}var or,QT,A8,R8,M8,Ra,Ky,wf,T8,Xy,N8,ek=B(()=>{Ce();We();ta();or=fe(Se(),1);Ne();ht();ri();Ki();Ni();_s();JT();ya();Rr();te();QT="Product not found",A8="Out of Stock",R8="Add to Cart",M8="Unavailable",Ra={buttonInStockText:"button-text",showPrice:"show-price",mergevariantdropdowns:"combine-variants",product:"product"},Ky=[],wf=null,T8=i=>(wf||(wf=new Promise((e,t)=>{requestAnimationFrame(()=>{At.dispatch(actions.fetchCommerceProducts({idArray:Ky})).then(e).catch(t),Ky.length=0,wf=null})})),Ky.push(i),wf);Xy=class extends oe{constructor(e){super(e),this.uid=or.default.uniqueId(),this.state={loading:!0,selectedVariant:null},this.props.fetchShopModel().finally(()=>{this.fetchProduct().finally(()=>{this.setState({loading:!1})})}),this.props.baseNode.__commerce_widget__=this}render(){let e=this.getOptions(),{baseNode:t,adminMode:r}=this.props;if(!this.props.productData)return this.state.loading?null:Ge(m(Q,{children:[this.props.adminMode&&this.props.pageInfo.isEditing&&m(Yy,{shopProductInstance:this.props.baseNode}),m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:QT})]}),this.props.baseNode.shadowRoot);let n=this.state.selectedVariant?.inventory!==null&&this.state.selectedVariant?.inventory<=0,s=this.props.uses||"";return Ge(m(dn,{uses:s,adminMode:r,customElementMode:!0,baseNode:t,children:m("div",{draggable:"true",style:{display:"inline-block",width:"100%"},children:[this.props.adminMode&&m(Yy,{shopProductInstance:this.props.baseNode}),this.props.productData?m(Q,{children:[e.showPrice&&this.state.selectedVariant&&m("div",{part:"price",class:"price",children:k8(this.state.selectedVariant.price,this.props.currency,this.props.locale)}),this.props.productData.attributes?e.mergevariantdropdowns?m("select",{part:"dropdown",class:"dropdown","variant-list":!0,onChange:this.getSelectedVariant,children:this.props.productData.variants.map(l=>l.is_default?null:m("option",{value:l.variant_id,dangerouslySetInnerHTML:{__html:or.default.values(l.attributes).join(", ").replace(/</g,"&lt;")}}))}):or.default.keys(this.props.productData.attributes).map(l=>m("select",{"variant-option":l,part:"dropdown",class:"dropdown",onChange:this.getSelectedVariant,children:[m("option",{disabled:!0,dangerouslySetInnerHTML:{__html:l?.replace?.(/</g,"&lt;")}}),this.getAttributeVariations(l).map(u=>m("option",{selected:this.state.selectedVariant?.attributes[l]===u,value:u,dangerouslySetInnerHTML:{__html:u?.replace?.(/</g,"&lt;")}}))]})):null,m("a",{part:"button",className:`button${n?" out-of-stock":""}`,onClick:l=>{n||this.addToCart(l)},children:n?A8:this.state.selectedVariant?e.buttonInStockText:M8})]}):QT]})},"shop-product-host"),this.props.baseNode.shadowRoot)}onDragStart=e=>{e.dataTransfer.setData("shop-product-drag","true")};getAttributeVariations(e){var t=or.default.without(or.default.uniq(this.props.productData.variants.map(function(n){if(n.is_available===!0&&n.is_default!==!0)return n.attributes[e]})),void 0),r=this.props.productData.attributes[e];return r&&t.sort(function(n,s){var l=r.indexOf(n),u=r.indexOf(s);return l<u?-1:l==u?0:1}),t}getProduct(){return this.props.productData}getOptions(){if(this.props.baseNode.hasAttribute("data-options"))try{let t=JSON.parse(or.default.unescape(this.props.baseNode.getAttribute("data-options")));or.default.each(t,(r,n)=>{Ra[n]&&!this.props.baseNode.hasAttribute(Ra[n])&&this.props.baseNode.setAttribute(Ra[n],or.default.escape(r))}),this.props.baseNode.removeAttribute("data-options")}catch{console.error("Unable to read old product widget options",this.props.baseNode)}let e=or.default.mapValues(Ra,(t,r)=>{if(!this.props.baseNode.hasAttribute(t))return;let n=or.default.unescape(this.props.baseNode.getAttribute(t));return(r==="showPrice"||r==="mergevariantdropdowns")&&(n=n=="true"),n});return or.default.defaults(e,{showPrice:!0,mergevariantdropdowns:!1,buttonInStockText:R8}),e}setOptions(e){or.default.each(e,(t,r)=>{Ra.hasOwnProperty(r)&&this.props.baseNode.setAttribute(Ra[r],or.default.escape(t))})}addToCart=e=>{this.props.adminMode||(this.props.addCommerceProductToCart(this.state.selectedVariant.product_id,this.state.selectedVariant.variant_id),Fn.push("/cart",{preventScrollReset:!0}))};fetchProduct(){return this.props.productData&&this.props.productData.product_id==this.props.product||!this.props.product||!this.props.shopId?Promise.resolve():T8(this.props.product)}getSelectedVariant=()=>{let e=null;if(this.props.productData)if(this.props.productData.use_default_variant)e=this.props.productData.variants.find(r=>r.is_default===!0);else if(this.getOptions().mergevariantdropdowns){let r=this.props.baseNode.shadowRoot.querySelector("select[variant-list]")?.value;e=this.props.productData.variants.find(n=>n.variant_id==r)}else{var t=or.default.reduce(this.props.baseNode.shadowRoot.querySelectorAll("select[variant-option]"),function(r,n){return r[n.getAttribute("variant-option")]=n.value,r},{});e=this.props.productData.variants.find(r=>or.default.isEqual(r.attributes,t))}this.state.selectedVariant!==e&&this.setState({selectedVariant:e})};componentDidUpdate(e,t){this.state.selectedVariant===t.selectedVariant&&this.getSelectedVariant()}componentDidMount(){this.props.baseNode.addEventListener("dragstart",this.onDragStart),this.getSelectedVariant()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}},N8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode,productData:i.commerce.products[e.product],currency:i.commerce.shop.currency||"USD",locale:i.commerce.shop.locale||"en-US",shopId:i.site.shop_id}),i=>Et({addCommerceProductToCart:actions.addCommerceProductToCart,fetchShopModel:actions.fetchShopModel},i))(Xy));Jt(N8,"shop-product",Object.values(Ra),{renderIntoShadow:!0})});var Zy,tk,ik=B(()=>{Ce();te();Zy=class extends oe{constructor(e){super(e),this.caveRef=ve(),this.shadowRef=ve()}render(){return m("div",{"aria-hidden":"true",ref:this.caveRef,tabIndex:"-1","data-nosnippet":!0,style:{position:"absolute",top:"0",left:"50px",right:"50px",margin:"0 auto 0 auto",height:"10px",lineHeight:"0",fontSize:0,pointerEvents:"none",zIndex:-99},children:m("div",{ref:this.shadowRef,tabIndex:"-1","data-nosnippet":!0,style:{display:"inline-block",margin:"0 -20px 0 -50px",width:"40px",height:"10px"}})})}componentDidMount(e,t){this.observer=new IntersectionObserver(r=>{r.forEach(n=>{let s="right";switch(n.intersectionRatio){case 0:s="left";break;case 1:s="center";break}this.props.onTextAlignmentChange?.(s)})},{root:this.caveRef.current,rootMargin:"0px",threshold:[0,.6]}),this.observer.observe(this.shadowRef.current)}componentWillUnmount(){this.observer.disconnect()}},tk=Zy});var xpe,Jy,rk,nk=B(()=>{Ce();We();Ot();bs();Di();to();xpe=fe(Se(),1);te();Jy=class extends oe{constructor(e){super(e),this.state={UIWindow:!1,marqueeIsEmpty:!1,draggingInEditor:!1},this.observer=new MutationObserver(this.onMutation),this.innerObserver=new MutationObserver(this.onInnerMutation)}render(e,t){let{}=e,{UIWindow:r}=t,n=23;return m(Q,{children:m(Tr,{hasFocus:!!r,trackResize:!0,buttonMode:"inside",baseNode:this.props.marqueeInstance,buttonHeight:23,render:s=>{let{pointerAttention:l,overlayPosition:u}=s,c=0;return u.y<=1&&(c=Math.min(-u.y+1,u.height+-n+1)),m(Q,{children:[m(Oi,{baseNode:this.props.marqueeInstance,overlayPosition:u,overlayMode:!0}),m("div",{className:`editor-overlay editor-outline${l||r?" hover":""}${l||r?" button-hover":""}${r?" focus":""}`,style:{transform:`translate3d(${u.x}px, ${u.y}px, 0)`,width:u.width+"px",height:u.height+"px",display:l||r?"block":"none",minHeight:"27px"},children:[m("div",{className:"in-editor-buttons marquee",style:{transform:`translateY(${c}px)`},onPointerEnter:()=>{this.setState({buttonHovered:!0})},onPointerLeave:()=>{this.setState({buttonHovered:!1})},children:[m("button",{onMouseDown:d=>{this.launchUIWindow(d)},className:"text",children:"Marquee"}),e.children]}),e.otherUI]})]})}})})}launchUIWindow=e=>{if(e){if(e.metaKey||e.button==2)return;e.preventDefault(),e.stopPropagation()}let t=this.props.marqueeInstance.getBoundingClientRect(),r={x:t.x+-10,y:t.y,left:t.right+-10,right:t.right+-10,top:t.top+0,bottom:t.top+27,width:t.width,height:20};ye.adminWindow.UIWindowOpener.openUIWindow({windowName:"marquee-ineditor",windowAlias:"marquee",positionRect:r,closeButton:!1,closeOnAllClickout:!0,supportsMobile:!1,props:{activeMarquee:this.props.marqueeInstance}})};onMouseDown=e=>{if(this.state.UIWindow||e.button===2)return;let t={x:e.clientX,y:e.clientY};this.props.marqueeInstance.built&&(this.mouseDownTimeout=setTimeout(()=>{this.props.isDragging||(this.props.marqueeInstance.built=!1,setTimeout(()=>{let r=this.props.marqueeInstance.querySelector("marquee-inner"),n=CargoEditor.helpers.createRangeAtCoordinates(t.x,t.y);(!n||!r.contains(n.commonAncestorContainer))&&(n=CargoEditor.rangy.createRange(),n.setStart(r,0),n.setEnd(r,0)),CargoEditor.helpers.setActiveRange(n),CargoEditor.events.trigger("cursor-activity",CargoEditor.getActiveEditor(),e)},20))},120))};onInnerMutation=e=>{if(Array.from(e).filter(l=>{if(l.type==="attributes"){if(l.target.nodeName==="MEDIA-ITEM")return!0;if(l.target.nodeName==="MARQUEE-INNER")return!1}else return!l.target.closest?.("media-item")}).length==0)return;let r=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(l=>!l.hasAttribute("slot")||l.getAttribute("slot")==="contents");if(!r)return;let n=Array.from(r?.childNodes??[])[0],s=!0;for(;n&&s;)(n.nodeName==="IMG"||n.nodeName==="VIDEO"||n.nodeName==="IFRAME"||n.nodeName==="MEDIA-ITEM"||n.textContent.trim()!=="")&&(s=!1),n=n.nextSibling;this.setState({marqueeIsEmpty:s})};onMutation=e=>{this.observer.disconnect(),this.innerObserver.disconnect();let t=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(n=>!n.hasAttribute("slot")||n.getAttribute("slot")==="contents"),r=this.props.marqueeInstance.querySelector('marquee-inner[slot="contents-clone"]');t&&r?Array.from(this.props.marqueeInstance.childNodes).forEach(n=>{n!==t&&n!==r&&n.remove()}):t&&!r&&(this.props.marqueeInstance.dirty=!0),this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1}),this.innerObserver.observe(t,{childList:!0,subtree:!0,characterData:!0,attributes:!0})};onDragStart=(e,t,r)=>{this.setState({draggingInEditor:!0}),ze.activateHoverElement(this.props.marqueeInstance),this.props.marqueeInstance.built=!1};onDragFinish=()=>{this.dragFinishTimeout=setTimeout(()=>{this.setState({draggingInEditor:!1})},100),this.props.marqueeInstance.built=!0};setUIWindow=e=>{this.setState({UIWindow:e})};updateUIWindowPosition=e=>{this.state.UIWindow&&this.state.UIWindow.props.superBadScrollHack.scroll(e)};componentDidMount(){this.observer.observe(this.props.marqueeInstance,{childList:!0,subtree:!1,characterData:!0,attributes:!1});let e=Array.from(this.props.marqueeInstance.querySelectorAll("marquee-inner")).find(t=>!t.hasAttribute("slot")||t.getAttribute("slot")==="contents");e&&this.innerObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.props.marqueeInstance.addEventListener("mousedown",this.onMouseDown),ye.globalDragEventController.on("dragstart",this.onDragStart),ye.globalDragEventController.on("dragend",this.onDragFinish),ye.globalDragEventController.on("drop",this.onDragFinish),this.props.marqueeInstance._editorInterface=this,this.props.marqueeInstance._newMarqueeSet&&(delete this.props.marqueeInstance._newMarqueeSet,setTimeout(()=>{this.launchUIWindow()},120))}componentWillUnmount(){clearTimeout(this.mouseDownTimeout),clearTimeout(this.dragFinishTimeout),this.observer.disconnect(),this.innerObserver.disconnect(),this.props.marqueeInstance.removeEventListener("mousedown",this.onMouseDown),ye.globalDragEventController.off("dragstart",this.onDragStart),ye.globalDragEventController.off("dragend",this.onDragFinish),ye.globalDragEventController.off("drop",this.onDragFinish),this.state.UIWindow?.closeWindow?.(),delete this.props.marqueeInstance._editorInterface}componentDidUpdate(e,t){this.props.adminMode!==e.adminMode&&(this.props.marqueeInstance.dirty=!0),this.props.isDragging!==e.isDragging&&clearTimeout(this.mouseDownTimeout),(t.marqueeIsEmpty!==this.state.marqueeIsEmpty||t.draggingInEditor!==this.state.draggingInEditor)&&!this.state.draggingInEditor&&this.state.marqueeIsEmpty&&CargoEditor?.mutationManager?.execute(()=>{this.props.marqueeInstance.remove()})}},rk=Jy});var xf,Es,Qc,Sf,Yl,Qy,ok,_f,D8,sk=B(()=>{Ce();We();xa();ht();Ne();Ni();vs();ik();Ci();nk();Gr();xf=fe(Se(),1);Ki();te();Es=new Map,Qc=new Map,Sf=null;se||(Yl=new ResizeObserver(i=>{i.forEach(e=>{Qc.has(e.target)?Qc.get(e.target).onMarqueeInnerResize(e):Es.has(e.target)&&Es.get(e.target).onElementResize(e)})}),window.addEventListener("dom-binding-initialized",i=>{Es.forEach((e,t)=>{i.target.contains(t)&&(t.dirty=!0)})}));Qy=0,ok=i=>{let e=Qy===0?0:i-Qy;Es.forEach((t,r)=>{t.animate(e)}),Qy=i,Sf=requestAnimationFrame(ok)},_f=class extends oe{constructor(e){super(e),this.uid=xf.default.uniqueId(),this.initialSizeSet=!1,this.state={dirty:!0,built:!0,marqueeHeight:100,gutterPixelWidth:0,mediaItemLocations:{},contentRect:{marginLeft:0,width:0,height:0,contentWidth:0},elementRect:{horizPad:0,vertPad:0,width:0,height:0},paused:!1,pointerInfo:{pointerDown:!1,dragging:!1},marqueeInner:null,visible:!0},this.pointerMovement={start:{x:0,y:0},delta:{x:0,y:0},inertia:{x:0,y:0}},this.marqueePositionerRef=ve(),this.marqueePositionerCloneRef=ve(),this.contentRef=ve(),this.contentsObserver=new MutationObserver(this.onContentsChange),this.resetPosition(),this.pauseCount=0,Object.defineProperty(this.props.baseNode,"dragging",{get:()=>this.state.pointerInfo.dragging,configurable:!0}),Object.defineProperty(this.props.baseNode,"paused",{get:()=>this.state.paused,set:t=>{this.setState({paused:!!t})},configurable:!0}),Object.defineProperty(this.props.baseNode,"built",{get:()=>this.state.built,set:t=>{this.setState({built:!!t})},configurable:!0}),Object.defineProperty(this.props.baseNode,"dirty",{get:()=>this.state.dirty,set:t=>{this.setState({dirty:!!t})},configurable:!0})}render(e,t){let r=e.behavior==="bounce",n=e.behavior==="scroll",s=e.direction==="vertical",l=e.direction==="horizontal",u=e.direction==="diagonal";u&&n&&(u=!1,l=!0);let{adminMode:c,pageInfo:d,baseNode:f,"vertical-height":g,gutter:v=0}=e,{contentRect:S,elementRect:C,built:_,marqueeHeight:M,gutterPixelWidth:T}=t,F=Zt(g,""),H=v!==void 0?Zt(v,"rem").join(""):"0px",L={marqueeHeight:F[1]===""?`calc( var(--fit-height) * ${F[0]*.01} )`:F.join("")};v!==void 0&&v!==0&&(L.gutterPixelWidth=H);let z=T,ie=T;l&&(z=0),s&&(ie=0);let X=n&&s?0:2,N=n&&l?0:2;return Ge(m(Q,{children:[c&&d.isEditing&&m(tk,{onTextAlignmentChange:this.onTextAlignmentChange}),m("style",{children:`

					:host {
						--marquee-vertical-padding: ${X}rem;
						--marquee-horizontal-padding: ${N}rem;
						--marquee-vertical-margin: ${-X}rem;
						--marquee-horizontal-margin: ${-N}rem;
						contain: layout;
						${_?`
							cursor: default;
							min-height: .5em;
							${c&&d.isEditing?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;`:""}
						`:`
							min-height: ${r&&!l?M+"px":"auto"};
						`}
						box-sizing: border-box;
						height: ${_?s||u?M+"px":S.height+C.vertPad+"px":"auto"};
					    display: block;
					    
					    position: relative;
						--resize-parent-width: ${C.width}px;				    
					}

					.marquee-margin {
						position: relative;
						${_?`
							pointer-events:none;
							margin-top: var(--marquee-vertical-margin);
							margin-left: var(--marquee-horizontal-margin);
							margin-right: var(--marquee-horizontal-margin);
							margin-bottom: var(--marquee-vertical-margin);
							
							${s||u?"height: "+M+"px;":""}
							padding-top: var(--marquee-vertical-padding);
							padding-bottom: var(--marquee-vertical-padding);
							padding-left: var(--marquee-horizontal-padding);
							padding-right: var(--marquee-horizontal-padding);						
							overflow: hidden;
					
						`:""}
					}

					:host .marquee-contents {
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
							-moz-user-select:text;
							-webkit-user-select:text;
							user-select: text;
						`}
						-webkit-backface-visibility: hidden;
						backface-visibility: hidden;
						will-change: transform;
						position: relative;

					    display: ${_?"block":"none"};
					}

					::slotted(marquee-inner){
						pointer-events:auto;
						white-space:${_&&l?"nowrap":"normal"};					
						display: ${_?"inline-block":"block"};
						${!_&&(s||u)?"min-height: "+M+"px;":""}
						min-width: ${C.width}px;
						${_?`
							-moz-user-select:none;
							-webkit-user-select:none;
							user-select: none;
						`:`
						`}
										
					}

					.marquee-positioner {
						position: relative;		
						white-space:nowrap;
						${n?"min-width: 100%;":""}					
					}

					/** scroll mode css **/	
					.marquee-positioner.clone {
						display: ${r||!_?"none":"block"};
						left: ${l?Math.max(S.contentWidth,C.width)+ie:0}px;
						top: ${s?Math.max(S.height,C.height)+z:0}px;			
					    position: absolute;
					}

					
				`}),m("div",{className:"marquee-margin",children:[!_&&m("slot",{name:"contents"}),c&&d.isEditing&&!se&&m(rk,{...this.props,marqueeInstance:f,isDragging:this.state.pointerInfo.dragging}),m(Mr,{values:L,onResize:this.onResize}),m("div",{className:"marquee-contents",style:{willChange:"transform",transform:"translate("+this.lastXClamp+"px, "+(this.lastYClamp+C.vertPad*.5)+"px)"},ref:this.contentRef,children:[m("div",{className:"marquee-positioner",ref:this.marqueePositionerRef,children:_&&m("slot",{name:"contents"})}),m("div",{"aria-hidden":"true",className:"marquee-positioner clone",ref:this.marqueePositionerCloneRef,children:_&&n&&m("slot",{name:"contents-clone"})})]})]})]}),f.shadowRoot)}onClickCapture=e=>{this.state.pointerInfo.dragging&&this.state.built&&e.preventDefault()};onDragStartCapture=e=>{this.state.built&&this.props["pointer-interaction"]==!0&&(e.preventDefault(),e.stopPropagation())};onViewportIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{jt(e,"viewportIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};onLazyloadIntersectionChange=()=>{Array.from(this.props.baseNode.querySelectorAll("*")).forEach(e=>{jt(e,"lazyLoadIntersectionChange",{hasLayout:!0,visible:!0,position:"inside"},{bubbles:!1})})};componentDidMount(){this.props.baseNode.addEventListener("click",this.onClickCapture,{capture:!0}),this.props.baseNode.addEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.addEventListener("mousedown",this.onMouseDown),this.props.baseNode.addEventListener("touchstart",this.onMouseDown),di(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),di(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),Es.size==0&&(cancelAnimationFrame(Sf),Sf=requestAnimationFrame(ok)),Es.set(this.props.baseNode,this),Yl.observe(this.props.baseNode),this.innerMarqueeChange()}componentDidUpdate(e,t){(this.props.behavior!==e.behavior||this.props.speed!==e.speed||this.props["vertical-height"]!==e["vertical-height"])&&(this.resetPosition(),this.setState({built:!0})),this.state.dirty!==t.dirty&&this.state.dirty&&this.innerMarqueeChange(),this.state.built!==t.built&&this.state.built&&(this.state.dirty&&this.innerMarqueeChange(),this.resetPosition()),e.adminMode!==this.props.adminMode&&this.setState({built:!0})}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStartCapture,{capture:!0}),this.props.baseNode.removeEventListener("mousedown",this.onMouseDown),this.props.baseNode.removeEventListener("touchstart",this.onMouseDown),this.props.baseNode.removeEventListener("click",this.onClickCapture,{capture:!0}),vi(this.props.baseNode,"viewportIntersectionChange",this.onViewportIntersectionChange),vi(this.props.baseNode,"lazyLoadIntersectionChange",this.onLazyloadIntersectionChange),document.body.removeEventListener("pointerleave",this.onPointerUp),Yl.unobserve(this.props.baseNode),Es.delete(this.props.baseNode),cancelAnimationFrame(this.resizeFrame),clearTimeout(this.afterPointerUp);let e=this.props.baseNode.querySelector("marquee-inner");e&&(Qc.delete(e),Yl.unobserve(e)),this.contentsObserver.disconnect(),Es.size==0&&cancelAnimationFrame(Sf)}innerMarqueeChange=()=>{if(!this.state.dirty||!this.state.built||!this.marqueePositionerRef.current||!this.marqueePositionerCloneRef.current)return;let e=Array.from(this.props.baseNode.querySelectorAll("marquee-inner")).find(r=>!r.hasAttribute("slot")||r.getAttribute("slot")==="contents");e?(Qc.delete(e),Yl.unobserve(e),Array.from(e.querySelectorAll("marquee-inner")).forEach(r=>{r.remove()})):(e=document.createElement("marquee-inner"),e.setAttribute("slot","contents"),Array.from(this.props.baseNode.childNodes).forEach(r=>{e.appendChild(r)}),this.props.baseNode.appendChild(e)),e.setAttribute("slot","contents"),e.setSaveable(!0),Qc.set(e,this),Yl.observe(e),this.contentsObserver.observe(e,{childList:!0,subtree:!0,characterData:!0,attributes:!1});let t=this.props.baseNode.querySelector('marquee-inner[slot="contents-clone"]');for(t||(t=document.createElement("marquee-inner"),t.setAttribute("slot","contents-clone"),this.props.baseNode.appendChild(t));t.lastChild;)t.lastChild.remove();Array.from(e.childNodes).forEach(r=>{t.appendChild(r.cloneNode(!0))}),Array.from(this.props.baseNode.childNodes).forEach(r=>{r!==e&&r!==t&&r.remove()}),this.setState({dirty:!1,marqueeInner:e})};onContentsChange=()=>{this.setState({dirty:!0})};resetPosition=()=>{this.pauseCount=this.props.adminMode?-30:0,this.movingDown=this.props.speed>0,this.movingRight=this.props.speed>0,this.lastXClamp=0,this.lastYClamp=0,this.positionX=0,this.positionY=0,this.translateX=0,this.translateY=0,this.pointerMovement={start:{x:0,y:0},inertia:{x:0,y:0},delta:{x:0,y:0}},this.props.behavior==="bounce"?((this.props.direction==="diagonal"||this.props.direction==="vertical")&&(this.translateY=this.positionY=this.state.elementRect.height*.5+-this.state.contentRect.height*.5),(this.props.direction==="diagonal"||this.props.direction==="horizontal")&&(this.translateX=this.positionX=this.state.elementRect.width*.5+-this.state.contentRect.width*.5+this.state.elementRect.vertPad*.5)):this.translateX=this.positionX=this.translateY=this.positionY=0};onResize=(e,t)=>{this.setState(r=>{let n={...r};return n[e]=t,n})};onTextAlignmentChange=e=>{this.resetPosition(),this.requestTick()};requestTick=()=>{this.ticking||(this.ticking=!0,this.rAf=requestAnimationFrame(()=>{this.getContentWidthAndMargin(),this.ticking=!1}))};getContentWidthAndMargin=xf.default.debounce(()=>{let{marqueeInner:e}=this.state;if(!e)return;let{contentWidth:t,marginLeft:r,width:n}=this.state.contentRect,s=e.childNodes[0],l=e.childNodes[e.childNodes.length-1];if(s&&l){let u=document.createRange();u.setStartBefore(s),u.setEndAfter(l);let c=u.getBoundingClientRect(),d=e.getBoundingClientRect();r=c.left-d.left,t=c.width}else r=0,t=n;this.setState(u=>({contentRect:{...u.contentRect,marginLeft:r,contentWidth:t}}),()=>{this.initialSizeSet||(this.resetPosition(),this.initialSizeSet=!0)})},this.initialSizeSet?300:0,{leading:!0,trailing:!0});onMarqueeInnerResize=e=>{let t=e.borderBoxSize[0]||e.borderBoxSize,r=t.inlineSize;this.setState(n=>({contentRect:{...n.contentRect,width:t.inlineSize,height:t.blockSize}}),()=>{this.requestTick()})};onElementResize=e=>{let t=e.borderBoxSize[0]||e.borderBoxSize,r=e.contentBoxSize[0]||e.contentBoxSize;this.setState({elementRect:{width:t.inlineSize,height:t.blockSize,vertPad:t.blockSize-r.blockSize,horizPad:t.inlineSize-r.inlineSize}})};onMouseDown=e=>{if(!this.state.built||!this.props["pointer-interaction"]||e.button==2)return;let t=e.touches?e.touches[0].clientX:e.clientX,r=e.touches?e.touches[0].clientY:e.clientY;e.target.closest("a")||e.preventDefault(),this.pointerMovement={start:{x:t,y:r},inertia:{x:0,y:0},delta:{x:0,y:0}},this.setState({pointerInfo:{pointerDown:!0,dragging:!1}}),window.addEventListener("pointermove",this.onPointerMove),window.addEventListener("pointerup",this.onPointerUp),window.addEventListener("pointercancel",this.onPointerUp),document.body.addEventListener("pointerleave",this.onPointerUp)};onPointerMove=e=>{let t={x:e.clientX-this.pointerMovement.start.x+this.pointerMovement.delta.x,y:e.clientY-this.pointerMovement.start.y+this.pointerMovement.delta.y},r=this.state.pointerInfo.dragging||Math.abs(e.clientX-this.pointerMovement.start.x)>3||Math.abs(e.clientY-this.pointerMovement.start.y)>3;this.pointerMovement={start:{x:e.clientX,y:e.clientY},inertia:t,delta:t},this.setState({pointerInfo:{pointerDown:!0,dragging:r}})};onPointerUp=e=>{document.body.removeEventListener("pointerleave",this.onPointerUp),window.removeEventListener("pointermove",this.onPointerMove),window.removeEventListener("pointerup",this.onPointerUp),window.removeEventListener("pointercancel",this.onPointerUp),this.afterPointerUp=setTimeout(()=>{this.setState({pointerInfo:{dragging:!1,pointerDown:!1}})},0)};animate=e=>{let{built:t,paused:r,elementRect:n,contentRect:s,pointerInfo:l,mediaItemLocations:u,gutterPixelWidth:c}=this.state,{positionX:d,positionY:f,movingRight:g,movingDown:v,translateX:S,translateY:C,pointerMovement:_}=this,{speed:M,friction:T}=this.props;if(!t||!this.contentRef.current)return;let F=!1;M=r||l.dragging?0:M,this.pauseCount<0&&(this.pauseCount++,M=0),M=M*(e/16.6667);let H=this.props.behavior==="bounce",L=this.props.behavior==="scroll",z=this.props.direction==="vertical",ie=this.props.direction==="horizontal",X=this.props.direction==="diagonal",N=c,ee=c;X&&L&&(X=!1,ie=!0),T=1-parseFloat(T)*.01,M=parseFloat(M)*.1;let de=M,Z=M,Y=Math.abs(_.inertia.y)>.01||Math.abs(_.inertia.x)>.01;l.pointerDown||l.dragging?(F=!0,Z=_.delta.x,de=_.delta.y):Y&&(F=!0,H?(v?de=Math.abs(de)+Math.abs(_.inertia.y):de=-Math.abs(de)+-Math.abs(_.inertia.y),g?Z=Math.abs(Z)+Math.abs(_.inertia.x):Z=-Math.abs(Z)+-Math.abs(_.inertia.x)):(Z=Z+_.inertia.x,de=de+_.inertia.y)),H&&!l.dragging&&(v?de=Math.abs(de):de=-Math.abs(de),g?Z=Math.abs(Z):Z=-Math.abs(Z)),de!==0&&(v=de>0),Z!==0&&(g=Z>0),(z||X)&&(f=de+f),(ie||X)&&(d=Z+d);let D=!1;if(H){let W=s.contentWidth,U=s.height,J=-s.marginLeft,ae=n.width+-W+-s.marginLeft,ue=0,he=n.height-U;W>=n.width&&(J=n.width-W,ae=0),U>=n.height&&(ue=n.height-U,he=0),g&&d>ae&&(ie||X)?(D="right",d=ae,g=!1):!g&&d<J&&(ie||X)&&(D="left",d=J,g=!0),v&&f>he&&(z||X)?(D="bottom",f=he,v=!1):!v&&f<ue&&(z||X)&&(D="top",f=ue,v=!0),ie?C=0:C=f,z?S=0:S=d}else if(L){ie&&(ee=0),z&&(N=0);let W=Math.max(s.contentWidth,n.width)+N,U=Math.max(s.height,n.height)+ee;W>0&&(d=(d-W)%W),U>0&&(f=(f-U)%U),z?(S=0,C=f):ie&&(S=d,C=0)}D&&this.dispatchBounceEvent(D);let V=l.dragging?{x:_.delta.x,y:_.delta.y}:{x:_.inertia.x*T,y:_.inertia.y*T};this.positionX=d,this.positionY=f,this.translateX=S,this.translateY=C,this.movingRight=g,this.movingDown=v;let G=Math.abs(M)>1?2:4,K=Math.floor(this.translateX*G)/G,ne=Math.floor(this.translateY*G)/G;(K!==this.lastXClamp||ne!==this.lastYClamp)&&(this.contentRef.current.style.transform="translate("+K+"px, "+(ne+this.state.elementRect.vertPad*.5)+"px)"),this.lastXClamp=K,this.lastYClamp=ne,F&&(this.pointerMovement={...this.pointerMovement,inertia:V,delta:{x:0,y:0}})};dispatchBounceEvent=xf.default.debounce(e=>{this.props.baseNode.dispatchEvent(new CustomEvent("marquee-bounce",{detail:{edge:e},bubbles:!1,composed:!0}))},40,{leading:!0,tailing:!1})};_f.defaultProps={speed:-10,direction:"horizontal",behavior:"scroll","pointer-interaction":!0,"vertical-height":"100",friction:5};D8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(_f));Jt(D8,"marquee-set",["gutter","speed","direction","behavior","pointer-interaction","vertical-height","friction"],{renderIntoShadow:!0})});var Zpe,Kl,Cf,O8,ak=B(()=>{Ce();We();ht();Ne();xa();to();Zpe=fe(Se(),1);Ki();Ni();te();Kl=new Map,Cf=class extends oe{constructor(){super(),this.state={iconElement:{imgVdom:null,customDimensions:{width:32,height:32}}}}render(e,t){let r=t.iconElement.customDimensions.width/t.iconElement.customDimensions.height;return m(Q,{children:Ge(m(Q,{children:[m("style",{id:"text-icon",children:`
		:host {
			cursor: ${e.adminMode?"text":"unset"};
			aspect-ratio: ${r};
			height: 1.2em;
			width: auto;
		    contain: layout;
		    margin-top: -1em;
		    margin-bottom: -.25em;
		    display: inline-block;
		    vertical-align: baseline;
			position: relative;
		}

		:host, *{
		    -moz-user-select: text;
		    -webkit-user-select: text;
		    -ms-user-select: text;
		    user-select: text; 		
		}

		img {
			pointer-events:none;
		}
		
		svg, img {
			object-fit: cover;
			display: block;
			position: absolute;
			inset: 0;
			width: 100%;
			height: 100%;
			fill: currentColor;
		}
					`}),this.state.iconElement.imgVdom,this.props.adminMode?m(Oi,{baseNode:this.props.baseNode,inFront:!1}):null]}),this.props.baseNode.shadowRoot)})}getIconSVG=()=>{new Promise((e,t)=>{let r=this.props.icon||null;if(r)if(Kl.has(r))e(Kl.get(r));else{let s=r.indexOf("https://")===0?r:"https://build.cargo.site/frontend/ff2e39/icon/icons/"+r+".svg",l=s.split(".")?.pop()||"";if(["jpeg","jpg","png","gif","webp"].indexOf(l.toLowerCase())!=-1){let u=document.createElement("img");u.src=s,u.onload=()=>{let c=m("img",{part:"img",src:r,width:u.naturalWidth,height:u.naturalHeight});Kl.set(r,{imgVdom:c,customDimensions:{width:u.naturalWidth,height:u.naturalHeight}}),u.onload=null,e(Kl.get(r))}}else l=="svg"?fetch(s,{mode:"cors"}).then(u=>u.ok?u.text():t("bad response")).then(u=>{let c=document.createElement("div");c.innerHTML=u;let d={width:32,height:32},f=Array.from(c.children).map((g,v)=>{let S=g.tagName.toLowerCase()=="svg";return S&&g.hasAttribute("width")&&g.hasAttribute("height")&&(d.width=g.getAttribute("width"),d.height=g.getAttribute("height")),Hl(g,null,{part:S?"svg":v,key:r+"-"+v,draggable:!0})});if(f.length>0){if(Kl.set(r,{imgVdom:f,customDimensions:d}),r!==this.props.icon){t("Icon name mismatch");return}e(Kl.get(r))}else t("Icon not found at ",s)}).catch(u=>{t(u)}):t("Invalid url")}else t("Icon not found",r)}).then(e=>{this.setState({iconElement:e})}).catch(e=>{console.log("icon loading failed:",e)})};onDragStart=e=>{e.dataTransfer.setData("text-icon-drag","true")};componentDidMount(){for(this.props.baseNode.addEventListener("dragstart",this.onDragStart);this.props.baseNode.childNodes[0];)this.props.baseNode.childNodes[0].remove();this.getIconSVG()}componentWillUnmount(){this.props.baseNode.removeEventListener("dragstart",this.onDragStart)}componentDidUpdate(e){e.icon!==this.props.icon&&this.getIconSVG()}};Cf.defaultProps={icon:null};O8=Ht(Oe((i,e)=>({adminMode:i.frontendState.adminMode}))(Cf));Jt(O8,"text-icon",["icon"],{delegatesFocus:!0})});var e0,lk,uk=B(()=>{We();te();e0=class extends Be.Component{constructor(e){super(e)}render(){return m(Q,{children:[m("div",{className:"colorfilter-color"}),m("div",{className:"colorfilter-base"})]})}},lk=e0});function F8(i){let e=se?i.site?.is_template:i.site?.is_template&&parent===window;return{hasSitePackage:i.frontendState.hasSitePackage,adminInitialized:i.adminState?.initialized||!1,inAdminFrame:i.frontendState.inAdminFrame,isMobile:i.frontendState.isMobile,adminMode:i.frontendState.adminMode,showCargoLogo:!e&&i.site?.show_cargo_logo,customHTML:i.site?.custom_html,access_level:i.site?.access_level,website_title:i.site?.website_title,domain_active:i.site?.domain_active,domain:i.site?.domain,site_url:i.site?.site_url,site_id:i.site?.id,fonts:i.site?.fonts,fontsLoaded:i.frontendState.fontsLoaded,stylesheet:i.css?.stylesheet,hasAuth:i.auth.authenticated,canDuplicate:e,activePID:i.frontendState.activePID,itemsInCart:co.default.values(i.commerce.cart).reduce((t,r)=>t+=r?.quantity||0,0),enableColorFilter:!!i.siteDesign.site?.enableColorFilter}}function z8(i){return Et({fetchSitePackage:Fe.fetchSitePackage,updateFrontendState:Fe.updateFrontendState,getAuthToken:Fe.getAuthToken},i)}var ck,co,dk,Ef,Pf,t0,L8,i0,pk,hk=B(()=>{Ce();ri();ht();ck=fe(wp(),1),co=fe(Se(),1);pa();Ne();AA();zt();ga();KM();Jn();tT();Ci();kh();cT();Gb();gT();Ki();RT();pf();Mh();Dy();Ly();Hy();WT();jT();ZT();ek();sk();ak();Di();Rr();uk();te();dk=!1,Ef=!1,Pf=!0,t0=(i=!1)=>{(i||dk&&Ef&&Pf)&&setTimeout(()=>{Pf&&window.dispatchEvent(new CustomEvent("initial-content-visible",{detail:{screenshots:{hiddenIds:["dl-duplicate-site"]}}}))},1500)},L8=async i=>{let e=[];if(i.hasSitePackage!==!0&&e.push(i.fetchSitePackage()),se&&i.fonts&&co.default.isArray(i.fonts)){let t=[...i.fonts].filter(n=>n.provider!=="google"),r=xy({context:"server",families:t});r.then(n=>{i.updateFrontendState({fontsLoaded:co.default.uniq(i.fontsLoaded.concat(t.map(s=>s.family))),serverRenderedFontCSS:n.filter(s=>s??!1)})}),e.push(r)}await Promise.allSettled(e),dk=!0,t0()},i0=class extends oe{constructor(e){if(super(e),this.state={checkedExistingAuth:!!se,checkedCookieAuth:!!se,mobileOffsetsString:null,inheritableFontSizesString:null,linkStylesString:null},!se){if(Promise.resolve().then(()=>(rf(),my)).then(({default:n})=>{this.setState({QuickView:n})}),e.inAdminFrame===!0){let n=document.getElementsByTagName("head")[0],s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href="https://build.cargo.site/frontend/ff2e39/css/front-end/frontend-interface.css",s.id="frontend-interface",n.appendChild(s)}this.setMobileClass(this.props.isMobile),this.setOSClass();let t=0,r=0;window.addEventListener("backdrop-load-start",()=>{Pf=!1,t++}),window.addEventListener("backdrop-load-complete",()=>{r++,r===t&&(Pf=!0,t0())})}this.globalStyleRef=ve(),this.customHTMLRef=ve(),this.scrollingElement={current:se?null:window},this.setWindowTitle()}setWindowTitle=()=>{if(se)return;let e=this.props.store.getState(),t,r="";this.props.activePID&&this.props.activePID!==e.site.homepage_id&&this.props.activePID!==e.site.mobile_homepage_id&&this.props.activePID!=="root"&&(e.pages.byId[this.props.activePID]?t=e.pages.byId[this.props.activePID]:e.sets.byId[this.props.activePID]&&(t=e.sets.byId[this.props.activePID])),this.props.website_title&&(r=`${t?.title?`${t.title} \u2014 `:""}${this.props.website_title}`),r!==document.title&&(document.title=r)};render(){if(this.props.hasSitePackage!==!0)return null;if(this.props.access_level==="password"||this.props.access_level==="private"){let r=null;return this.props.hasAuth&&this.state.checkedExistingAuth===!1?this.fetchingSitePackage||(this.fetchingSitePackage=!0,this.props.fetchSitePackage().finally(()=>{delete this.fetchingSitePackage,this.setState({checkedExistingAuth:!0})})):this.state.checkedCookieAuth===!1?this.checkingAuth||(this.checkingAuth=!0,this.props.getAuthToken({timeout:1500,site_url:this.props.site_url,site_id:this.props.site_id}).then(()=>{this.props.fetchSitePackage().finally(()=>{delete this.checkingAuth,this.setState({checkedCookieAuth:!0})})}).catch(n=>{this.setState({checkedCookieAuth:!0})}).finally(()=>{delete this.checkingAuth})):(this.props.access_level==="password"?r=m(Wl,{target:"site",onSucces:()=>{this.props.fetchSitePackage()}}):this.props.access_level==="private"&&(r=m(zh,{message:"This site is private."})),this.onFontLoad(!0)),m(Q,{children:m(vy,{children:r})})}if(!se&&!Gi&&this.props.domain_active===!0&&this.props.domain!==window.location.host&&!ul)return window.location.hostname=this.props.domain,null;let e=this.props.customHTML,t=this.props.canDuplicate&&!se;return m(Q,{children:[t?m(Q,{children:m("a",{id:"dl-duplicate-site",class:"dl-duplicate",href:`${ca}?duplicate=${this.props.site_id}`,onClick:r=>{this.props.domain_active||(r.preventDefault(),fetch("https://cargo.site/accesstoken"+`?site_id=${this.props.site_id}`,{credentials:"include"}).then(s=>s.json()).then(s=>{s?.access_token?window.location.href=`${ca}?duplicate=${this.props.site_id}`:this.setState({loginBeforeDuplicatingSite:!0})}).catch(()=>{this.setState({loginBeforeDuplicatingSite:!0})}))},children:m("svg",{width:"84",height:"19",viewBox:"0 0 84 19",children:[m("path",{fill:"#027aff",d:"m0,9.5C0,4.25,3.96,0,8.85,0h66.14c4.89,0,8.85,4.25,8.85,9.5s-3.96,9.5-8.85,9.5H8.85C3.96,19,0,14.75,0,9.5Z"}),m("path",{fill:"#fff",d:"m9.29,4.54h2.47c2.38,0,3.6,1.42,3.6,4.2s-1.21,4.25-3.6,4.25h-2.47V4.54Zm1.22,1.08v6.29h1.11c1.7,0,2.49-1,2.49-3.16s-.8-3.13-2.49-3.13h-1.11Z"}),m("path",{fill:"#fff",d:"m22.23,6.61v6.39h-1.14v-1.11h-.08c-.33.79-1.05,1.23-2.01,1.23-1.39,0-2.14-.83-2.14-2.37v-4.14h1.18v3.86c0,1.09.44,1.61,1.38,1.61s1.63-.69,1.63-1.72v-3.74h1.17Z"}),m("path",{fill:"#fff",d:"m27.47,6.51c1.47,0,2.41,1.05,2.41,2.71v1.17c0,1.66-.94,2.71-2.41,2.71-.93,0-1.59-.4-1.85-1.12h-.11v3.16h-1.21V6.61h1.18v1.01h.11c.3-.73.96-1.11,1.88-1.11Zm-.39,1.04c-.98,0-1.6.69-1.6,1.79v.96c0,1.1.62,1.79,1.6,1.79s1.61-.7,1.61-1.79v-.96c0-1.1-.63-1.79-1.61-1.79Z"}),m("path",{fill:"#fff",d:"m37.19,13h-5.36v-.95h2.14v-6.97h-2.09v-.96h3.26v7.93h2.05v.95Z"}),m("path",{fill:"#fff",d:"m41.91,5.12c-.52,0-.91-.36-.91-.87s.39-.87.91-.87.91.36.91.87-.38.87-.91.87Zm2.7,7.88h-5.36v-.95h2.15v-4.49h-2.1v-.95h3.25v5.44h2.06v.95Z"}),m("path",{fill:"#fff",d:"m51.95,8.67h-1.16c-.11-.74-.69-1.18-1.46-1.18-1.04,0-1.61.73-1.61,2.04v.54c0,1.31.57,2.04,1.61,2.04.79,0,1.35-.43,1.46-1.15h1.16c-.16,1.36-1.12,2.16-2.61,2.16-1.78,0-2.8-1.07-2.8-2.93v-.79c0-1.86,1.03-2.92,2.8-2.92,1.49,0,2.46.8,2.61,2.19Z"}),m("path",{fill:"#fff",d:"m55.93,13.11c-1.22,0-2.03-.77-2.03-1.92s.82-1.8,2.31-1.89l1.68-.09v-.56c0-.73-.46-1.14-1.28-1.14-.68,0-1.17.29-1.32.8h-1.15c.12-1.05,1.12-1.77,2.49-1.77,1.54,0,2.42.77,2.42,2.12v4.37h-1.12v-.93h-.11c-.3.66-.99,1.03-1.89,1.03Zm.36-.98c.91,0,1.59-.6,1.59-1.42v-.67l-1.52.08c-.85.05-1.29.4-1.29,1.02s.47,1,1.22,1Z"}),m("path",{fill:"#fff",d:"m62.9,4.87h1.16v1.78h2.53v.97h-2.51v3.45c0,.63.44.98,1.25.98.3,0,1.08-.01,1.22-.03v.96c-.13.02-1.05.05-1.3.05-1.63,0-2.35-.59-2.35-1.96v-3.45h-1.69v-.97h1.69v-1.78Z"}),m("path",{fill:"#fff",d:"m73.1,11.31h1.12c-.17,1.07-1.22,1.81-2.6,1.81-1.79,0-2.82-1.05-2.82-2.87v-.97c0-1.68,1.1-2.79,2.75-2.79s2.68,1.1,2.68,2.92v.69h-4.28v.29c0,1.08.65,1.77,1.66,1.77.76,0,1.32-.32,1.48-.84Zm-1.55-3.86c-.99,0-1.59.68-1.59,1.82h3.13c0-1.14-.57-1.82-1.54-1.82Z"})]})})}):m(Q,{children:this.props.showCargoLogo&&m("a",{id:"cargo-dotsite",class:"cargodotsite",href:"https://cargo.site",target:"_blank",children:m("svg",{width:"84",height:"19",viewBox:"0 0 84 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:m("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.85203 0C3.96319 0 0 4.2533 0 9.50005C0 14.7467 3.9632 18.9999 8.85203 18.9999H74.9948C79.8836 18.9999 83.8468 14.7467 83.8468 9.50005C83.8468 4.2533 79.8836 0 74.9948 0H8.85203ZM63.5625 4.05077H61.4194L61.8679 1.92424H64.0111L63.5625 4.05077ZM61.4858 13.3875H59.4756L61.2034 5.28016H63.2136L61.4858 13.3875ZM14.2135 10.53C13.8812 12.4405 12.17 13.6865 10.0435 13.6865C7.83393 13.6865 6.40517 12.2744 6.40517 9.98175C6.40517 7.34024 8.14958 5.01435 11.0237 5.01435C13.2665 5.01435 14.5458 6.39327 14.5291 8.56963H12.5688C12.5521 7.47314 12.0537 6.62586 10.9573 6.62586C9.34575 6.62586 8.39878 8.33704 8.39878 9.94855C8.39878 11.261 9.07994 12.0916 10.1432 12.0916C11.1068 12.0916 11.9208 11.4437 12.1368 10.53H14.2135ZM20.0586 12.4571C19.5602 13.1051 18.7295 13.6865 17.5998 13.6865C16.0381 13.6865 14.9416 12.6067 14.9416 11.2277C14.9416 9.41695 16.4701 8.68593 18.1314 8.51979L19.8924 8.33704C20.5902 8.27059 20.856 7.98816 20.856 7.52298C20.856 6.99135 20.3576 6.52617 19.5103 6.52617C18.5966 6.52617 18.065 7.00797 17.9321 7.6725H15.7889C16.0049 6.09422 17.3506 5.01435 19.4439 5.01435C21.7864 5.01435 23.1653 6.22713 22.6503 8.66931L21.6535 13.3875H19.7928L19.8562 13.1336C19.9044 12.9393 19.9677 12.6844 20.0586 12.4571ZM16.9352 11.1779C16.9352 11.8591 17.417 12.1913 18.0816 12.1913C19.1781 12.1913 20.1084 11.2776 20.341 10.2475L20.5238 9.43355C20.3078 9.61625 19.9755 9.68275 19.4439 9.76585L18.7295 9.88205C17.7161 10.0482 16.9352 10.3472 16.9352 11.1779ZM25.3126 13.3875L26.1267 9.53325C26.542 7.58944 27.5886 6.99135 28.7682 6.99135C29.0174 6.99135 29.2168 7.02458 29.3663 7.05781L29.7982 5.0808C29.6819 5.04757 29.4992 5.01435 29.2832 5.01435C28.087 5.01435 27.2231 5.89486 26.6417 6.74215C26.7912 6.42649 26.8909 6.11084 26.9241 5.89486L27.0404 5.28016H25.0302L23.3024 13.3875H25.3126ZM36.5982 13.3376C36.05 15.946 34.7043 17.0757 32.4282 17.0757C30.202 17.0757 28.9062 15.9127 28.9062 13.7198H30.9496C30.9496 14.8827 31.448 15.4808 32.4947 15.4808C33.4749 15.4808 34.2557 14.9159 34.5215 13.7031L34.7209 12.7728C34.7873 12.4239 34.8538 12.1581 34.9701 11.8757C34.372 12.6067 33.6908 13.0884 32.611 13.0884C30.933 13.0884 29.4544 11.8092 29.4544 9.63285C29.4544 7.1741 31.1656 5.01435 33.4416 5.01435C34.9036 5.01435 35.7177 5.6955 36.0832 6.62586C36.0998 6.29359 36.1663 5.87825 36.2493 5.49614L36.2992 5.28016H38.3094L36.5982 13.3376ZM31.4646 9.54985C31.4646 10.6961 32.1458 11.4769 33.1924 11.4769C34.7209 11.4769 35.6845 9.91535 35.6845 8.48657C35.6845 7.43992 35.0365 6.62586 33.9899 6.62586C32.5113 6.62586 31.4646 8.07123 31.4646 9.54985ZM42.3466 13.6865C45.2207 13.6865 47.0316 11.56 47.0316 8.6527C47.0316 6.50956 45.5696 5.01435 43.3932 5.01435C40.5856 5.01435 38.7082 7.1741 38.7082 10.1146C38.7082 12.2744 40.1868 13.6865 42.3466 13.6865ZM42.4795 12.0916C41.3498 12.0916 40.7019 11.3773 40.7019 10.0814C40.7019 8.38688 41.6488 6.62586 43.2603 6.62586C44.3568 6.62586 45.038 7.32362 45.038 8.6527C45.038 10.3306 44.091 12.0916 42.4795 12.0916ZM50.4596 10.9121L49.9279 13.3875H47.4027L47.9343 10.9121H50.4596ZM55.1411 13.6865C57.251 13.6865 58.6299 12.6067 58.6299 10.9785C58.6299 9.69935 57.6165 9.06805 56.4369 8.68593L55.357 8.33704C54.5596 8.08784 54.3602 7.87187 54.3602 7.45653C54.3602 6.89167 54.8752 6.52617 55.6395 6.52617C56.6196 6.52617 57.2177 7.10765 57.2343 8.07123H59.2612C59.2114 6.16068 57.8657 5.01435 55.7391 5.01435C53.6624 5.01435 52.4164 6.11084 52.4164 7.5396C52.4164 8.66931 53.164 9.43355 54.5097 9.86545L55.4567 10.1645C56.2209 10.3971 56.6861 10.5798 56.6861 11.1447C56.6861 11.7428 56.0714 12.1747 55.1909 12.1747C54.1276 12.1747 53.4631 11.4769 53.4631 10.3805H51.4362C51.4362 12.4239 52.865 13.6865 55.1411 13.6865ZM67.0193 13.537C67.4845 13.537 67.8167 13.4706 68.0327 13.3875L68.365 11.8092C68.1822 11.8591 68.0327 11.8757 67.8167 11.8757C66.8698 11.8757 66.5707 11.3773 66.7535 10.4967L67.5177 6.89167H69.4947L69.827 5.28016H67.8666L68.4813 2.35619H66.471L65.8563 5.28016H64.0289L63.68 6.89167H65.5075L64.7432 10.4137C64.3445 12.2744 65.1087 13.537 67.0193 13.537ZM77.0728 10.9785C76.6741 12.5236 75.2453 13.6865 73.1022 13.6865C70.9756 13.6865 69.414 12.2744 69.414 10.015C69.414 7.34023 71.2082 5.01435 74.0491 5.01435C76.591 5.01435 77.8204 6.82522 77.3386 9.38365L77.2555 9.83225H71.4076C71.3245 11.0118 71.8728 12.0916 73.1354 12.0916C74.1322 12.0916 74.6306 11.6597 74.9463 10.9785H77.0728ZM74.0159 6.52617C72.9194 6.52617 72.0057 7.30701 71.7066 8.37027H75.4945C75.6606 7.19071 75.0792 6.52617 74.0159 6.52617Z",fill:"white"})})})}),this.props.enableColorFilter?m(lk,{}):null,m("customhtml",{ref:this.customHTMLRef,dangerouslySetInnerHTML:{__html:e}}),m(uT,{}),m(vy,{}),m("style",{ref:this.globalStyleRef,dangerouslySetInnerHTML:{__html:this.props.stylesheet}}),m("style",{id:"mobile-offset-styles",dangerouslySetInnerHTML:{__html:this.state.mobileOffsetsString}}),m("style",{id:"text-style-font-sizes",dangerouslySetInnerHTML:{__html:this.state.inheritableFontSizesString}}),m("style",{id:"link-styles",dangerouslySetInnerHTML:{__html:this.state.linkStylesString}}),m(Nl,{scrollingElement:this.scrollingElement,children:[m(YM,{}),this.state.QuickView&&m(this.state.QuickView,{}),this.props.inAdminFrame&&m(JA,{}),this.state.loginBeforeDuplicatingSite&&m(IA,{loginToUdotCargoOnly:!0,canCreateNewAccount:!0,animateIn:!0,canClickout:!0,templateID:this.props.site_id,onClickout:()=>{this.setState({loginBeforeDuplicatingSite:!1})},onLoginSuccess:r=>{window.location.href=`${ca}?duplicate=${this.props.site_id}`}}),m(Qn,{portalHost:se?null:document.body})]})]})}componentDidMount(){this.loadNewFonts(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,this.showHideAdminInterface(),Ze.on("mobile-change",this.onMobileChange),this.onMobileChange(Ze.data.mobile.active),this.updateCartCounter()}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,t){console.error(e)}onMobileChange=e=>{this.props.updateFrontendState({isMobile:e})};onFontLoad=(e=!1)=>{se||Ef||(Ef=!0,document.documentElement.classList.remove("wf-initial-load"),t0(e))};componentWillUnmount(){Ze.off("mobile-change",this.onMobileChange)}showHideAdminInterface=()=>{this.inPreviewMode?document.querySelector("#frontend-interface")?.setAttribute("disabled",""):document.querySelector("#frontend-interface")?.removeAttribute("disabled")};setOSClass=()=>{!Rp()&&!Mp()&&document.body.classList.add("f-f")};setMobileClass=e=>{e?(document.body.classList.add("mobile"),document.documentElement.classList.add("mobile")):(document.body.classList.remove("mobile"),document.documentElement.classList.remove("mobile"))};setEditingClass=e=>{e?document.body.classList.add("editing"):document.body.classList.remove("editing")};loadNewFonts=()=>{if(!this.props.fonts)return;let e=this.props.fonts.filter(t=>!this.props.fontsLoaded.includes(t.family));e&&e.length>0?(this.props.updateFrontendState({fontsLoaded:co.default.uniq(this.props.fontsLoaded.concat(e.map(t=>t.family)))}),xy({families:e}).then(()=>{Ef||document.fonts.ready.then(()=>{this.onFontLoad()})})):document.fonts.ready.then(()=>{this.onFontLoad()})};componentDidUpdate(e,t){if(!se){if(this.setWindowTitle(),this.inPreviewMode=this.props.inAdminFrame&&this.props.adminMode===!1,typeof this.props.customHTML=="string"&&this.props.customHTML!==e.customHTML&&this.customHTMLRef.current){let r=document.createRange().createContextualFragment(this.props.customHTML);this.customHTMLRef.current.innerHTML="",this.customHTMLRef.current.appendChild(r)}this.props.stylesheet!==e.stylesheet&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.fonts!==e.fonts&&co.default.isArray(this.props.fonts)&&this.loadNewFonts(),this.props.inAdminFrame===!0?(this.setEditingClass(this.props.adminMode),this.props.adminInitialized!==e.adminInitialized&&(this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles())):this.setEditingClass(!1),e.isMobile!==this.props.isMobile&&(this.setMobileClass(this.props.isMobile),this.setMobileOffsets(),this.setInheritableFontSizes(),this.setLinkStyles()),this.props.itemsInCart!==e.itemsInCart&&this.updateCartCounter(),this.showHideAdminInterface()}}updateCartCounter=()=>{document.documentElement.style.setProperty("--cart-item-count",this.props.itemsInCart||""),document.documentElement.style.setProperty("--cart-item-count-display",this.props.itemsInCart?"inline":"")};setLinkStyles=()=>{if(se||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let t=e.sheet;if(!t)return null;let r="",n=[];co.default.each(t.rules,s=>{s?.style?.getPropertyValue("--text-style")&&n.push(s.selectorText)}),co.default.each(t.rules,s=>{n?.forEach(l=>{if(s.selectorText?.startsWith(l)&&s.selectorText?.includes(" a")){let u=s.selectorText?.replace(/^(.*)\s(\a(?:[:.]\S*)?)$/i,(c,d,f)=>f+d);s.selectorText!==u&&(r+=u+" { "+s.style?.cssText+" } ")}})}),this.setState({linkStylesString:r})};setInheritableFontSizes=()=>{if(se||!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let t=e.sheet;if(!t)return null;let r="";co.default.each(t.rules,n=>{if(n.style?.fontSize&&n.style?.fontSize!==""){let s=n.style.fontSize,l=n.selectorText==="bodycopy"?", "+n.selectorText+" *":"";r+=n.selectorText+" {--font-size: "+s+`;}
`,r+=n.selectorText+l+` {font-size: calc(var(--font-scale) * var(--font-size));}
`}}),this.setState({inheritableFontSizesString:r})};setMobileOffsets=()=>{if(se)return;if(!this.props.isMobile){this.setState({mobileOffsetsString:null});return}if(!this.props.stylesheet)return;let e=this.getIsolatedStyleSheet();e.innerHTML=this.props.stylesheet;let t=Al(e.sheet,[{properties:["padding-top","padding-right","padding-bottom","padding-left"],denyList:["ul","ul.lineated","ol","li","h1","h2","h3","h4","h5","h6","sub","sup","blockquote","small-caps","match:audio-player","match:shop-product",".quick-view",".quick-view .caption",".quick-view .caption-background",".mobile .quick-view",".mobile .quick-view .caption"]},{properties:["margin-top","margin-right","margin-bottom","margin-left"],allowList:[".content",".mobile .content"]}]);this.setState({mobileOffsetsString:t})};getIsolatedStyleSheet=co.default.once(e=>{let t=document.implementation.createDocument("http://www.w3.org/1999/xhtml","body",null),r=document.createElement("style");return r.innerHTML=e,t.children[0].appendChild(r),r})};pk=cn(Oe(F8,z8)((0,ck.frontloadConnect)(L8,{onMount:!0,onUpdate:!1})(i0)))});var fk,mk=B(()=>{fk=fe(un(),1);fk.default.defaults.validateStatus=function(i){return i>=200&&i<300}});var If,Af,gk,vk=B(()=>{If=fe(un(),1);Ne();_s();Af=new Map,gk=i=>{let e;i.subscribe(()=>{let t=i.getState();if(!t.adminState||!t.adminState.crdt)return;let r=t.adminState.crdt.publishedAt;r!==e&&Af.clear(),e=r})};se||(If.default.interceptors.request.use(async i=>{if(i.use_cache===!0){let e=If.default.getUri(i);Af.has(e)?i.adapter=function(t){return Af.get(e).cachedResponsePromise}:(i.cachedResponsePromise=new Promise((t,r)=>{i.resolveCachedResponsePromise=t,i.rejectCachedResponsePromise=r}),i.cachedResponsePromise.catch(t=>t),Af.set(e,i))}return i}),If.default.interceptors.response.use(i=>(i.config.resolveCachedResponsePromise&&i.config.resolveCachedResponsePromise(i),i),i=>(i.config?.rejectCachedResponsePromise&&i.config.rejectCachedResponsePromise(i),Promise.reject(i))))});var r0,bk=B(()=>{r0=fe(un(),1);Ne();_s();zt();se||(r0.default.interceptors.request.use(async i=>{if(i.use_auth!==!1){let e=At?.getState();i.headers.Authorization===void 0&&e&&e.auth.data&&e.auth.data.access_token&&(i.headers.Authorization=`Bearer ${e.auth.data.access_token}`)}return i}),r0.default.interceptors.response.use(void 0,i=>(i.response?.status===403&&At.dispatch({type:Pe.AUTHENTICATE_USER_REJECTED,payload:{}}),Promise.reject(i))))});var yk=B(()=>{});var wk=B(()=>{});var xk,Sk=B(()=>{pf();Dy();Mh();Ly();Hy();xk={grid:hn,columnized:uo,slideshow:ni,freeform:zi,justify:fn}});var H8={};var _k,Ck=B(()=>{Si();_s();_k=fe(uv(),1);ri();Kv();zt();Ot();Sk();Di();Vh();window.getClientAPI=()=>({actions:Hv,reducers:Yv,selectors:it,history:Fn,store:At,globals:Lv,addReduxMiddleWare:_k.addMiddleware,combineReducers:Rn,galleryData:xk,editorOverlayAPI:ze,toggleOverlay:Fi.toggleOverlay,openOverlay:Fi.openOverlay,closeOverlay:Fi.closeOverlay})});var Ek,Pk,lfe,At,Fn,_s=B(()=>{Ce();ht();Ek=fe(wp(),1);Lo();Ne();Ep();Pk=fe(Se(),1),lfe=fe(un(),1);xA();zt();SA();hk();Ci();mk();vk();bk();yk();wk();te();!se&&Gi&&(Ck(),ku(H8));({store:At}=wA());if(!se){Fn=Cp(),Ze.setupStore(At),gk(At);let i;try{i=localStorage.getItem("c3-auth")}catch(s){console.log("unable to retrieve stored auth",s)}let e=new URLSearchParams(window.location.search);if(e.has("auth"))try{At.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(e.get("auth"))}}),e.delete("auth");let s=e.toString();s.length>0&&(s="?"+s),window.history.replaceState({},document.title,window.location.origin+window.location.pathname+s)}catch(s){console.error("unable to use querystring auth",s)}else if(i)try{At.dispatch({type:Pe.AUTHENTICATE_USER_FULFILLED,payload:{authenticated:!0,data:JSON.parse(i)}})}catch(s){console.error("unable to retrieve stored auth",s)}window.history.scrollRestoration&&(window.history.scrollRestoration="manual");let t={};Fn.push=Pk.default.wrap(Fn.push,function(s){t[window.location.pathname]=document.scrollingElement.scrollTop;var l=Array.prototype.slice.call(arguments);if(!l.some(u=>u.preventScrollReset===!0)){let u=At.getState().frontendState.activePID,c=At.subscribe(()=>{At.getState().frontendState.activePID!==u&&(document.scrollingElement.scrollTo(0,0),c()),setTimeout(()=>{c()},1e3)})}l.shift(),s.apply(this,l)}),window.addEventListener("popstate",s=>{let l=window.location.pathname,u=Fn.location.pathname;t[u]=document.scrollingElement.scrollTop;let c=At.getState().frontendState.activePID,d=At.subscribe(()=>{if(At.getState().frontendState.activePID!==c&&t[l]){let f=At.getState().frontendState.activePID;setTimeout(async()=>{let g=0,v=!0;for(;v&&At.getState().frontendState.activePID===f;)g>10&&(v=!1),document.scrollingElement.scrollHeight>=t[l]&&(document.scrollingElement.scrollTop=t[l],v=!1),g++,await new Promise(S=>setTimeout(S,100))}),d()}})});let r=m(Zm,{store:At,children:m(cs,{history:Fn,children:m(Ek.Frontload,{noServerRender:!0,children:m(pk,{})})})}),n=document.body;n.querySelector(".content")!==null?Fu(r,n):os(r,n),requestAnimationFrame(()=>{document.body.style.opacity=""})}});_s();export{Fn as history,At as store};
/*! lightbox - v1.0.0 Build date: 2017-10-10
	Wrapper for PhotoSwipe (http://photoswipe.com) Copyright (c) 2015 Dmitry Semenov
	*/
/*! PhotoSwipe - v4.1.2 - 2017-04-05
* http://photoswipe.com
* Copyright (c) 2017 Dmitry Semenov; */
/*! PhotoSwipe Default UI - 4.1.1 - 2015-12-24
 * http://photoswipe.com
 * Copyright (c) 2015 Dmitry Semenov; */
/*! Bundled license information:

react-is/cjs/react-is.production.min.js:
  (** @license React v16.13.1
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

react-is/cjs/react-is.production.min.js:
  (** @license React v17.0.2
   * react-is.production.min.js
   *
   * Copyright (c) Facebook, Inc. and its affiliates.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *)

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=https://build.cargo.site/frontend/ff2e39/index.js.map
